<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BHAO.pk // Design System Showcase</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <style>
        /* The "Data Terminal" Pair - Industrial & Raw */
        @import url('https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700;800&display=swap');

        :root {
            --bg-core: #050505;
            --bg-surface: #0F0F0F;
            --bg-surface-hover: #1a1a1a;
            --bg-surface-active: #222222;

            --border-light: #333333;
            --border-focus: #555555;

            --accent-primary: #CCFF00;
            /* Hyper Lime */
            --accent-secondary: #5D3FD3;
            /* Deep Iris */
            --accent-alert: #FF3366;
            /* Radical Red */
            --accent-success: #00FF88;

            --text-main: #FFFFFF;
            --text-secondary: #AAAAAA;
            --text-muted: #666666;

            --font-display: 'Archivo', sans-serif;
            /* Headlines - ExtraBold/Black for authority */
            --font-body: 'JetBrains Mono', monospace;
            /* Body/Data - Precise, verified */
            --font-mono: 'JetBrains Mono', monospace;

            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 32px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            background-color: #020202;
            /* Darker black for cosmic effect */
            color: var(--text-main);
            font-family: var(--font-body);
            /* JetBrains Mono for body */
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        #app-container {
            display: flex;
            width: 100%;
            height: 100%;
            position: relative;
        }

        /* Animated Cosmic Background (The Green Black Hole) */
        .cosmic-background {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
        }

        /* Starfield texture */
        .cosmic-starfield {
            position: absolute;
            inset: 0;
            background-image: radial-gradient(white 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.3;
        }

        /* Deep Outer Glow (Ambient) */
        .cosmic-outer-glow {
            position: absolute;
            top: 18%;
            left: 50%;
            transform: translateX(-50%);
            width: 1000px;
            height: 600px;
            max-width: 140vw;
            max-height: 800px;
            background: radial-gradient(circle at top, rgba(204, 255, 0, 0.1) 0%, rgba(204, 255, 0, 0.05) 50%, transparent 100%);
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.6;
        }

        /* The Accretion Disk (Faint Ring) */
        .cosmic-accretion {
            position: absolute;
            top: calc(18% + 10%);
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            height: 80%;
            max-width: 90vw;
            max-height: 80vh;
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            box-shadow: 0 -10px 100px rgba(204, 255, 0, 0.1);
        }

        /* The Bright Horizon Arch - creates intense curved line */
        @keyframes pulse-glow {

            0%,
            100% {
                opacity: 0.6;
                transform: translateX(-50%) scale(1);
            }

            50% {
                opacity: 0.8;
                transform: translateX(-50%) scale(1.02);
            }
        }

        .cosmic-horizon {
            position: fixed;
            top: calc(18% + 20%);
            left: 50%;
            transform: translateX(-50%);
            width: 70%;
            height: 400px;
            max-width: 70vw;
            border-top: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 50% 50% 0 0 / 100% 100% 0 0;
            box-shadow: 0 -4px 60px rgba(204, 255, 0, 0.6);
            filter: blur(1px);
            animation: pulse-glow 4s ease-in-out infinite;
            z-index: 1;
            pointer-events: none;
        }

        /* The Core Intense Ring */
        .cosmic-core {
            position: fixed;
            top: calc(18% + 20%);
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 400px;
            max-width: 60vw;
            border-top: 6px solid var(--accent-primary);
            border-radius: 50% 50% 0 0 / 100% 100% 0 0;
            filter: blur(8px);
            opacity: 0.8;
            mix-blend-mode: screen;
            z-index: 1;
            pointer-events: none;
        }

        /* Center Void Gradient - masking bottom to look like horizon */
        .cosmic-void {
            position: fixed;
            top: calc(18% + 25%);
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(to bottom, transparent 0%, rgba(2, 2, 2, 0.8) 30%, #020202 100%);
            z-index: 1;
            pointer-events: none;
        }

        /* Noise texture overlay - animated film grain */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                repeating-linear-gradient(0deg, rgba(255, 255, 255, 0.03) 0px, transparent 1px, transparent 2px, rgba(255, 255, 255, 0.03) 3px),
                repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.03) 0px, transparent 1px, transparent 2px, rgba(255, 255, 255, 0.03) 3px);
            background-size: 200% 200%;
            opacity: 0.03;
            pointer-events: none;
            z-index: 9999;
            animation: noise 0.3s steps(8) infinite;
        }

        @keyframes noise {

            0%,
            100% {
                background-position: 0% 0%;
            }

            25% {
                background-position: 100% 0%;
            }

            50% {
                background-position: 100% 100%;
            }

            75% {
                background-position: 0% 100%;
            }
        }

        /* Disable noise when muted or on low-end devices */
        body.no-noise::before {
            display: none;
        }

        /* Search Bar Animated Glow */
        .search-bar-group {
            position: relative;
        }

        .search-bar-group::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 12px;
            background: linear-gradient(to right, rgba(204, 255, 0, 0.4), rgba(255, 255, 255, 0.1));
            opacity: 0.5;
            filter: blur(4px);
            transition: opacity 0.5s ease;
            z-index: 0;
            pointer-events: none;
        }

        .search-bar-group:hover::before {
            opacity: 1;
        }

        .search-bar-group:has(input:focus)::before {
            opacity: 1;
        }

        .search-bar-group>div {
            position: relative;
            z-index: 1;
        }

        /* Load-in animation - slideFadeBlur */
        @keyframes slideFadeBlur {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.98);
                filter: blur(10px);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
            }
        }

        .animate-entry {
            animation: slideFadeBlur 1s cubic-bezier(0.16, 1, 0.3, 1) both;
        }

        .delay-100 {
            animation-delay: 100ms;
        }

        .delay-200 {
            animation-delay: 200ms;
        }

        .delay-300 {
            animation-delay: 300ms;
        }

        .delay-500 {
            animation-delay: 500ms;
        }

        .delay-700 {
            animation-delay: 700ms;
        }

        /* Custom crosshair cursor for web views */
        main.web-view,
        main.web-view * {
            cursor: crosshair;
        }

        /* Reset cursor for interactive elements in web view */
        main.web-view button,
        main.web-view a,
        main.web-view input,
        main.web-view textarea,
        main.web-view .clickable,
        main.web-view [data-nav] {
            cursor: pointer;
        }

        main.web-view input[type="text"],
        main.web-view input[type="email"],
        main.web-view input[type="password"],
        main.web-view textarea {
            cursor: text;
        }

        /* --- SIDEBAR --- */
        aside {
            width: 260px;
            background: var(--bg-surface);
            border-right: 1px solid var(--border-light);
            display: flex;
            flex-direction: column;
            padding: 20px;
            z-index: 10;
            overflow: hidden;
            transition: transform 0.3s ease;
            flex-shrink: 0;
            /* Sidebar is visible by default */
        }

        /* Hide sidebar when toggled */
        aside.hidden {
            transform: translateX(-100%);
        }

        /* Main menu toggle button */
        .main-menu-toggle {
            position: fixed;
            left: 260px;
            /* Default position when sidebar is visible */
            top: 20px;
            width: 32px;
            height: 32px;
            background: var(--bg-surface);
            border: 1px solid var(--border-light);
            border-left: none;
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 102;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            font-family: var(--font-mono);
            font-size: 12px;
        }

        .main-menu-toggle:hover {
            background: var(--bg-surface-hover);
            color: var(--text-main);
        }

        /* Position toggle button based on sidebar state */
        aside.hidden~.main-menu-toggle {
            left: 0;
        }

        aside:not(.hidden)~.main-menu-toggle {
            left: 260px;
        }

        /* Prevent toggle buttons from overlapping - adjust view-info-toggle position based on main menu and panel state */
        /* Default: when main menu visible and info panel visible */
        aside:not(.hidden)~.main-menu-toggle~main .view-info-panel:not(.hidden)+.view-info-toggle {
            left: 320px;
            top: 20px;
        }

        /* When main menu hidden and info panel visible */
        aside.hidden~.main-menu-toggle~main .view-info-panel:not(.hidden)+.view-info-toggle {
            left: 0;
            top: 20px;
        }

        /* When info panel hidden - always at left 0, adjust top based on main menu state */
        .view-info-panel.hidden+.view-info-toggle {
            left: 0 !important;
        }

        /* When main menu visible and info panel hidden - move view-info-toggle down to avoid overlap */
        aside:not(.hidden)~.main-menu-toggle~main .view-info-panel.hidden+.view-info-toggle {
            top: 60px;
        }

        /* When main menu hidden and info panel hidden - view-info-toggle at top */
        aside.hidden~.main-menu-toggle~main .view-info-panel.hidden+.view-info-toggle {
            top: 20px;
        }

        /* Scrollable nav area */
        nav {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            padding-right: 8px;
            margin-right: -8px;
        }

        /* Hide scrollbar but keep functionality */
        nav::-webkit-scrollbar {
            width: 6px;
        }

        nav::-webkit-scrollbar-track {
            background: transparent;
        }

        nav::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 3px;
        }

        nav::-webkit-scrollbar-thumb:hover {
            background: #444;
        }

        .brand {
            font-family: var(--font-display);
            font-weight: 900;
            /* Black weight for maximum authority */
            font-size: 24px;
            color: var(--accent-primary);
            margin-bottom: 40px;
            letter-spacing: -0.5px;
            display: flex;
            align-items: center;
            gap: 5px;
            /* Match character spacing in "BHAO.PK" - tight and consistent */
        }

        .brand img {
            height: 40px;
            width: auto;
            flex-shrink: 0;
        }


        nav button {
            background: transparent;
            border: none;
            width: 100%;
            padding: 12px 16px;
            text-align: left;
            color: var(--text-secondary);
            font-family: var(--font-body);
            /* JetBrains Mono for body */
            font-size: 14px;
            cursor: pointer;
            border-radius: 8px;
            margin-bottom: 4px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        nav button:hover {
            background: var(--bg-surface-hover);
            color: var(--text-main);
        }

        nav button.active {
            background: var(--bg-surface-active);
            color: var(--text-main);
            font-weight: 500;
            border-left: 3px solid var(--accent-primary);
        }

        nav .section-title {
            font-family: var(--font-mono);
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
            margin: 24px 0 8px 12px;
            letter-spacing: 2px;
            /* Increased from 1px for better breathing room */
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 4px 0;
            transition: color 0.2s;
        }

        nav .section-title:hover {
            color: var(--text-secondary);
        }

        nav .section-title::after {
            content: '▼';
            font-size: 8px;
            transition: transform 0.3s;
            opacity: 0.5;
        }

        nav .section-title.collapsed::after {
            transform: rotate(-90deg);
        }

        nav .section-group {
            overflow: hidden;
            transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.2s ease, margin-bottom 0.3s ease;
            max-height: 500px;
            /* Large enough for content */
            opacity: 1;
            margin-bottom: 0;
        }

        nav .section-group.collapsed {
            max-height: 0;
            opacity: 0;
            margin-bottom: 0;
        }

        /* --- MAIN CONTENT AREA --- */
        main {
            flex: 1;
            position: relative;
            overflow: hidden;
            display: flex;
            transition: margin-left 0.3s ease, width 0.3s ease;
        }

        /* When sidebar is hidden, main content expands to use full width by shifting left */
        /* BUT for web views, we want different behavior - main should NOT expand, only info panel moves */
        aside.hidden~main:not(.web-view) {
            margin-left: -260px;
            /* Shift left to fill the space freed by sidebar */
            width: calc(100% + 260px);
            /* Expand to use the freed space */
        }

        /* For web views: when sidebar is hidden, main should shift but NOT expand */
        /* The showcase inside will be constrained to 1100px and centered */
        aside.hidden~main.web-view {
            margin-left: -260px;
            /* Shift left to fill space freed by sidebar */
            width: calc(100% + 260px);
            /* Expand to fill space, but showcase inside is constrained */
            justify-content: center;
            /* Center the showcase area */
            align-items: flex-start;
            /* Align to top */
        }

        /* When sidebar is visible, main has normal flex behavior */
        aside:not(.hidden)~main {
            margin-left: 0;
            flex: 1;
            width: auto;
        }

        /* For web views: showcase should always have fixed max-width and be centered */
        /* Default: when menu is visible, showcase takes full available width */
        aside:not(.hidden)~main.web-view .showcase-area {
            margin-left: 0;
            margin-right: 0;
            max-width: none;
            width: 100%;
            flex: 1;
        }

        /* For web views: when menu is closed and info panel is closed, showcase expands to fill space */
        aside.hidden~main.web-view .view-info-panel.hidden~.showcase-area {
            margin-left: auto !important;
            width: 100% !important;
            min-width: 0 !important;
            max-width: none !important;
            flex: 1 !important;
        }

        /* For web views: when menu is closed and info panel is active, showcase expands to fill remaining space */
        aside.hidden~main.web-view .view-info-panel:not(.hidden)~.showcase-area {
            margin-left: 320px !important;
            /* Only panel width offset */
            width: auto !important;
            min-width: 0 !important;
            max-width: none !important;
            flex: 1 !important;
        }

        /* For web views: when menu is closed and info panel is active, only info panel moves to take freed space */
        aside.hidden~main.web-view .view-info-panel:not(.hidden) {
            left: 0 !important;
            /* Move to left edge */
            transform: translateX(0) !important;
            transition: left 0.3s ease, transform 0.3s ease;
        }

        /* For web views: when menu is visible and info panel is active, info panel stays at left 0 */
        aside:not(.hidden)~main.web-view .view-info-panel:not(.hidden) {
            left: 0 !important;
            transition: left 0.3s ease, transform 0.3s ease;
        }

        /* --- VIEWS --- */
        .view-section {
            display: none;
            min-height: calc(100vh - 80px);
            height: 100%;
            /* Allow expansion */
            /* Account for padding */
            flex-direction: column;
            justify-content: center;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* Web views should take full width for browser frame */
        main.web-view .view-section {
            max-width: none;
        }

        .view-section.active {
            display: flex;
            animation: slideFadeBlur 0.8s cubic-bezier(0.16, 1, 0.3, 1) both;
        }

        /* For views with content that should not be centered vertically */
        .view-section:has(.component-grid),
        .view-section:has(.browser-frame),
        .view-section:has(.device-frame) {
            justify-content: flex-start;
        }

        /* Interactive Price History Chart with Crosshair */
        .price-chart {
            position: relative;
            height: 60px;
            display: flex;
            align-items: flex-end;
            gap: 3px;
            cursor: crosshair;
        }

        .price-chart-bar {
            flex: 1;
            background: #333;
            transition: all 0.2s ease;
            position: relative;
        }

        .price-chart-bar:hover {
            background: var(--accent-primary);
            opacity: 0.8;
        }

        /* Crosshair overlay for price chart */
        .price-chart-crosshair {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 1px;
            background: var(--accent-primary);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
        }

        .price-chart:hover .price-chart-crosshair {
            opacity: 1;
        }

        .price-chart-tooltip {
            position: absolute;
            background: var(--bg-surface);
            border: 1px solid var(--accent-primary);
            padding: 6px 10px;
            font-family: var(--font-mono);
            font-size: 10px;
            color: var(--accent-primary);
            pointer-events: none;
            opacity: 0;
            transform: translateY(-100%);
            white-space: nowrap;
            z-index: 10;
        }

        /* BHAO Meter - Semi-circle Gauge */
        .bhao-meter {
            position: relative;
            width: 120px;
            height: 60px;
        }

        .bhao-meter-gauge {
            width: 120px;
            height: 60px;
            border: 3px solid var(--border-light);
            border-bottom: none;
            border-radius: 120px 120px 0 0;
            position: relative;
            overflow: hidden;
        }

        .bhao-meter-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 0%;
            background: linear-gradient(to top, var(--accent-alert) 0%, #FFBD2E 50%, var(--accent-primary) 100%);
            transition: height 0.5s ease;
        }

        .bhao-meter-needle {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 2px;
            height: 50px;
            background: var(--text-main);
            transform-origin: bottom center;
            transform: translateX(-50%) rotate(0deg);
            transition: transform 0.5s ease;
        }

        /* Terminal Boot Sequence Loading */
        .terminal-loader {
            font-family: var(--font-mono);
            font-size: 12px;
            color: var(--accent-primary);
            padding: 20px;
            background: var(--bg-core);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            min-height: 100px;
        }

        .terminal-line {
            margin-bottom: 4px;
            opacity: 0;
            animation: terminalType 0.5s ease forwards;
        }

        .terminal-line::before {
            content: '> ';
            color: var(--accent-primary);
        }

        @keyframes terminalType {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .terminal-line:nth-child(1) {
            animation-delay: 0.1s;
        }

        .terminal-line:nth-child(2) {
            animation-delay: 0.3s;
        }

        .terminal-line:nth-child(3) {
            animation-delay: 0.5s;
        }

        .terminal-line:nth-child(4) {
            animation-delay: 0.7s;
        }

        /* Command line style search dropdown */
        .search-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-surface);
            border: 1px solid var(--border-light);
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 100;
            display: none;
        }



        /* Sound toggle button */
        .sound-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: var(--bg-surface);
            border: 1px solid var(--border-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10000;
            transition: all 0.2s ease;
            font-size: 18px;
        }

        .sound-toggle:hover {
            background: var(--bg-surface-hover);
            border-color: var(--accent-primary);
        }

        .sound-toggle.muted {
            opacity: 0.5;
        }

        .search-dropdown.active {
            display: block;
        }

        .search-result-item {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-light);
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .search-result-item:hover {
            background: var(--bg-surface-hover);
        }

        .search-result-name {
            font-family: var(--font-display);
            font-weight: 600;
            margin-bottom: 4px;
        }

        .search-result-sku {
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--text-muted);
        }

        header.page-header {
            margin-bottom: 60px;
            border-bottom: 1px solid var(--border-light);
            padding-bottom: 20px;
        }

        h2 {
            font-family: var(--font-display);
            font-size: 32px;
            margin: 0 0 10px 0;
            font-weight: 800;
            /* ExtraBold for headlines */
            letter-spacing: -0.5px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 16px;
            max-width: 600px;
            line-height: 1.5;
            font-family: var(--font-body);
        }

        /* --- COMPONENT GRID --- */
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }

        .component-card {
            background: var(--bg-surface);
            border: 1px solid var(--border-light);
            border-radius: 16px;
            padding: 24px;
            position: relative;
        }

        .component-card::before {
            content: attr(data-label);
            position: absolute;
            top: -12px;
            left: 20px;
            background: var(--bg-core);
            padding: 0 8px;
            font-family: var(--font-mono);
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* --- ATOMS DISPLAY --- */
        .row {
            display: flex;
            gap: 16px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .label {
            width: 80px;
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--text-muted);
        }

        /* BUTTONS */
        .btn {
            padding: 12px 24px;
            border-radius: 12px;
            border: none;
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        /* Increased letter-spacing for uppercase mono labels */
        .btn[style*="font-family: var(--font-mono)"],
        button[style*="font-family: var(--font-mono)"],
        .badge,
        nav button {
            letter-spacing: 1.2px !important;
        }

        .btn-primary {
            background: var(--accent-primary);
            color: #000;
            position: relative;
            overflow: hidden;
            transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Cursor snapping - magnetic buttons */
        .btn,
        .clickable,
        button,
        [data-nav] {
            transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
        }

        .btn-snap-active {
            transform: translate(var(--snap-x, 0), var(--snap-y, 0)) scale(1.02);
        }

        /* Glitch hover effect with chromatic aberration */
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(204, 255, 0, 0.3);
            animation: glitch 0.3s ease;
        }

        @keyframes glitch {

            0%,
            100% {
                filter: hue-rotate(0deg);
                transform: translateY(-2px) translateX(0);
            }

            20% {
                filter: hue-rotate(5deg);
                transform: translateY(-2px) translateX(-1px);
            }

            40% {
                filter: hue-rotate(-5deg);
                transform: translateY(-2px) translateX(1px);
            }

            60% {
                filter: hue-rotate(3deg);
                transform: translateY(-2px) translateX(-0.5px);
            }

            80% {
                filter: hue-rotate(-3deg);
                transform: translateY(-2px) translateX(0.5px);
            }
        }

        /* Chromatic aberration effect using text-shadow - removed ::before as it conflicts with button content */
        .btn-primary:hover {
            text-shadow:
                1px 0 0 rgba(255, 0, 0, 0.3),
                -1px 0 0 rgba(0, 0, 255, 0.3);
        }

        .btn-primary:active {
            transform: translateY(0);
            opacity: 0.8;
        }

        .btn-primary:disabled {
            background: #333;
            color: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            animation: none;
        }

        .btn-secondary {
            background: transparent;
            border: 1px solid var(--border-light);
            color: var(--text-main);
            transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.2s, background 0.2s;
        }

        .btn-secondary:hover {
            border-color: var(--text-main);
            background: rgba(255, 255, 255, 0.05);
        }

        .btn-ghost {
            background: transparent;
            color: var(--text-secondary);
            transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), color 0.2s;
        }

        .btn-ghost:hover {
            color: var(--accent-primary);
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
        }

        /* INPUTS */
        .input-group {
            position: relative;
            width: 100%;
            max-width: 300px;
            margin-bottom: 16px;
        }

        /* Input group hover effect with gradient blur */
        .input-group::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 12px;
            background: linear-gradient(to right, rgba(204, 255, 0, 0.3), rgba(255, 255, 255, 0.1));
            opacity: 0;
            filter: blur(4px);
            transition: opacity 0.5s ease;
            z-index: 0;
            pointer-events: none;
        }

        .input-group:hover::before {
            opacity: 0.5;
        }

        .input-group:has(.input-field:focus)::before {
            opacity: 1;
        }

        .input-field {
            width: 100%;
            background: var(--bg-core);
            border: 1px solid var(--border-light);
            padding: 14px 16px;
            border-radius: 10px;
            color: var(--text-main);
            font-family: var(--font-body);
            /* JetBrains Mono for body */
            outline: none;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
            z-index: 1;
        }

        .input-field:hover {
            border-color: var(--border-focus);
            background: var(--bg-surface);
        }

        .input-field:focus {
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(204, 255, 0, 0.2), 0 0 20px rgba(204, 255, 0, 0.1);
            background: var(--bg-surface);
            transform: translateY(-1px);
        }

        .input-field:active {
            transform: translateY(0);
        }

        .input-field::placeholder {
            color: #444;
            transition: color 0.2s;
        }

        .input-field:focus::placeholder {
            color: #666;
        }

        .input-label {
            position: absolute;
            left: 12px;
            top: -8px;
            background: var(--bg-surface);
            padding: 0 6px;
            font-size: 11px;
            color: var(--text-muted);
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 2;
        }

        .input-group:has(.input-field:focus) .input-label,
        .input-group:has(.input-field:hover) .input-label {
            color: var(--accent-primary);
        }

        .input-group.error .input-field {
            border-color: var(--accent-alert);
        }

        .input-group.error .input-label {
            color: var(--accent-alert);
        }

        .helper-text {
            font-size: 11px;
            margin-top: 4px;
            color: var(--text-muted);
            margin-left: 4px;
        }

        /* CARDS */
        .product-card {
            width: 240px;
            background: var(--bg-surface);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border-light);
            transition: all 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-primary);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .pc-img {
            height: 180px;
            background: #222;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #444;
        }

        .pc-content {
            padding: 16px;
        }

        .pc-tag {
            position: absolute;
            top: 12px;
            left: 12px;
            background: var(--accent-primary);
            color: #000;
            font-family: var(--font-mono);
            font-weight: 700;
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .pc-title {
            font-weight: 600;
            margin-bottom: 4px;
            font-family: var(--font-display);
        }

        .pc-price {
            color: var(--accent-primary);
            font-family: var(--font-mono);
            font-weight: 700;
            font-variant-numeric: tabular-nums;
        }

        /* Price hierarchy helper class - wrap currency and decimals in spans */
        .price-currency {
            font-size: 0.65em;
            opacity: 0.7;
            font-weight: 500;
        }

        .price-decimal {
            font-size: 0.65em;
            opacity: 0.7;
            font-weight: 500;
        }

        .pc-meta {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 8px;
            display: flex;
            justify-content: space-between;
        }

        /* TOASTS & BADGES */
        .badge {
            padding: 4px 10px;
            border-radius: 100px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            font-family: var(--font-mono);
            border: 1px solid transparent;
            letter-spacing: 1.5px;
        }

        .badge-primary {
            background: rgba(204, 255, 0, 0.1);
            color: var(--accent-primary);
            border-color: rgba(204, 255, 0, 0.2);
        }

        .badge-secondary {
            background: rgba(93, 63, 211, 0.1);
            color: var(--accent-secondary);
            border-color: rgba(93, 63, 211, 0.2);
        }

        .badge-alert {
            background: rgba(255, 51, 102, 0.1);
            color: var(--accent-alert);
            border-color: rgba(255, 51, 102, 0.2);
        }

        .toast {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--bg-surface-active);
            border-left: 3px solid var(--accent-primary);
            padding: 16px;
            border-radius: 8px;
            width: fit-content;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
        }

        .toast-content h4 {
            margin: 0 0 2px 0;
            font-size: 14px;
        }

        .toast-content p {
            margin: 0;
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* MOCKUP CONTAINERS */
        .device-frame {
            background: #000;
            border: 4px solid #333;
            border-radius: 30px;
            padding: 10px;
            display: inline-block;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        .browser-frame {
            border: 1px solid #333;
            border-radius: 12px;
            overflow: hidden;
            background: #000;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .mobile-screen {
            width: 320px;
            height: 650px;
            background: #0a0a0a;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Hide scrollbars in mobile screens - apply to all children and descendants */
        .mobile-screen,
        .mobile-screen *,
        .mobile-screen *::before,
        .mobile-screen *::after {
            scrollbar-width: none !important;
            /* Firefox */
            -ms-overflow-style: none !important;
            /* IE and Edge */
        }

        .mobile-screen::-webkit-scrollbar,
        .mobile-screen *::-webkit-scrollbar {
            display: none !important;
            /* Chrome, Safari, Opera */
            width: 0 !important;
            height: 0 !important;
            background: transparent !important;
        }

        /* Ensure mobile content is still scrollable */
        .mobile-screen [style*="overflow-y: auto"],
        .mobile-screen [style*="overflow-x: auto"] {
            -webkit-overflow-scrolling: touch;
            /* Smooth scrolling on iOS */
        }

        .browser-frame {
            background: #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #333;
            width: 100%;
            height: 100%;
            /* Remove fixed height */
            flex: 1;
            /* Allow expansion */
            display: flex;
            flex-direction: column;
        }

        .browser-header {
            padding: 10px;
            border-bottom: 1px solid #333;
            display: flex;
            gap: 6px;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #444;
        }

        .dot.red {
            background: #ff5f56;
        }

        .dot.yellow {
            background: #ffbd2e;
        }

        .dot.green {
            background: #27c93f;
        }

        .browser-content {
            flex: 1;
            background: #0a0a0a;
            overflow-y: auto;
            position: relative;
        }

        /* Responsive Scaling for Low Resolution Screens */
        @media (max-height: 800px) {
            #app-container {
                zoom: 0.8;
                width: 125vw;
                /* Compensate for zoom */
                height: 125vh;
                /* Compensate for zoom */
            }

            /* Adjust fixed elements that might be affected by zoom */
            .main-menu-toggle {
                top: 15px;
            }

            /* Modal is now outside app-container, so standard sizing works */
            .diagram-modal {
                width: 100vw;
                height: 100vh;
            }
        }

        /* --- UTILITIES --- */
        .code-snippet {
            font-family: var(--font-mono);
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 8px;
            font-size: 12px;
            color: #888;
            margin-top: 12px;
            border: 1px solid #222;
        }

        /* Interactive elements in showcase */
        .clickable {
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .clickable:hover {
            opacity: 0.8;
            transform: translateY(-1px);
        }

        .clickable-product:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        }

        /* Product image styling */
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            background: linear-gradient(135deg, #222 0%, #333 100%);
        }

        /* Filter animations */
        .product-item {
            animation: slideIn 0.4s ease-out;
            transition: all 0.3s ease;
        }

        .product-item.filtered-out {
            animation: slideOut 0.3s ease-in forwards;
            opacity: 0;
            transform: scale(0.95);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes slideOut {
            to {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
        }

        /* Bottom menu icons - simple SVG icons */
        .bottom-menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 8px 12px;
            border-radius: 8px;
            color: var(--text-muted);
            position: relative;
            overflow: hidden;
        }

        .bottom-menu-item::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            margin-left: -6px;
            /* Half of width (12px) to center perfectly */
            width: 12px;
            height: 2px;
            background: var(--accent-primary);
            border-radius: 2px 2px 0 0;
            transform: scaleX(0);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: center;
        }

        .bottom-menu-item:hover {
            background: var(--bg-surface-hover);
            color: var(--text-secondary);
        }

        .bottom-menu-item.active {
            color: var(--text-muted);
        }

        .bottom-menu-item.active::before {
            transform: scaleX(1);
        }

        .bottom-menu-icon {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bottom-menu-item.active .bottom-menu-icon {
            color: var(--text-muted);
            stroke: var(--text-muted);
            transform: scale(1.1);
        }

        .bottom-menu-item:not(.active) .bottom-menu-icon {
            transform: scale(1);
        }

        .bottom-menu-item:hover .bottom-menu-icon {
            color: var(--text-secondary);
            stroke: var(--text-secondary);
        }

        .bottom-menu-label {
            font-size: 10px;
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bottom-menu-item.active .bottom-menu-label {
            color: var(--text-muted);
        }

        /* Search icon styling */
        .search-icon {
            width: 16px;
            height: 16px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            color: var(--text-muted);
            transition: all 0.2s ease;
        }

        .search-icon:hover {
            color: var(--text-secondary);
            stroke: var(--text-secondary);
        }

        /* Custom checkbox styling to match theme */
        input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid var(--border-light);
            border-radius: 4px;
            background: var(--bg-surface);
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        input[type="checkbox"]:hover {
            border-color: var(--text-secondary);
            background: var(--bg-surface-hover);
        }

        input[type="checkbox"]:checked {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
        }

        input[type="checkbox"]:checked::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000;
            font-size: 12px;
            font-weight: 700;
            font-family: var(--font-mono);
        }

        input[type="checkbox"]:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(204, 255, 0, 0.1);
        }

        /* Simple SVG icon components */
        .icon-svg {
            display: inline-block;
            width: 1em;
            height: 1em;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Web navigation bar */
        .web-nav {
            background: var(--bg-surface);
            border-bottom: 1px solid var(--border-light);
            padding: 12px 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 10;
            /* Standard z-index for web nav */
            min-height: 60px;
            gap: 20px;
        }

        .web-nav>div:first-child {
            display: flex;
            align-items: center;
            gap: 6px;
            flex-shrink: 0;
        }

        .web-nav-logo {
            display: flex;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            transition: opacity 0.2s ease;
            flex-shrink: 0;
        }

        .web-nav-logo:hover {
            opacity: 0.8;
        }

        .web-nav-links {
            display: flex;
            gap: 4px;
            align-items: center;
            flex: 1;
            justify-content: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .web-nav-link {
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--text-muted);
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.2s ease;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: 1px solid transparent;
            white-space: nowrap;
            position: relative;
        }

        .web-nav-link:hover {
            color: var(--text-secondary);
            background: var(--bg-surface-hover);
        }

        .web-nav-link::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            margin-left: -10px;
            /* Half of width (20px) to center perfectly */
            width: 20px;
            height: 2px;
            background: var(--accent-primary);
            border-radius: 2px 2px 0 0;
            transform: scaleX(0);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: center;
        }

        .web-nav-link.active {
            color: var(--text-muted);
        }

        .web-nav-link.active::before {
            transform: scaleX(1);
        }

        .web-nav-user {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
        }

        .web-nav-icon {
            width: 16px;
            height: 16px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .web-nav-link.active .web-nav-icon {
            stroke: var(--text-muted);
            color: var(--text-muted);
        }

        .web-nav-link:hover .web-nav-icon {
            stroke: var(--text-secondary);
            color: var(--text-secondary);
        }

        /* View info panel - shifts with main content when sidebar toggles */
        .view-info-panel {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 320px;
            background: var(--bg-surface);
            border-right: 1px solid var(--border-light);
            padding: 40px 32px;
            overflow-y: auto;
            z-index: 100;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, left 0.3s ease;
        }

        /* On non-web views, when info panel is active, move showcase content instead of overlay */
        main:not(.web-view) .view-info-panel:not(.hidden)~.showcase-area {
            margin-left: 320px;
            transition: margin-left 0.3s ease;
        }

        /* When sidebar is hidden on non-web views, main shifts left -260px.
           We need to adjust info panel and showcase area to stay on screen. */
        aside.hidden~main:not(.web-view) .view-info-panel:not(.hidden) {
            left: 0 !important;
            /* Move to left edge */
        }

        aside.hidden~main:not(.web-view) .view-info-panel:not(.hidden)~.showcase-area {
            margin-left: 320px !important;
            /* Only panel width offset */
        }

        /* Reset when info panel is hidden on non-web views */
        main:not(.web-view) .view-info-panel.hidden~.showcase-area {
            margin-left: 0;
            transition: margin-left 0.3s ease;
        }


        /* On web views, keep overlay behavior - web nav will have higher z-index */

        /* Custom scrollbar for view info panel */
        .view-info-panel::-webkit-scrollbar {
            width: 6px;
        }

        .view-info-panel::-webkit-scrollbar-track {
            background: transparent;
        }

        .view-info-panel::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 3px;
        }

        .view-info-panel::-webkit-scrollbar-thumb:hover {
            background: #444;
        }

        .view-info-panel h3 {
            font-family: var(--font-display);
            font-size: 24px;
            font-weight: 900;
            margin: 0 0 8px 0;
            letter-spacing: -0.5px;
            color: var(--text-main);
        }

        .view-info-panel .view-subtitle {
            font-family: var(--font-body);
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 24px;
            line-height: 1.5;
        }

        .view-info-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .view-info-list li {
            font-family: var(--font-body);
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 12px;
            padding-left: 20px;
            position: relative;
            line-height: 1.6;
        }

        .view-info-list li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--accent-primary);
            font-weight: bold;
            font-size: 16px;
        }

        /* Toggle button to show/hide panel */
        .view-info-toggle {
            position: absolute;
            left: 320px;
            /* Default position - will be adjusted by CSS based on main menu state */
            top: 20px;
            width: 32px;
            height: 32px;
            background: var(--bg-surface);
            border: 1px solid var(--border-light);
            border-left: none;
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 101;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            font-family: var(--font-mono);
            font-size: 12px;
        }

        .view-info-toggle:hover {
            background: var(--bg-surface-hover);
            color: var(--text-main);
        }

        /* Hide panel when toggled */
        .view-info-panel.hidden {
            transform: translateX(-100%);
        }

        /* When view-info-panel is hidden, move toggle to left edge */
        .view-info-panel.hidden+.view-info-toggle {
            left: 0 !important;
            /* Override other positioning rules when panel is hidden */
        }

        /* When view-info-panel is visible and main menu is visible, position at 320px */
        aside:not(.hidden)~.main-menu-toggle~main .view-info-panel:not(.hidden)+.view-info-toggle {
            left: 320px;
        }

        /* When view-info-panel is visible and main menu is hidden, position at 0 */
        aside.hidden~.main-menu-toggle~main .view-info-panel:not(.hidden)+.view-info-toggle {
            left: 0;
        }


        /* Showcase area - takes full width now */
        .showcase-area {
            flex: 1;
            overflow-y: auto;
            height: 100%;
            padding: 40px;
            scroll-behavior: smooth;
            width: 100%;
            max-width: none;
            /* Full width for scrollbar positioning */
            margin: 0 auto;
            position: relative;
        }

        .browser-content {
            flex: 1;
            overflow-y: auto;
            position: relative;
            padding: 40px;
            scroll-behavior: smooth;
            width: 100%;
            transition: margin-left 0.3s ease, margin-right 0.3s ease, max-width 0.3s ease, width 0.3s ease, flex 0.3s ease, min-width 0.3s ease;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
        }


        /* Hide page header in showcase */
        .showcase-area .page-header {
            display: none;
        }

        /* View title above showcase */
        .view-title {
            font-family: var(--font-display);
            font-size: 18px;
            font-weight: 800;
            color: var(--text-main);
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-light);
            letter-spacing: -0.3px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn-table-action {
            background: transparent;
            border: 1px solid var(--accent-primary);
            color: var(--accent-primary);
            padding: 6px 12px;
            font-family: var(--font-mono);
            font-size: 11px;
            cursor: pointer;
            border-radius: 4px;
            text-transform: uppercase;
            transition: all 0.2s;
            letter-spacing: 0.5px;
        }

        .btn-table-action:hover {
            background: var(--accent-primary);
            color: var(--bg-core);
            box-shadow: 0 0 10px rgba(204, 255, 0, 0.3);
        }
    </style>
</head>

<body>
    <div id="app-container">

        <aside>
            <div class="brand">
                <img src="assets/img/logomark.svg" alt="HAO Logomark">
                <span>HAO<span style="color: #666; font-weight: 400;">.PK</span></span>
            </div>

            <nav>
                <div class="section-group">
                    <button onclick="haptics.light(); switchView('welcome')" id="nav-welcome">Welcome</button>
                    <button onclick="haptics.light(); switchView('functional-requirements')"
                        id="nav-functional-requirements">Functional Requirements</button>
                </div>
                <div class="section-title" onclick="toggleSection(this)">Diagrams</div>
                <div class="section-group">
                    <button onclick="haptics.light(); openDiagrams('usecase-diagram')" id="nav-usecase-diagram">Use Case
                        Diagram</button>
                    <button onclick="haptics.light(); openDiagrams('system-sequence-diagrams')"
                        id="nav-system-sequence-diagrams">System Sequence Diagrams</button>
                    <button onclick="haptics.light(); openDiagrams('domain-model')" id="nav-domain-model">Domain
                        Model</button>
                    <button onclick="haptics.light(); openDiagrams('software-architecture')"
                        id="nav-software-architecture">Software Architecture</button>
                    <button onclick="haptics.light(); openDiagrams('class-diagram')" id="nav-class-diagram">Class
                        Diagram</button>
                    <button onclick="haptics.light(); openDiagrams('sequence-diagrams')"
                        id="nav-sequence-diagrams">Sequence
                        Diagrams</button>
                    <button onclick="haptics.light(); openDiagrams('entity-relation')" id="nav-entity-relation">Entity
                        Relation</button>
                    <button onclick="haptics.light(); openDiagrams('database-schema')" id="nav-database-schema">Database
                        Schema</button>
                </div>

                <div class="section-title" onclick="toggleSection(this)">Design System</div>
                <div class="section-group">
                    <button onclick="haptics.light(); switchView('atoms')" class="active" id="nav-atoms">Atoms &
                        Typography</button>
                    <button onclick="haptics.light(); switchView('components')" id="nav-components">Components</button>
                </div>

                <div class="section-title" onclick="toggleSection(this)">Mobile App</div>
                <div class="section-group">
                    <button onclick="haptics.light(); switchView('mobile-home')" id="nav-mobile-home">Home</button>
                    <button onclick="haptics.light(); switchView('mobile-search')"
                        id="nav-mobile-search">Search</button>
                    <button onclick="haptics.light(); switchView('mobile-product')"
                        id="nav-mobile-product">Product</button>
                    <button onclick="haptics.light(); switchView('mobile-profile')"
                        id="nav-mobile-profile">Profile</button>
                    <button onclick="haptics.light(); switchView('mobile-login')" id="nav-mobile-login">Login</button>
                    <button onclick="haptics.light(); switchView('mobile-signup')"
                        id="nav-mobile-signup">Signup</button>
                    <button onclick="haptics.light(); switchView('mobile-admin-login')"
                        id="nav-mobile-admin-login">Admin
                        Login</button>
                    <button onclick="haptics.light(); switchView('mobile-admin-dashboard')"
                        id="nav-mobile-admin-dashboard">Admin Dashboard</button>
                </div>

                <div class="section-title" onclick="toggleSection(this)">Web Platform</div>
                <div class="section-group">
                    <button onclick="haptics.light(); switchView('web-home')" id="nav-web-home">Home</button>
                    <button onclick="haptics.light(); switchView('web-search')" id="nav-web-search">Search</button>
                    <button onclick="haptics.light(); switchView('web-product')" id="nav-web-product">Product</button>
                    <button onclick="haptics.light(); switchView('web-profile')" id="nav-web-profile">Profile</button>
                    <button onclick="haptics.light(); switchView('web-login')" id="nav-web-login">Login</button>
                    <button onclick="haptics.light(); switchView('web-signup')" id="nav-web-signup">Signup</button>
                    <button onclick="haptics.light(); switchView('web-admin-login')" id="nav-web-admin-login">Admin
                        Login</button>
                    <button onclick="haptics.light(); switchView('web-admin-dashboard')"
                        id="nav-web-admin-dashboard">Admin
                        Dashboard</button>

                </div>

            </nav>

            <div style="padding: 20px; border-top: 1px solid #222;">
                <button onclick="exportDesigns()" class="btn btn-primary"
                    style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 8px;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    EXPORT DESIGNS
                </button>
            </div>

            <div style="margin-top: auto; font-size: 11px; color: #444; font-family: var(--font-mono);">
                SYSTEM V3.4<br>LAST UPDATE: NOV 2025
            </div>
        </aside>

        <!-- Main menu toggle button -->
        <button class="main-menu-toggle" id="main-menu-toggle"
            onclick="haptics.doubleTap(); toggleMainMenu()">☰</button>

        <!-- Cosmic Background -->
        <div class="cosmic-background">
            <div class="cosmic-starfield"></div>
            <div class="cosmic-outer-glow"></div>
            <div class="cosmic-accretion"></div>
            <div class="cosmic-horizon"></div>
            <div class="cosmic-core"></div>
            <div class="cosmic-void"></div>
        </div>

        <main>
            <!-- View Info Panel -->
            <div class="view-info-panel" id="view-info-panel">
                <h3 id="view-info-title">Atoms & Typography</h3>
                <div class="view-subtitle" id="view-info-subtitle">The fundamental building blocks of the HAO visual
                    language.</div>
                <p id="view-info-description"
                    style="font-family: var(--font-body); font-size: 13px; color: var(--text-secondary); margin-bottom: 20px; line-height: 1.6;">
                </p>
                <ul class="view-info-list" id="view-info-list">
                    <li>Typography system using Archivo and JetBrains Mono</li>
                    <li>Color palette with 5 main accent colors</li>
                    <li>Spacing system based on 4px grid</li>
                    <li>High contrast, data-driven aesthetics</li>
                    <li>Swiss Style inspired design principles</li>
                    <li>Pure Data. No Fluff. philosophy</li>
                </ul>
            </div>

            <!-- Toggle button -->
            <button class="view-info-toggle" id="view-info-toggle"
                onclick="haptics.doubleTap(); toggleViewInfo()">◀</button>

            <!-- Showcase Area -->
            <div class="showcase-area">
                <h2 class="view-title" id="showcase-view-title">Atoms & Typography</h2>

                <!-- WELCOME VIEW -->
                <section id="view-welcome" class="view-section">
                    <div
                        style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
                        <h1
                            style="font-family: var(--font-display); font-weight: 900; font-size: 48px; margin-bottom: 24px; letter-spacing: -1px; color: var(--accent-primary);">
                            BHAO.PK PRICE COMPARISON ENGINE</h1>
                        <div style="color: #666; font-size: 16px; margin-bottom: 12px;">Presented by:</div>
                        <div style="font-size: 24px; font-weight: 600; margin-bottom: 8px;">Ahad Ali</div>
                        <div style="font-size: 24px; font-weight: 600; margin-bottom: 8px;">Sheryar Karim</div>
                        <div style="font-size: 24px; font-weight: 600;">Haris Jamali</div>
                    </div>
                </section>

                <!-- FUNCTIONAL REQUIREMENTS VIEW -->
                <section id="view-functional-requirements" class="view-section">
                    <header class="page-header">
                        <h2>Functional Requirements</h2>
                        <div class="subtitle">Detailed list of system functional requirements and their types.</div>
                    </header>

                    <div class="component-grid">
                        <div class="component-card" style="width: 100%; max-width: 100%; grid-column: 1 / -1;">
                            <table
                                style="width: 100%; border-collapse: collapse; font-family: var(--font-mono); font-size: 14px; text-align: left;">
                                <thead>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <th style="padding: 12px; color: var(--text-secondary); font-weight: 600;">S.
                                            No.</th>
                                        <th style="padding: 12px; color: var(--text-secondary); font-weight: 600;">
                                            Functional Requirement</th>
                                        <th style="padding: 12px; color: var(--text-secondary); font-weight: 600;">Type
                                        </th>
                                        <th style="padding: 12px; color: var(--text-secondary); font-weight: 600;">
                                            Action
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">1</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall view product
                                            listings retrieved from multiple supported e-commerce platforms.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-search')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">2</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall view a
                                            section of "Trending Products" highlighted on the homepage.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-home')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">3</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall view
                                            real-time search suggestions while typing in the search bar.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-home')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">4</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall view a list
                                            of their recently viewed products for quick access.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-home')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">5</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall sort search
                                            results by Price (Low to High).</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-search')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">6</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall filter the
                                            results by specific Store.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-search')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">7</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall filter the
                                            results by Price Range (Min/Max).</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-search')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">8</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall create a new
                                            account (Sign up) using email and password.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-signup')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">9</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall set a
                                            specific target price alert for a product.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-profile-alerts')">View</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">10</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall log into the
                                            system using valid credentials.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-login')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">11</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall log out of
                                            the system.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-profile-settings')">View</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">12</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall recover a
                                            forgotten password via email.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-forgot-password')">View</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">13</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall receive an
                                            email notification when a price drops to or below the target.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-profile-alerts')">View</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">14</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall receive a
                                            push notification on the mobile app for price drops.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('mobile-profile-settings')">View</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">15</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall view a
                                            graphical history of price changes over time.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-product')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">16</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall add products
                                            to a personal "Wishlist".</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-product')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">17</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall remove
                                            products from their "Wishlist".</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-profile-wishlist')">View</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">18</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall identify the
                                            best deals via automatically assigned "Best Value" badges.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-search')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">19</td>
                                        <td style="padding: 12px; color: var(--text-main);">The user shall view
                                            personalized product recommendations based on their browsing history.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-home')">View</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">20</td>
                                        <td style="padding: 12px; color: var(--text-main);">Admin shall log into the
                                            backend dashboard.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-admin-login')">View</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 12px; color: var(--text-main);">21</td>
                                        <td style="padding: 12px; color: var(--text-main);">Admin shall view statistics
                                            on total products scraped and active users.</td>
                                        <td style="padding: 12px; color: var(--accent-primary);">New</td>
                                        <td style="padding: 12px;"><button class="btn-table-action"
                                                onclick="haptics.light(); switchView('web-admin-dashboard')">View</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- ATOMS VIEW -->
                <section id="view-atoms" class="view-section active">
                    <header class="page-header">
                        <h2>Atoms & Typography</h2>
                        <div class="subtitle">The fundamental building blocks of the HAO visual language. High contrast,
                            data-driven aesthetics inspired by Swiss Style.</div>
                    </header>

                    <div class="component-grid">
                        <div class="component-card" data-label="Typography">
                            <h1
                                style="font-family: var(--font-display); font-size: 48px; margin: 0; line-height: 1; font-weight: 900; letter-spacing: -1px;">
                                Display 48</h1>
                            <div class="code-snippet">Archivo / Black (900) - Headlines</div>

                            <h2
                                style="font-family: var(--font-display); font-size: 32px; margin: 20px 0 0; line-height: 1.2; font-weight: 800; letter-spacing: -0.5px;">
                                Heading 32</h2>
                            <div class="code-snippet">Archivo / ExtraBold (800)</div>

                            <p
                                style="font-family: var(--font-body); font-size: 16px; margin: 20px 0 0; line-height: 1.6;">
                                Body Large 16px - Pure Data. No Fluff. Precise and verified.</p>
                            <div class="code-snippet">JetBrains Mono / Regular</div>

                            <p
                                style="font-family: var(--font-mono); font-size: 14px; margin: 20px 0 0; color: var(--accent-primary); font-weight: 700;">
                                <span class="price-currency">Rs.</span> 345<span class="price-decimal">,000</span>
                            </p>
                            <div class="code-snippet">JetBrains Mono / Bold - Prices & Specs</div>
                        </div>

                        <div class="component-card" data-label="Color Palette">
                            <div class="row">
                                <div
                                    style="width: 60px; height: 60px; background: var(--accent-primary); border-radius: 12px;">
                                </div>
                                <div>
                                    <div style="font-weight: 700; color: var(--accent-primary);">Hyper Lime</div>
                                    <div style="font-family: var(--font-mono); font-size: 12px; color: #888;">#CCFF00
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div
                                    style="width: 60px; height: 60px; background: var(--accent-secondary); border-radius: 12px;">
                                </div>
                                <div>
                                    <div style="font-weight: 700; color: var(--accent-secondary);">Deep Iris</div>
                                    <div style="font-family: var(--font-mono); font-size: 12px; color: #888;">#5D3FD3
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div
                                    style="width: 60px; height: 60px; background: var(--bg-surface-hover); border-radius: 12px; border: 1px solid #333;">
                                </div>
                                <div>
                                    <div style="font-weight: 700; color: #fff;">Surface Hover</div>
                                    <div style="font-family: var(--font-mono); font-size: 12px; color: #888;">#1A1A1A
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>


                <!-- COMPONENTS VIEW -->
                <section id="view-components" class="view-section">
                    <header class="page-header">
                        <h2>Interactive Components</h2>
                        <div class="subtitle">Atomic elements in various states. Hover over elements to see
                            interactions.
                        </div>
                    </header>

                    <div class="component-grid">

                        <!-- Buttons -->
                        <div class="component-card" data-label="Buttons">
                            <div class="row">
                                <span class="label">Primary</span>
                                <button class="btn btn-primary">CTA Action</button>
                            </div>
                            <div class="row">
                                <span class="label">Hover</span>
                                <button class="btn btn-primary"
                                    style="transform: translateY(-2px); box-shadow: 0 4px 20px rgba(204,255,0,0.3);">Hover
                                    State</button>
                            </div>
                            <div class="row">
                                <span class="label">Disabled</span>
                                <button class="btn btn-primary" disabled>Disabled</button>
                            </div>
                            <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
                            <div class="row">
                                <span class="label">Secondary</span>
                                <button class="btn btn-secondary">View Details</button>
                            </div>
                            <div class="row">
                                <span class="label">Ghost</span>
                                <button class="btn btn-ghost">Skip Step</button>
                            </div>
                        </div>

                        <!-- Inputs -->
                        <div class="component-card" data-label="Forms">
                            <div class="input-group">
                                <label class="input-label">Default</label>
                                <input type="text" class="input-field" placeholder="Enter product name...">
                            </div>

                            <div class="input-group">
                                <label class="input-label" style="color: var(--accent-primary);">Active / Focus</label>
                                <input type="text" class="input-field" value="iPhone 15 Pro"
                                    style="border-color: var(--accent-primary); box-shadow: 0 0 0 1px var(--accent-primary);">
                            </div>

                            <div class="input-group error">
                                <label class="input-label">Error State</label>
                                <input type="text" class="input-field" value="Invalid URL format">
                                <div class="helper-text" style="color: var(--accent-alert);">Please enter a valid email
                                </div>
                            </div>
                        </div>

                        <!-- Cards -->
                        <div class="component-card" data-label="Cards">
                            <div class="product-card">
                                <div class="pc-img">
                                    <span class="pc-tag">SAVE 20%</span>
                                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="1">
                                        <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                                        <line x1="12" y1="18" x2="12.01" y2="18"></line>
                                    </svg>
                                </div>
                                <div class="pc-content">
                                    <div class="pc-title">iPhone 15 Pro</div>
                                    <div class="pc-price"><span class="price-currency">Rs.</span> 345<span
                                            class="price-decimal">,000</span></div>
                                    <div class="pc-meta">
                                        <span>Daraz.pk</span>
                                        <span style="color: var(--accent-secondary);">★ 4.8</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Status -->
                        <div class="component-card" data-label="Feedback">
                            <div class="toast">
                                <div style="color: var(--accent-primary);">✓</div>
                                <div class="toast-content">
                                    <h4>Added to Wishlist</h4>
                                    <p>We'll notify you when price drops.</p>
                                </div>
                            </div>

                            <div class="row" style="margin-top: 30px;">
                                <span class="badge badge-primary">Best Value</span>
                                <span class="badge badge-secondary">Official</span>
                                <span class="badge badge-alert">High Price</span>
                            </div>
                        </div>

                    </div>
                </section>


                <!-- MOBILE: HOME -->
                <section id="view-mobile-home" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Home</h2>
                        <div class="subtitle">Trending deals and personalized recommendations.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <!-- Top Search Bar -->
                                <div
                                    style="padding: 16px; background: #111; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 10;">
                                    <div class="search-bar-group">
                                        <div
                                            style="background: #0a0a0a; border: 1px solid #333; border-radius: 12px; padding: 10px 12px; display: flex; align-items: center; gap: 10px;">
                                            <svg class="search-icon" viewBox="0 0 24 24"
                                                style="width: 16px; height: 16px;">
                                                <circle cx="11" cy="11" r="8"></circle>
                                                <path d="m21 21-4.35-4.35"></path>
                                            </svg>
                                            <input type="text" placeholder="Search products..."
                                                style="flex: 1; background: transparent; border: none; color: #fff; font-family: var(--font-body); font-size: 14px; outline: none;"
                                                onfocus="this.parentElement.nextElementSibling.style.display='block'"
                                                onblur="setTimeout(()=>this.parentElement.nextElementSibling.style.display='none', 200)">
                                        </div>
                                        <div class="search-dropdown"
                                            style="top: 100%; left: 0; right: 0; width: auto; margin-top: 4px;">
                                            <div class="search-result-item">
                                                <div class="search-result-name">iPhone 15 Pro</div>
                                            </div>
                                            <div class="search-result-item">
                                                <div class="search-result-name">Samsung S24</div>
                                            </div>
                                            <div class="search-result-item">
                                                <div class="search-result-name">MacBook Air</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div style="flex: 1; overflow-y: auto; padding: 16px;">
                                    <!-- Trending -->
                                    <div
                                        style="font-size: 11px; color: #666; text-transform: uppercase; margin-bottom: 12px; font-family: var(--font-mono);">
                                        TRENDING NOW</div>
                                    <div
                                        style="display: flex; gap: 12px; margin-bottom: 24px; overflow-x: auto; padding-bottom: 8px;">
                                        <div class="product-card clickable clickable-product"
                                            style="width: 160px; flex-shrink: 0;" data-nav="mobile-product"
                                            data-product-id="iphone-15">
                                            <div class="pc-img" style="height: 120px;"><span class="pc-tag"
                                                    style="font-size: 9px; padding: 2px 6px;">HOT</span></div>
                                            <div class="pc-content" style="padding: 12px;">
                                                <div class="pc-title" style="font-size: 14px;">iPhone 15</div>
                                                <div class="pc-price" style="font-size: 16px;"><span
                                                        class="price-currency">Rs.</span> 315<span
                                                        class="price-decimal">k</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product"
                                            style="width: 160px; flex-shrink: 0;" data-nav="mobile-product"
                                            data-product-id="airpods-pro">
                                            <div class="pc-img" style="height: 120px;"></div>
                                            <div class="pc-content" style="padding: 12px;">
                                                <div class="pc-title" style="font-size: 14px;">AirPods Pro</div>
                                                <div class="pc-price" style="font-size: 16px;"><span
                                                        class="price-currency">Rs.</span> 65<span
                                                        class="price-decimal">k</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product"
                                            style="width: 160px; flex-shrink: 0;" data-nav="mobile-product"
                                            data-product-id="ipad-pro">
                                            <div class="pc-img" style="height: 120px;"><span class="pc-tag"
                                                    style="font-size: 9px; padding: 2px 6px;">NEW</span></div>
                                            <div class="pc-content" style="padding: 12px;">
                                                <div class="pc-title" style="font-size: 14px;">iPad Pro</div>
                                                <div class="pc-price" style="font-size: 16px;"><span
                                                        class="price-currency">Rs.</span> 245<span
                                                        class="price-decimal">k</span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Recently Viewed -->
                                    <div
                                        style="font-size: 11px; color: #666; text-transform: uppercase; margin-bottom: 12px; font-family: var(--font-mono);">
                                        RECENTLY VIEWED</div>
                                    <div
                                        style="display: flex; gap: 12px; margin-bottom: 24px; overflow-x: auto; padding-bottom: 8px;">
                                        <div class="product-card clickable clickable-product"
                                            style="width: 140px; flex-shrink: 0;" data-nav="mobile-product"
                                            data-product-id="macbook-air-m2">
                                            <div class="pc-img" style="height: 100px;"></div>
                                            <div class="pc-content" style="padding: 10px;">
                                                <div class="pc-title" style="font-size: 13px;">MacBook Air</div>
                                                <div class="pc-price" style="font-size: 14px;"><span
                                                        class="price-currency">Rs.</span> 285<span
                                                        class="price-decimal">k</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product"
                                            style="width: 140px; flex-shrink: 0;" data-nav="mobile-product"
                                            data-product-id="sony-wh1000xm5">
                                            <div class="pc-img" style="height: 100px;"></div>
                                            <div class="pc-content" style="padding: 10px;">
                                                <div class="pc-title" style="font-size: 13px;">Sony XM5</div>
                                                <div class="pc-price" style="font-size: 14px;"><span
                                                        class="price-currency">Rs.</span> 85<span
                                                        class="price-decimal">k</span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Recommendations -->
                                    <div
                                        style="font-size: 11px; color: #666; text-transform: uppercase; margin-bottom: 12px; font-family: var(--font-mono);">
                                        RECOMMENDED FOR YOU</div>
                                    <div class="product-card clickable clickable-product"
                                        style="width: 100%; margin-bottom: 16px;" data-nav="mobile-product"
                                        data-product-id="samsung-s24">
                                        <div class="pc-img" style="height: 180px;"><span class="pc-tag">SAVE 20%</span>
                                        </div>
                                        <div class="pc-content">
                                            <div class="pc-title">Samsung S24 Ultra</div>
                                            <div class="pc-price" style="font-size: 20px;"><span
                                                    class="price-currency">Rs.</span> 320<span
                                                    class="price-decimal">,000</span></div>
                                            <div class="pc-meta" style="margin-top: 8px;"><span>Daraz.pk</span><span
                                                    style="color: var(--accent-secondary);">★ 4.8</span></div>
                                            <button class="btn btn-primary"
                                                style="width: 100%; margin-top: 12px; justify-content: center; font-size: 12px; padding: 10px;"
                                                onclick="event.stopPropagation(); switchView('mobile-product', null, 'samsung-s24');">TRACK
                                                PRICE</button>
                                        </div>
                                    </div>


                                </div>
                                <div
                                    style="height: 60px; background: rgba(20,20,20,0.95); backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #333;">
                                    <div
                                        style="width: 6px; height: 6px; background: var(--accent-primary); border-radius: 50%;">
                                    </div>
                                    <div style="width: 24px; height: 24px; background: #444; border-radius: 4px;"></div>
                                    <div style="width: 24px; height: 24px; background: #444; border-radius: 50%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MOBILE: SEARCH -->
                <section id="view-mobile-search" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Search Results</h2>
                        <div class="subtitle">Filtered product listings with key specs and price comparisons.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 16px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; gap: 12px;">
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;"
                                        data-nav="mobile-home">←</span>
                                    <div style="flex: 1; font-family: var(--font-body); font-size: 14px; color: #fff;">
                                        "iPhone 15"
                                    </div>
                                    <div class="clickable"
                                        style="font-size: 12px; color: var(--accent-primary); display: flex; align-items: center; gap: 4px;">
                                        Sort ▼
                                    </div>
                                </div>

                                <div
                                    style="padding: 12px 16px; background: #0a0a0a; border-bottom: 1px solid #222; display: flex; justify-content: space-between; align-items: center;">
                                    <div style="font-size: 11px; color: #666; font-family: var(--font-mono);">12 RESULTS
                                    </div>
                                    <button class="btn btn-ghost clickable"
                                        style="font-size: 11px; padding: 6px 12px; border: 1px solid #333;"
                                        onclick="event.stopPropagation(); haptics.doubleTap(); toggleMobileFilters();"
                                        id="mobile-filter-toggle">FILTERS</button>
                                </div>

                                <div id="mobile-filters-panel"
                                    style="display: none; padding: 16px; background: #0a0a0a; border-bottom: 1px solid #222;">
                                    <div
                                        style="font-size: 11px; color: #666; text-transform: uppercase; margin-bottom: 12px; font-family: var(--font-mono);">
                                        FILTERS</div>
                                    <div style="margin-bottom: 16px;">
                                        <div
                                            style="font-size: 12px; font-weight: 600; margin-bottom: 8px; font-family: var(--font-mono);">
                                            PRICE RANGE</div>
                                        <div style="display: flex; gap: 8px;">
                                            <input type="text" class="input-field" placeholder="Min"
                                                style="flex: 1; padding: 8px; font-size: 12px;">
                                            <input type="text" class="input-field" placeholder="Max"
                                                style="flex: 1; padding: 8px; font-size: 12px;">
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 16px;">
                                        <div
                                            style="font-size: 12px; font-weight: 600; margin-bottom: 8px; font-family: var(--font-mono);">
                                            STORE</div>
                                        <div style="display: flex; flex-direction: column; gap: 6px;">
                                            <label
                                                style="display: flex; align-items: center; gap: 8px; font-size: 12px; color: #aaa; cursor: pointer;"><input
                                                    type="checkbox"> Daraz</label>
                                            <label
                                                style="display: flex; align-items: center; gap: 8px; font-size: 12px; color: #aaa; cursor: pointer;"><input
                                                    type="checkbox"> Telemart</label>
                                            <label
                                                style="display: flex; align-items: center; gap: 8px; font-size: 12px; color: #aaa; cursor: pointer;"><input
                                                    type="checkbox"> Shophive</label>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary"
                                        style="width: 100%; justify-content: center; font-size: 11px; padding: 8px;">APPLY</button>
                                </div>

                                <div style="flex: 1; overflow-y: auto; padding: 16px;">
                                    <div class="product-card clickable clickable-product product-item"
                                        style="width: 100%; margin-bottom: 12px; display: flex; padding: 12px; position: relative;"
                                        data-nav="mobile-product" data-product-id="iphone-15-pro">
                                        <div class="pc-img"
                                            style="width: 100px; height: 100px; border-radius: 8px; flex-shrink: 0; overflow: hidden;">
                                        </div>
                                        <div style="flex: 1; margin-left: 12px;">
                                            <div class="pc-title" style="font-size: 16px; margin-bottom: 4px;">iPhone 15
                                                Pro
                                            </div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 6px;">256GB • 5G •
                                                Daraz</div>
                                            <div class="pc-price" style="font-size: 18px;"><span
                                                    class="price-currency">Rs.</span> 345<span
                                                    class="price-decimal">,000</span></div>
                                            <div
                                                style="font-size: 11px; color: var(--accent-secondary); margin-top: 4px;">
                                                ★
                                                4.9 (120)</div>
                                        </div>
                                        <span class="badge badge-primary"
                                            style="position: absolute; top: 12px; right: 12px; font-size: 9px;">BEST</span>
                                    </div>
                                    <div class="product-card clickable clickable-product product-item"
                                        style="width: 100%; margin-bottom: 12px; display: flex; padding: 12px; position: relative;"
                                        data-nav="mobile-product" data-product-id="iphone-15">
                                        <div class="pc-img"
                                            style="width: 100px; height: 100px; border-radius: 8px; flex-shrink: 0; overflow: hidden;">
                                        </div>
                                        <div style="flex: 1; margin-left: 12px;">
                                            <div class="pc-title" style="font-size: 16px; margin-bottom: 4px;">iPhone 15
                                            </div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 6px;">128GB •
                                                Telemart
                                            </div>
                                            <div class="pc-price" style="font-size: 18px;"><span
                                                    class="price-currency">Rs.</span> 315<span
                                                    class="price-decimal">,000</span></div>
                                            <div
                                                style="font-size: 11px; color: var(--accent-secondary); margin-top: 4px;">
                                                ★
                                                4.5 (89)</div>
                                        </div>
                                    </div>
                                    <div class="product-card clickable clickable-product product-item"
                                        style="width: 100%; margin-bottom: 12px; display: flex; padding: 12px; position: relative;"
                                        data-nav="mobile-product" data-product-id="iphone-15-plus">
                                        <div class="pc-img"
                                            style="width: 100px; height: 100px; border-radius: 8px; flex-shrink: 0; overflow: hidden;">
                                        </div>
                                        <div style="flex: 1; margin-left: 12px;">
                                            <div class="pc-title" style="font-size: 16px; margin-bottom: 4px;">iPhone 15
                                                Plus</div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 6px;">256GB •
                                                Shophive
                                            </div>
                                            <div class="pc-price" style="font-size: 18px;"><span
                                                    class="price-currency">Rs.</span> 335<span
                                                    class="price-decimal">,000</span></div>
                                            <div
                                                style="font-size: 11px; color: var(--accent-secondary); margin-top: 4px;">
                                                ★
                                                4.7 (56)</div>
                                        </div>
                                    </div>
                                    <div class="product-card clickable clickable-product product-item"
                                        style="width: 100%; margin-bottom: 12px; display: flex; padding: 12px; position: relative;"
                                        data-nav="mobile-product" data-product-id="macbook-air-m2">
                                        <div class="pc-img"
                                            style="width: 100px; height: 100px; border-radius: 8px; flex-shrink: 0; overflow: hidden;">
                                        </div>
                                        <div style="flex: 1; margin-left: 12px;">
                                            <div class="pc-title" style="font-size: 16px; margin-bottom: 4px;">MacBook
                                                Air
                                                M2</div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 6px;">13" • 8GB RAM
                                                •
                                                256GB</div>
                                            <div class="pc-price" style="font-size: 18px;"><span
                                                    class="price-currency">Rs.</span> 285<span
                                                    class="price-decimal">,000</span></div>
                                            <div
                                                style="font-size: 11px; color: var(--accent-secondary); margin-top: 4px;">
                                                ★
                                                4.9 (78)</div>
                                        </div>
                                        <span class="badge badge-primary"
                                            style="position: absolute; top: 12px; right: 12px; font-size: 9px;">Drop
                                            -5%</span>
                                    </div>
                                    <div class="product-card clickable clickable-product product-item"
                                        style="width: 100%; margin-bottom: 12px; display: flex; padding: 12px; position: relative;"
                                        data-nav="mobile-product" data-product-id="sony-wh1000xm5">
                                        <div class="pc-img"
                                            style="width: 100px; height: 100px; border-radius: 8px; flex-shrink: 0; overflow: hidden;">
                                        </div>
                                        <div style="flex: 1; margin-left: 12px;">
                                            <div class="pc-title" style="font-size: 16px; margin-bottom: 4px;">Sony
                                                WH-1000XM5</div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 6px;">Noise
                                                Cancelling
                                                • 30hr</div>
                                            <div class="pc-price" style="font-size: 18px;"><span
                                                    class="price-currency">Rs.</span> 85<span
                                                    class="price-decimal">,000</span></div>
                                            <div
                                                style="font-size: 11px; color: var(--accent-secondary); margin-top: 4px;">
                                                ★
                                                4.6 (203)</div>
                                        </div>
                                    </div>

                                    <!-- Pagination -->
                                    <div style="display: flex; justify-content: center; gap: 8px; margin-top: 20px;">
                                        <button class="btn btn-secondary"
                                            style="padding: 8px 12px; font-size: 12px;">Prev</button>
                                        <button class="btn btn-primary"
                                            style="padding: 8px 12px; font-size: 12px;">1</button>
                                        <button class="btn btn-secondary"
                                            style="padding: 8px 12px; font-size: 12px;">2</button>
                                        <button class="btn btn-secondary"
                                            style="padding: 8px 12px; font-size: 12px;">Next</button>
                                    </div>

                                    <!-- Empty State -->
                                    <div id="mobile-search-empty"
                                        style="display: none; text-align: center; padding: 40px 0;">
                                        <div style="font-size: 40px; margin-bottom: 16px;">🔍</div>
                                        <div style="font-size: 16px; margin-bottom: 8px;">No results found</div>
                                        <div style="font-size: 12px; color: #666;">Try adjusting your filters</div>
                                    </div>


                                </div>
                                <div
                                    style="height: 60px; background: rgba(20,20,20,0.95); backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #333;">
                                    <div style="width: 6px; height: 6px; background: #444; border-radius: 50%;"></div>
                                    <div
                                        style="width: 24px; height: 24px; background: var(--accent-primary); border-radius: 4px;">
                                    </div>
                                    <div style="width: 24px; height: 24px; background: #444; border-radius: 50%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MOBILE: PRODUCT -->
                <section id="view-mobile-product" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Product Detail</h2>
                        <div class="subtitle">Comprehensive product information with price history and comparisons.
                        </div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 20px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; gap: 12px; position: sticky; top: 0; z-index: 10;">
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;"
                                        data-nav="back">←</span>
                                    <span
                                        style="flex: 1; font-family: var(--font-display); font-weight: 800; font-size: 16px;">Product
                                        Details</span>
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;">♡</span>
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;">➦</span>
                                </div>
                                <div style="flex: 1; overflow-y: auto;">
                                    <!-- Image Carousel -->
                                    <div
                                        style="height: 300px; background: #222; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                                        <span class="badge badge-primary"
                                            style="position: absolute; top: 12px; left: 12px; z-index: 1;">BEST
                                            DEAL</span>
                                        <div style="font-size: 64px; color: #444;">📱</div>
                                        <div style="position: absolute; bottom: 12px; display: flex; gap: 6px;">
                                            <div style="width: 8px; height: 8px; background: #fff; border-radius: 50%;">
                                            </div>
                                            <div style="width: 8px; height: 8px; background: #666; border-radius: 50%;">
                                            </div>
                                            <div style="width: 8px; height: 8px; background: #666; border-radius: 50%;">
                                            </div>
                                        </div>
                                    </div>

                                    <div style="padding: 20px;">
                                        <!-- Title & Price -->
                                        <h2
                                            style="font-family: var(--font-display); font-weight: 900; font-size: 24px; margin: 0 0 8px; letter-spacing: -0.5px;">
                                            iPhone 15 Pro</h2>
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                            <div style="font-size: 14px; color: #aaa; font-family: var(--font-body);">
                                                256GB
                                                • Titanium • Daraz</div>
                                            <div style="color: var(--accent-secondary); font-weight: bold;">★ 4.9 (120)
                                            </div>
                                        </div>
                                        <div class="pc-price" style="font-size: 32px; margin-bottom: 20px;"><span
                                                class="price-currency">Rs.</span> 345<span
                                                class="price-decimal">,000</span>
                                        </div>

                                        <!-- Action Buttons -->
                                        <div style="display: flex; gap: 12px; margin-bottom: 24px;">
                                            <button class="btn btn-primary clickable"
                                                style="flex: 1; justify-content: center;"
                                                onclick="event.stopPropagation(); openExternalProduct();">Open in
                                                Daraz</button>
                                            <button class="btn btn-secondary clickable"
                                                style="flex: 1; justify-content: center;"
                                                onclick="event.stopPropagation();">Set Alert</button>
                                        </div>

                                        <!-- Price History Graph -->
                                        <div
                                            style="background: #111; padding: 16px; border-radius: 12px; margin-bottom: 24px; border: 1px solid #333;">
                                            <div
                                                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                                <div
                                                    style="font-size: 12px; color: #666; font-family: var(--font-mono); letter-spacing: 1px;">
                                                    PRICE HISTORY</div>
                                                <div style="color: var(--accent-success);">↓ 5% (Last 30
                                                    Days)</div>
                                            </div>
                                            <div class="price-chart" style="height: 120px;">
                                                <div class="price-chart-bar" style="height: 30%;" data-price="Rs. 360k"
                                                    data-date="3mo"></div>
                                                <div class="price-chart-bar" style="height: 50%;" data-price="Rs. 355k"
                                                    data-date="2mo"></div>
                                                <div class="price-chart-bar" style="height: 40%;" data-price="Rs. 350k"
                                                    data-date="1mo"></div>
                                                <div class="price-chart-bar" style="height: 60%;" data-price="Rs. 348k"
                                                    data-date="2w"></div>
                                                <div class="price-chart-bar"
                                                    style="height: 25%; background: var(--accent-primary);"
                                                    data-price="Rs. 345k" data-date="Now"></div>
                                                <div class="price-chart-crosshair"></div>
                                                <div class="price-chart-tooltip"></div>
                                            </div>
                                        </div>

                                        <!-- Specs Table -->
                                        <div style="margin-bottom: 24px;">
                                            <div
                                                style="font-size: 14px; font-weight: 700; margin-bottom: 12px; font-family: var(--font-mono);">
                                                SPECIFICATIONS</div>
                                            <div
                                                style="background: #111; border-radius: 8px; border: 1px solid #333; overflow: hidden;">
                                                <div
                                                    style="display: flex; padding: 12px; border-bottom: 1px solid #222;">
                                                    <div style="width: 100px; color: #666; font-size: 13px;">Display
                                                    </div>
                                                    <div style="flex: 1; font-size: 13px;">6.1" Super Retina XDR</div>
                                                </div>
                                                <div
                                                    style="display: flex; padding: 12px; border-bottom: 1px solid #222;">
                                                    <div style="width: 100px; color: #666; font-size: 13px;">Processor
                                                    </div>
                                                    <div style="flex: 1; font-size: 13px;">A17 Pro chip</div>
                                                </div>
                                                <div
                                                    style="display: flex; padding: 12px; border-bottom: 1px solid #222;">
                                                    <div style="width: 100px; color: #666; font-size: 13px;">Camera
                                                    </div>
                                                    <div style="flex: 1; font-size: 13px;">48MP Main | Ultra Wide |
                                                        Telephoto</div>
                                                </div>
                                                <div style="display: flex; padding: 12px;">
                                                    <div style="width: 100px; color: #666; font-size: 13px;">Battery
                                                    </div>
                                                    <div style="flex: 1; font-size: 13px;">Up to 23 hours video playback
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Reviews -->
                                        <div style="margin-bottom: 40px;">
                                            <div
                                                style="font-size: 14px; font-weight: 700; margin-bottom: 12px; font-family: var(--font-mono);">
                                                REVIEWS</div>
                                            <div
                                                style="background: #111; padding: 16px; border-radius: 8px; border: 1px solid #333; margin-bottom: 12px;">
                                                <div
                                                    style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                                    <div style="font-weight: 600; font-size: 13px;">Ali Khan</div>
                                                    <div style="color: var(--accent-secondary); font-size: 12px;">★ 5.0
                                                    </div>
                                                </div>
                                                <div style="font-size: 13px; color: #aaa; line-height: 1.4;">Best phone
                                                    I've
                                                    ever used. The titanium finish is amazing and it's so light!</div>
                                            </div>
                                            <div
                                                style="background: #111; padding: 16px; border-radius: 8px; border: 1px solid #333;">
                                                <div
                                                    style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                                    <div style="font-weight: 600; font-size: 13px;">Sara Ahmed</div>
                                                    <div style="color: var(--accent-secondary); font-size: 12px;">★ 4.5
                                                    </div>
                                                </div>
                                                <div style="font-size: 13px; color: #aaa; line-height: 1.4;">Great
                                                    performance but battery life could be better. Camera is top notch
                                                    though.</div>
                                            </div>
                                            <button class="btn btn-ghost clickable"
                                                style="width: 100%; justify-content: center; margin-top: 12px; font-size: 12px;">View
                                                All Reviews</button>
                                        </div>

                                        <!-- Info Section -->

                                    </div>
                                </div>
                                <div
                                    style="height: 60px; background: rgba(20,20,20,0.95); backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #333;">
                                    <div style="width: 6px; height: 6px; background: #444; border-radius: 50%;"></div>
                                    <div style="width: 24px; height: 24px; background: #444; border-radius: 4px;"></div>
                                    <div style="width: 24px; height: 24px; background: #444; border-radius: 50%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MOBILE: PROFILE -->
                <section id="view-mobile-profile" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Profile</h2>
                        <div class="subtitle">User dashboard with wishlist, alerts, and settings.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div style="padding: 20px; background: #111; border-bottom: 1px solid #222;">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span
                                            style="font-family: var(--font-display); font-weight: 900; font-size: 18px; letter-spacing: -0.5px;">Profile</span>
                                        <span style="color: #666;">⚙</span>
                                    </div>
                                </div>
                                <div style="flex: 1; overflow-y: auto;">
                                    <div
                                        style="padding: 24px 20px; background: linear-gradient(180deg, #111 0%, #0a0a0a 100%);">
                                        <div
                                            style="width: 80px; height: 80px; background: var(--accent-secondary); border-radius: 50%; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-weight: 900; font-size: 32px; color: #fff;">
                                            JD</div>
                                        <div style="text-align: center;">
                                            <div
                                                style="font-family: var(--font-display); font-weight: 800; font-size: 20px; margin-bottom: 4px;">
                                                John Doe</div>
                                            <div style="font-size: 12px; color: #666; font-family: var(--font-body);">
                                                Member
                                                since 2024</div>
                                        </div>
                                    </div>
                                    <div
                                        style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; padding: 20px;">
                                        <div style="text-align: center;">
                                            <div
                                                style="font-family: var(--font-mono); font-size: 24px; font-weight: 700; color: var(--accent-primary);">
                                                12</div>
                                            <div style="font-size: 11px; color: #666; margin-top: 4px;">Saved</div>
                                        </div>
                                        <div style="text-align: center;">
                                            <div
                                                style="font-family: var(--font-mono); font-size: 24px; font-weight: 700; color: var(--accent-secondary);">
                                                5</div>
                                            <div style="font-size: 11px; color: #666; margin-top: 4px;">Alerts</div>
                                        </div>

                                    </div>
                                    <div style="padding: 0 20px 20px;">
                                        <div
                                            style="display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px;">
                                            <div class="clickable"
                                                style="padding: 12px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;"
                                                data-nav="mobile-profile-dashboard">
                                                <span style="font-size: 14px; font-weight: 600;">Dashboard</span>
                                                <span style="color: #666;">→</span>
                                            </div>
                                            <div class="clickable"
                                                style="padding: 12px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;"
                                                data-nav="mobile-profile-wishlist">
                                                <span style="font-size: 14px;">Wishlist</span>
                                                <span style="color: #666;">→</span>
                                            </div>
                                            <div class="clickable"
                                                style="padding: 12px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;"
                                                data-nav="mobile-profile-alerts">
                                                <span style="font-size: 14px;">Price Alerts</span>
                                                <span style="color: #666;">→</span>
                                            </div>
                                            <div class="clickable"
                                                style="padding: 12px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;"
                                                data-nav="mobile-profile-settings">
                                                <span style="font-size: 14px;">Settings</span>
                                                <span style="color: #666;">→</span>
                                            </div>
                                        </div>
                                        <div
                                            style="font-size: 12px; color: #666; text-transform: uppercase; margin-bottom: 12px; font-family: var(--font-mono);">
                                            MY WISHLIST</div>
                                        <div class="product-card clickable clickable-product"
                                            style="width: 100%; margin-bottom: 12px; display: flex; padding: 12px;"
                                            data-nav="mobile-product">
                                            <div
                                                style="width: 80px; height: 80px; background: #222; border-radius: 8px; flex-shrink: 0;">
                                            </div>
                                            <div style="flex: 1; margin-left: 12px;">
                                                <div class="pc-title" style="font-size: 14px; margin-bottom: 4px;">
                                                    MacBook
                                                    Air M2</div>
                                                <div class="pc-price" style="font-size: 16px;"><span
                                                        class="price-currency">Rs.</span> 285<span
                                                        class="price-decimal">,000</span></div>
                                                <span class="badge badge-primary"
                                                    style="font-size: 9px; margin-top: 4px; display: inline-block;">Drop
                                                    -5%</span>
                                            </div>
                                        </div>
                                        <button class="btn btn-secondary clickable"
                                            style="width: 100%; justify-content: center; margin-top: 16px; font-size: 12px; padding: 10px;"
                                            onclick="handleLogout();">LOGOUT</button>

                                        <!-- Info Section -->

                                    </div>
                                </div>
                                <div
                                    style="height: 60px; background: rgba(20,20,20,0.95); backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #333;">
                                    <div style="width: 6px; height: 6px; background: #444; border-radius: 50%;"></div>
                                    <div style="width: 24px; height: 24px; background: #444; border-radius: 4px;"></div>
                                    <div
                                        style="width: 6px; height: 6px; background: var(--accent-primary); border-radius: 50%;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-profile-wishlist" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Wishlist</h2>
                        <div class="subtitle">Your saved products and price tracking.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 20px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; gap: 12px;">
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;"
                                        data-nav="mobile-profile">←</span>
                                    <span
                                        style="flex: 1; font-family: var(--font-display); font-weight: 800; font-size: 16px;">Wishlist</span>
                                </div>
                                <div style="flex: 1; overflow-y: auto; padding: 20px;">
                                    <div class="product-card clickable clickable-product"
                                        style="width: 100%; margin-bottom: 12px; display: flex; padding: 12px;"
                                        data-nav="mobile-product">
                                        <div
                                            style="width: 80px; height: 80px; background: #222; border-radius: 8px; flex-shrink: 0;">
                                        </div>
                                        <div style="flex: 1; margin-left: 12px;">
                                            <div class="pc-title" style="font-size: 14px; margin-bottom: 4px;">MacBook
                                                Air
                                                M2</div>
                                            <div class="pc-price" style="font-size: 16px;"><span
                                                    class="price-currency">Rs.</span> 285<span
                                                    class="price-decimal">,000</span></div>
                                            <div
                                                style="display: flex; justify-content: space-between; align-items: center; margin-top: 4px;">
                                                <span class="badge badge-primary"
                                                    style="font-size: 9px; display: inline-block;">Drop
                                                    -5%</span>
                                                <button
                                                    onclick="event.stopPropagation(); haptics.light(); this.closest('.product-card').remove();"
                                                    style="background: transparent; border: 1px solid var(--accent-alert); color: var(--accent-alert); font-size: 10px; padding: 4px 8px; border-radius: 4px;">Remove</button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Info Section -->

                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-profile-alerts" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Price Alerts</h2>
                        <div class="subtitle">Manage your price drop notifications.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 20px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; gap: 12px;">
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;"
                                        data-nav="mobile-profile">←</span>
                                    <span
                                        style="flex: 1; font-family: var(--font-display); font-weight: 800; font-size: 16px;">Price
                                        Alerts</span>
                                </div>
                                <div style="flex: 1; overflow-y: auto; padding: 20px;">
                                    <div
                                        style="background: #111; border: 1px solid #333; border-radius: 12px; padding: 16px; margin-bottom: 12px;">
                                        <div style="font-size: 14px; margin-bottom: 4px;">iPhone 15 Pro</div>
                                        <div style="font-size: 11px; color: #666; margin-bottom: 8px;">Alert when price
                                            drops below Rs. 320,000</div>
                                        <span class="badge badge-primary" style="font-size: 9px;">Active</span>
                                    </div>

                                    <!-- Info Section -->

                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MOBILE: LOGIN -->
                <section id="view-mobile-login" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Login</h2>
                        <div class="subtitle">Secure authentication with social login options.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen" style="background: #0a0a0a;">
                                <div style="padding: 40px 20px 20px; text-align: center;">
                                    <div
                                        style="display: flex; align-items: center; justify-content: center; gap: 4px; margin-bottom: 40px;">
                                        <img src="assets/img/logomark.svg" alt="HAO" style="height: 40px; width: auto;">
                                        <span
                                            style="font-family: var(--font-display); font-weight: 900; font-size: 32px; letter-spacing: -1px;">HAO<span
                                                style="color: #666; font-weight: 400;">.pk</span></span>
                                    </div>
                                    <h2
                                        style="font-family: var(--font-display); font-weight: 900; font-size: 28px; margin: 0 0 8px; letter-spacing: -0.5px;">
                                        Welcome Back</h2>
                                    <p
                                        style="color: #666; font-size: 14px; margin-bottom: 32px; font-family: var(--font-body);">
                                        Login to view your wishlist</p>
                                    <div class="input-group" style="max-width: 100%; margin-bottom: 16px;">
                                        <label class="input-label">Email</label>
                                        <input type="email" class="input-field" placeholder="your@email.com">
                                    </div>
                                    <div class="input-group" style="max-width: 100%; margin-bottom: 12px;">
                                        <label class="input-label">Password</label>
                                        <input type="password" class="input-field" placeholder="••••••••">
                                    </div>
                                    <div style="text-align: right; margin-bottom: 24px;">
                                        <span class="clickable" style="font-size: 12px; color: #666;"
                                            data-nav="mobile-forgot-password">Forgot Password?</span>
                                    </div>
                                    <button class="btn btn-primary"
                                        style="width: 100%; justify-content: center; margin-bottom: 20px;"
                                        onclick="handleLogin();">LOG IN</button>
                                    <div style="margin-top: 24px; font-size: 12px; color: #666;">
                                        Don't have an account? <span class="clickable"
                                            style="color: var(--accent-primary);" data-nav="mobile-signup">Sign
                                            up</span>
                                    </div>
                                    <!-- Info Section -->

                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MOBILE: SIGNUP -->
                <section id="view-mobile-signup" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Sign Up</h2>
                        <div class="subtitle">Create account with email or social authentication.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen" style="background: #0a0a0a;">
                                <div style="padding: 40px 20px 20px;">
                                    <span class="clickable"
                                        style="color: #fff; font-size: 20px; display: block; margin-bottom: 32px; padding: 4px;"
                                        data-nav="mobile-home">←</span>
                                    <div style="text-align: center; margin-bottom: 40px;">
                                        <div
                                            style="display: flex; align-items: center; justify-content: center; gap: 4px; margin-bottom: 24px;">
                                            <img src="assets/img/logomark.svg" alt="HAO"
                                                style="height: 40px; width: auto;">
                                            <span
                                                style="font-family: var(--font-display); font-weight: 900; font-size: 32px; letter-spacing: -1px;">HAO<span
                                                    style="color: #666; font-weight: 400;">.pk</span></span>
                                        </div>
                                        <h2
                                            style="font-family: var(--font-display); font-weight: 900; font-size: 28px; margin: 0 0 8px; letter-spacing: -0.5px;">
                                            Create Account</h2>
                                        <p style="color: #666; font-size: 14px; font-family: var(--font-body);">Start
                                            tracking prices and save money</p>
                                    </div>
                                    <div class="input-group" style="max-width: 100%; margin-bottom: 16px;">
                                        <label class="input-label">Full Name</label>
                                        <input type="text" class="input-field" placeholder="John Doe">
                                    </div>
                                    <div class="input-group" style="max-width: 100%; margin-bottom: 16px;">
                                        <label class="input-label">Email</label>
                                        <input type="email" class="input-field" placeholder="your@email.com">
                                    </div>
                                    <div class="input-group" style="max-width: 100%; margin-bottom: 16px;">
                                        <label class="input-label">Password</label>
                                        <input type="password" class="input-field" placeholder="••••••••">
                                    </div>
                                    <div class="input-group" style="max-width: 100%; margin-bottom: 24px;">
                                        <label class="input-label">Confirm Password</label>
                                        <input type="password" class="input-field" placeholder="••••••••">
                                    </div>
                                    <button class="btn btn-primary"
                                        style="width: 100%; justify-content: center; margin-bottom: 20px;"
                                        onclick="handleLogin();">SIGN UP</button>
                                    <div style="text-align: center; font-size: 12px; color: #666;">
                                        Already have an account? <span class="clickable"
                                            style="color: var(--accent-primary);" data-nav="mobile-login">Log in</span>
                                    </div>
                                    <!-- Info Section -->

                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MOBILE: FORGOT PASSWORD -->
                <section id="view-mobile-forgot-password" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Forgot Password</h2>
                        <div class="subtitle">Reset your password to regain access.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen" style="background: #0a0a0a;">
                                <div style="padding: 40px 20px 20px;">
                                    <span class="clickable"
                                        style="color: #fff; font-size: 20px; display: block; margin-bottom: 32px; padding: 4px;"
                                        data-nav="mobile-login">←</span>
                                    <div style="text-align: center; margin-bottom: 40px;">
                                        <div
                                            style="display: flex; align-items: center; justify-content: center; gap: 4px; margin-bottom: 24px;">
                                            <img src="assets/img/logomark.svg" alt="HAO"
                                                style="height: 40px; width: auto;">
                                            <span
                                                style="font-family: var(--font-display); font-weight: 900; font-size: 32px; letter-spacing: -1px;">HAO<span
                                                    style="color: #666; font-weight: 400;">.pk</span></span>
                                        </div>
                                        <h2
                                            style="font-family: var(--font-display); font-weight: 900; font-size: 28px; margin: 0 0 8px; letter-spacing: -0.5px;">
                                            Forgot Password</h2>
                                        <p style="color: #666; font-size: 14px; font-family: var(--font-body);">Enter
                                            your
                                            email to receive a reset link</p>
                                    </div>
                                    <div class="input-group" style="max-width: 100%; margin-bottom: 24px;">
                                        <label class="input-label">Email</label>
                                        <input type="email" class="input-field" placeholder="your@email.com">
                                    </div>
                                    <button class="btn btn-primary"
                                        style="width: 100%; justify-content: center; margin-bottom: 20px;"
                                        onclick="alert('Reset link sent!');">SEND LINK</button>

                                    <!-- Info Section -->

                                </div>
                            </div>
                        </div>
                    </div>
                </section>


                <!-- DIAGRAMS VIEW -->
                <section id="view-diagrams" class="view-section">
                    <header class="page-header">
                        <h2 id="diagrams-title">Diagrams</h2>
                        <div class="subtitle" id="diagrams-subtitle">System architecture and design documentation.</div>
                    </header>
                    <div style="display: flex; flex-direction: column; height: calc(100vh - 140px); padding: 20px;">
                        <div
                            style="flex: 1; background: #111; border: 1px solid #333; border-radius: 12px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">

                            <!-- Navigation Arrows -->
                            <button onclick="prevDiagram()"
                                style="position: absolute; left: 20px; background: rgba(0,0,0,0.5); border: 1px solid #444; color: #fff; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; z-index: 10; font-size: 20px; display: flex; align-items: center; justify-content: center;">
                                ↑
                            </button>
                            <button onclick="nextDiagram()"
                                style="position: absolute; right: 20px; background: rgba(0,0,0,0.5); border: 1px solid #444; color: #fff; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; z-index: 10; font-size: 20px; display: flex; align-items: center; justify-content: center;">
                                ↓
                            </button>

                            <!-- Image Container -->
                            <div
                                style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; padding: 40px;">
                                <img id="diagram-image" src="" alt="Diagram"
                                    style="max-width: 100%; max-height: 100%; object-fit: contain;">
                            </div>

                            <!-- Counter -->
                            <div id="diagram-counter"
                                style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.85); padding: 8px 16px; border-radius: 20px; font-family: var(--font-mono); font-size: 14px; color: #fff; font-weight: 700; border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                                1 / 1
                            </div>
                        </div>
                        <div
                            style="margin-top: 12px; text-align: center; color: #666; font-family: var(--font-mono); font-size: 12px;">
                            Use UP/DOWN arrow keys to navigate
                        </div>
                    </div>
                </section>

                <!-- WEB: HOME -->
                <section id="view-web-home" class="view-section">
                    <header class="page-header">
                        <h2>Web: Home</h2>
                        <div class="subtitle">Data-dense landing with intelligent search.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk</div>
                        </div>
                        <div class="web-nav">
                            <div class="web-nav-logo clickable" data-nav="web-home">
                                <img src="assets/img/logomark.svg" alt="HAO" style="height: 32px; width: auto;">
                                <span
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 20px; letter-spacing: -0.5px;">HAO<span
                                        style="color: #666; font-weight: 400;">.PK</span></span>
                            </div>
                            <div class="web-nav-links">
                                <span class="web-nav-link clickable active" data-nav="web-home">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                    </svg>
                                    HOME
                                </span>
                                <span class="web-nav-link clickable" data-nav="web-search">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    SEARCH
                                </span>
                                <span class="web-nav-link clickable" data-nav="web-profile">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    PROFILE
                                </span>
                            </div>
                            <div class="web-nav-user">
                                <button class="btn btn-ghost clickable" data-nav="web-login"
                                    style="font-size: 12px; padding: 8px 16px;">LOGIN</button>
                                <button class="btn btn-primary clickable" data-nav="web-signup"
                                    style="font-size: 12px; padding: 8px 16px;">SIGN UP</button>
                            </div>
                        </div>
                        <div class="browser-content" style="padding: 60px 40px;">
                            <div
                                style="max-width: 1400px; margin: 0 auto; display: flex; gap: 40px; justify-content: center;">
                                <!-- Main Content -->
                                <div style="flex: 1; max-width: 900px;">
                                    <div style="text-align: center; margin-bottom: 60px;">
                                        <h1
                                            style="font-family: var(--font-display); font-size: 72px; font-weight: 900; margin: 0 0 16px; letter-spacing: -2px; background: linear-gradient(135deg, #fff 0%, var(--accent-primary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                                            INTELLIGENT PRICE DISCOVERY</h1>
                                        <p
                                            style="color: #666; font-size: 18px; margin-bottom: 32px; font-family: var(--font-body);">
                                            Track prices. Compare deals. Save money.</p>
                                        <div class="search-bar-group" style="max-width: 600px; margin: 0 auto;">
                                            <div
                                                style="background: #111; border: 1px solid #333; border-radius: 16px; padding: 16px 20px; display: flex; align-items: center; gap: 12px; position: relative;">
                                                <svg class="search-icon" viewBox="0 0 24 24"
                                                    style="width: 18px; height: 18px;">
                                                    <circle cx="11" cy="11" r="8"></circle>
                                                    <path d="m21 21-4.35-4.35"></path>
                                                </svg>
                                                <input type="text" id="web-home-search-input"
                                                    placeholder="Search product name or paste URL..."
                                                    style="flex: 1; background: transparent; border: none; color: #fff; font-family: var(--font-body); font-size: 16px; outline: none;">
                                                <div class="search-dropdown" id="web-home-search-dropdown">
                                                    <div class="search-result-item">
                                                        <div class="search-result-name">iPhone 15 Pro</div>
                                                        <div class="search-result-sku">SKU: IP15P-256-TI</div>
                                                    </div>
                                                    <div class="search-result-item">
                                                        <div class="search-result-name">iPhone 15</div>
                                                        <div class="search-result-sku">SKU: IP15-128-BL</div>
                                                    </div>
                                                    <div class="search-result-item">
                                                        <div class="search-result-name">MacBook Air M2</div>
                                                        <div class="search-result-sku">SKU: MBA-M2-256</div>
                                                    </div>
                                                </div>
                                                <button class="btn btn-primary clickable" style="padding: 10px 24px;"
                                                    data-nav="web-search"
                                                    onclick="event.stopPropagation(); switchView('web-search');">Search</button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Trending -->
                                    <div
                                        style="font-size: 12px; color: #666; text-transform: uppercase; margin-bottom: 20px; font-family: var(--font-mono);">
                                        TRENDING NOW</div>
                                    <div
                                        style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px;">
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="iphone-15-pro">
                                            <div class="pc-img" style="height: 180px; position: relative;"><span
                                                    class="pc-tag">HOT</span></div>
                                            <div class="pc-content">
                                                <div class="pc-title">iPhone 15 Pro</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 345<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Daraz</span><span
                                                        style="color: var(--accent-secondary);">★ 4.9</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="samsung-s24">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">Samsung S24</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 320<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Telemart</span><span
                                                        style="color: var(--accent-secondary);">★ 4.8</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="airpods-pro">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">AirPods Pro</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 65<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Daraz</span><span
                                                        style="color: var(--accent-secondary);">★ 4.7</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="macbook-air-m2">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">MacBook Air</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 285<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Shophive</span><span
                                                        style="color: var(--accent-secondary);">★ 4.9</span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Recently Viewed -->
                                    <div
                                        style="font-size: 12px; color: #666; text-transform: uppercase; margin-bottom: 20px; font-family: var(--font-mono);">
                                        RECENTLY VIEWED</div>
                                    <div
                                        style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px;">
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="ipad-pro">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">iPad Pro 12.9"</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 245<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Daraz</span><span
                                                        style="color: var(--accent-secondary);">★ 4.8</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="sony-wh1000xm5">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">Sony XM5</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 85<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Telemart</span><span
                                                        style="color: var(--accent-secondary);">★ 4.6</span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Recommendations -->
                                    <div
                                        style="font-size: 12px; color: #666; text-transform: uppercase; margin-bottom: 20px; font-family: var(--font-mono);">
                                        RECOMMENDED FOR YOU</div>
                                    <div
                                        style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px;">
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="galaxy-watch">
                                            <div class="pc-img" style="height: 180px; position: relative;"><span
                                                    class="pc-tag">SAVE 15%</span></div>
                                            <div class="pc-content">
                                                <div class="pc-title">Galaxy Watch 6</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 75<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Daraz</span><span
                                                        style="color: var(--accent-secondary);">★ 4.5</span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Info Section -->

                                </div>

                                <!-- Right Sidebar Removed -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- WEB: SEARCH -->
                <section id="view-web-search" class="view-section">
                    <header class="page-header">
                        <h2>Web: Search Results</h2>
                        <div class="subtitle">Advanced filtering and comparison tools for price discovery.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/search?q=iphone</div>
                        </div>
                        <div class="web-nav">
                            <div class="web-nav-logo clickable" data-nav="web-home">
                                <img src="assets/img/logomark.svg" alt="HAO" style="height: 32px; width: auto;">
                                <span
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 20px; letter-spacing: -0.5px;">HAO<span
                                        style="color: #666; font-weight: 400;">.PK</span></span>
                            </div>
                            <div class="web-nav-links">
                                <span class="web-nav-link clickable" data-nav="web-home">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                    </svg>
                                    HOME
                                </span>
                                <span class="web-nav-link clickable active" data-nav="web-search">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    SEARCH
                                </span>
                                <span class="web-nav-link clickable" data-nav="web-profile">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    PROFILE
                                </span>
                            </div>
                            <div class="web-nav-user">
                                <button class="btn btn-ghost clickable" data-nav="web-login"
                                    style="font-size: 12px; padding: 8px 16px;">LOGIN</button>
                                <button class="btn btn-primary clickable" data-nav="web-signup"
                                    style="font-size: 12px; padding: 8px 16px;">SIGN UP</button>
                            </div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="display: flex; gap: 40px; max-width: 1400px; margin: 0 auto;">
                                <!-- Sidebar Filters -->
                                <div style="width: 280px; flex-shrink: 0;">
                                    <div
                                        style="margin-bottom: 24px; display: flex; justify-content: space-between; align-items: center;">
                                        <div style="font-family: var(--font-mono); font-size: 14px; font-weight: 700;">
                                            FILTERS</div>
                                        <button class="btn btn-ghost clickable"
                                            style="font-size: 12px; padding: 4px 8px;">Clear All</button>
                                    </div>

                                    <div style="margin-bottom: 32px;">
                                        <div
                                            style="font-size: 12px; font-weight: 600; margin-bottom: 12px; font-family: var(--font-mono);">
                                            STORE</div>
                                        <div style="display: flex; flex-direction: column; gap: 8px;">
                                            <label class="checkbox-label"
                                                style="display: flex; align-items: center; gap: 8px; font-size: 13px; color: #aaa; cursor: pointer;"><input
                                                    type="checkbox"> Daraz (45)</label>
                                            <label class="checkbox-label"
                                                style="display: flex; align-items: center; gap: 8px; font-size: 13px; color: #aaa; cursor: pointer;"><input
                                                    type="checkbox"> Telemart (32)</label>
                                            <label class="checkbox-label"
                                                style="display: flex; align-items: center; gap: 8px; font-size: 13px; color: #aaa; cursor: pointer;"><input
                                                    type="checkbox"> Shophive (18)</label>
                                        </div>
                                    </div>

                                    <div style="margin-bottom: 32px;">
                                        <div
                                            style="font-size: 12px; font-weight: 600; margin-bottom: 12px; font-family: var(--font-mono);">
                                            PRICE RANGE</div>
                                        <div style="display: flex; gap: 10px; margin-bottom: 12px;">
                                            <input type="text" class="input-field" placeholder="Min"
                                                style="flex: 1; padding: 8px; font-size: 12px;">
                                            <input type="text" class="input-field" placeholder="Max"
                                                style="flex: 1; padding: 8px; font-size: 12px;">
                                        </div>
                                        <button class="btn btn-secondary"
                                            style="width: 100%; justify-content: center; font-size: 12px;">Apply
                                            Price</button>
                                    </div>
                                </div>

                                <!-- Main Content -->
                                <div style="flex: 1;">
                                    <!-- Top Bar -->
                                    <div
                                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 1px solid #222;">
                                        <div>
                                            <h1 style="font-size: 24px; font-weight: 700; margin: 0;">iPhone 15</h1>
                                            <div style="font-size: 14px; color: #666; margin-top: 4px;">Showing 1-12 of
                                                145
                                                results</div>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <span style="font-size: 14px; color: #666;">Sort by:</span>
                                            <select
                                                style="background: #111; border: 1px solid #333; color: #fff; padding: 8px 12px; border-radius: 4px; font-family: var(--font-body); outline: none;">
                                                <option>Relevance</option>
                                                <option>Price: Low to High</option>
                                                <option>Price: High to Low</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Product Grid -->
                                    <div
                                        style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px;">
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="iphone-15-pro">
                                            <div class="pc-img" style="height: 180px; position: relative;"><span
                                                    class="pc-tag">HOT</span></div>
                                            <div class="pc-content">
                                                <div class="pc-title">iPhone 15 Pro</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 345<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Daraz</span><span
                                                        style="color: var(--accent-secondary);">★ 4.9</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="samsung-s24">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">Samsung S24</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 320<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Telemart</span><span
                                                        style="color: var(--accent-secondary);">★ 4.8</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="airpods-pro">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">AirPods Pro</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 65<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Daraz</span><span
                                                        style="color: var(--accent-secondary);">★ 4.7</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="macbook-air-m2">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">MacBook Air</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 285<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Shophive</span><span
                                                        style="color: var(--accent-secondary);">★ 4.9</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="ipad-pro">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">iPad Pro 12.9"</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 245<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Daraz</span><span
                                                        style="color: var(--accent-secondary);">★ 4.8</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="sony-wh1000xm5">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">Sony XM5</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 85<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Telemart</span><span
                                                        style="color: var(--accent-secondary);">★ 4.6</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="galaxy-watch">
                                            <div class="pc-img" style="height: 180px; position: relative;"><span
                                                    class="pc-tag">SAVE 15%</span></div>
                                            <div class="pc-content">
                                                <div class="pc-title">Galaxy Watch 6</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 75<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Daraz</span><span
                                                        style="color: var(--accent-secondary);">★ 4.5</span></div>
                                            </div>
                                        </div>
                                        <div class="product-card clickable clickable-product" style="width: 100%;"
                                            data-nav="web-product" data-product-id="pixel-8">
                                            <div class="pc-img" style="height: 180px; position: relative;"></div>
                                            <div class="pc-content">
                                                <div class="pc-title">Pixel 8 Pro</div>
                                                <div class="pc-price"><span class="price-currency">Rs.</span> 265<span
                                                        class="price-decimal">k</span></div>
                                                <div class="pc-meta"><span>Shophive</span><span
                                                        style="color: var(--accent-secondary);">★ 4.7</span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Pagination -->
                                    <div style="display: flex; justify-content: center; gap: 8px; margin-bottom: 60px;">
                                        <button class="btn btn-secondary" style="padding: 8px 16px;">Previous</button>
                                        <button class="btn btn-primary" style="padding: 8px 16px;">1</button>
                                        <button class="btn btn-secondary" style="padding: 8px 16px;">2</button>
                                        <button class="btn btn-secondary" style="padding: 8px 16px;">3</button>
                                        <button class="btn btn-secondary" style="padding: 8px 16px;">Next</button>
                                    </div>

                                    <!-- Empty State -->
                                    <div id="web-search-empty"
                                        style="display: none; text-align: center; padding: 80px 0;">
                                        <div style="font-size: 64px; margin-bottom: 24px;">🔍</div>
                                        <div style="font-size: 24px; margin-bottom: 12px;">No results found</div>
                                        <div style="font-size: 16px; color: #666;">We couldn't find any products
                                            matching
                                            your search.</div>
                                    </div>

                                    <!-- Info Section -->

                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- WEB: PRODUCT -->
                <section id="view-web-product" class="view-section">
                    <header class="page-header">
                        <h2>Web: Product Detail</h2>
                        <div class="subtitle">Comprehensive product analysis with price history and specs.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/product/iphone-15-pro</div>
                        </div>
                        <div class="web-nav">
                            <div class="web-nav-logo clickable" data-nav="web-home">
                                <img src="assets/img/logomark.svg" alt="HAO" style="height: 32px; width: auto;">
                                <span
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 20px; letter-spacing: -0.5px;">HAO<span
                                        style="color: #666; font-weight: 400;">.PK</span></span>
                            </div>
                            <div class="web-nav-links">
                                <span class="web-nav-link clickable" data-nav="web-home">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                    </svg>
                                    HOME
                                </span>
                                <span class="web-nav-link clickable" data-nav="web-search">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    SEARCH
                                </span>
                                <span class="web-nav-link clickable" data-nav="web-profile">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    PROFILE
                                </span>
                            </div>
                            <div class="web-nav-user">
                                <button class="btn btn-ghost clickable" data-nav="web-login"
                                    style="font-size: 12px; padding: 8px 16px;">LOGIN</button>
                                <button class="btn btn-primary clickable" data-nav="web-signup"
                                    style="font-size: 12px; padding: 8px 16px;">SIGN UP</button>
                            </div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1400px; margin: 0 auto;">
                                <div style="margin-bottom: 24px;">
                                    <span class="clickable" style="color: #666; font-size: 14px; padding: 4px;"
                                        data-nav="back">← Back</span>
                                </div>
                                <div style="display: grid; grid-template-columns: 500px 1fr; gap: 40px;">
                                    <div>
                                        <div
                                            style="height: 500px; background: #222; border-radius: 12px; position: relative;">
                                            <span class="badge badge-primary"
                                                style="position: absolute; top: 16px; left: 16px;">BEST DEAL</span>
                                        </div>
                                        <div
                                            style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 12px;">
                                            <div style="height: 80px; background: #222; border-radius: 8px;"></div>
                                            <div style="height: 80px; background: #222; border-radius: 8px;"></div>
                                            <div style="height: 80px; background: #222; border-radius: 8px;"></div>
                                            <div style="height: 80px; background: #222; border-radius: 8px;"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <h1
                                            style="font-family: var(--font-display); font-size: 48px; font-weight: 900; margin: 0 0 8px; letter-spacing: -1px;">
                                            iPhone 15 Pro</h1>
                                        <div
                                            style="font-size: 14px; color: #666; margin-bottom: 16px; font-family: var(--font-body);">
                                            256GB • Natural Titanium • A17 Pro Chip</div>
                                        <div
                                            style="display: flex; align-items: center; gap: 12px; margin-bottom: 24px;">
                                            <div class="pc-price" style="font-size: 36px;"><span
                                                    class="price-currency">Rs.</span> 345<span
                                                    class="price-decimal">,000</span></div>
                                            <span class="badge badge-primary">Lowest in 30 days</span>
                                        </div>
                                        <div
                                            style="background: #111; border: 1px solid #333; border-radius: 12px; padding: 20px; margin-bottom: 24px;">
                                            <div
                                                style="font-size: 12px; color: #666; margin-bottom: 12px; font-family: var(--font-mono); letter-spacing: 1.5px;">
                                                PRICE HISTORY (6 MONTHS)</div>
                                            <div class="price-chart" style="height: 120px;">
                                                <div class="price-chart-bar" style="height: 45%;" data-price="Rs. 365k"
                                                    data-date="6mo"></div>
                                                <div class="price-chart-bar" style="height: 60%;" data-price="Rs. 360k"
                                                    data-date="5mo"></div>
                                                <div class="price-chart-bar" style="height: 55%;" data-price="Rs. 355k"
                                                    data-date="4mo"></div>
                                                <div class="price-chart-bar" style="height: 70%;" data-price="Rs. 370k"
                                                    data-date="3mo"></div>
                                                <div class="price-chart-bar"
                                                    style="height: 35%; background: var(--accent-primary);"
                                                    data-price="Rs. 345k" data-date="Now"></div>
                                                <div class="price-chart-bar" style="height: 50%;" data-price="Rs. 350k"
                                                    data-date="1mo"></div>
                                                <div class="price-chart-crosshair"></div>
                                                <div class="price-chart-tooltip"></div>
                                            </div>
                                            <div
                                                style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-top: 16px;">
                                                <div>
                                                    <div style="font-size: 10px; color: #666;">HIGHEST</div>
                                                    <div style="font-family: var(--font-mono); font-size: 16px;"><span
                                                            class="price-currency">Rs.</span> 365<span
                                                            class="price-decimal">k</span></div>
                                                </div>
                                                <div>
                                                    <div style="font-size: 10px; color: #666;">LOWEST</div>
                                                    <div
                                                        style="font-family: var(--font-mono); font-size: 16px; color: var(--accent-primary);">
                                                        <span class="price-currency">Rs.</span> 340<span
                                                            class="price-decimal">k</span>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div style="font-size: 10px; color: #666;">AVERAGE</div>
                                                    <div style="font-family: var(--font-mono); font-size: 16px;"><span
                                                            class="price-currency">Rs.</span> 352<span
                                                            class="price-decimal">k</span></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div style="display: flex; gap: 12px; margin-bottom: 12px;">
                                            <button class="btn btn-primary clickable"
                                                style="flex: 1; justify-content: center;" data-nav="web-profile"
                                                onclick="event.stopPropagation(); switchView('web-profile');">ADD TO
                                                WISHLIST</button>
                                            <button class="btn btn-secondary clickable"
                                                style="flex: 1; justify-content: center;"
                                                onclick="event.stopPropagation(); switchView('web-profile-alerts');">SET
                                                ALERT</button>
                                            <button class="btn btn-secondary clickable"
                                                style="flex: 1; justify-content: center;" id="web-open-external"
                                                onclick="event.stopPropagation(); openExternalProduct();">OPEN IN
                                                DARAZ</button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- WEB: PROFILE -->
                <section id="view-web-profile" class="view-section">
                    <header class="page-header">
                        <h2>Web: Profile</h2>
                        <div class="subtitle">User dashboard with wishlist, alerts, and settings.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/profile</div>
                        </div>
                        <div class="web-nav">
                            <div class="web-nav-logo clickable" data-nav="web-home">
                                <img src="assets/img/logomark.svg" alt="HAO" style="height: 32px; width: auto;">
                                <span
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 20px; letter-spacing: -0.5px;">HAO<span
                                        style="color: #666; font-weight: 400;">.PK</span></span>
                            </div>
                            <div class="web-nav-links">
                                <span class="web-nav-link clickable" data-nav="web-home">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                    </svg>
                                    HOME
                                </span>
                                <span class="web-nav-link clickable" data-nav="web-search">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    SEARCH
                                </span>
                                <span class="web-nav-link clickable active" data-nav="web-profile">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    PROFILE
                                </span>
                            </div>
                            <div class="web-nav-user">
                                <div
                                    style="width: 32px; height: 32px; background: var(--accent-secondary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-weight: 900; font-size: 14px; color: #fff;">
                                    JD</div>
                            </div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div
                                style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 280px 1fr; gap: 40px;">
                                <div>
                                    <div
                                        style="padding: 32px; background: linear-gradient(180deg, #111 0%, #0a0a0a 100%); border-radius: 12px; border: 1px solid #222; text-align: center; margin-bottom: 24px;">
                                        <div
                                            style="width: 100px; height: 100px; background: var(--accent-secondary); border-radius: 50%; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-weight: 900; font-size: 40px; color: #fff;">
                                            JD</div>
                                        <div
                                            style="font-family: var(--font-display); font-weight: 800; font-size: 24px; margin-bottom: 4px;">
                                            John Doe</div>
                                        <div style="font-size: 14px; color: #666; font-family: var(--font-body);">Member
                                            since 2024</div>
                                    </div>
                                    <div style="display: flex; flex-direction: column; gap: 8px;">
                                        <div class="clickable"
                                            style="padding: 16px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;"
                                            data-nav="web-profile-dashboard">
                                            <span style="font-size: 14px; font-weight: 600;">Dashboard</span>
                                            <span style="color: #666;">→</span>
                                        </div>
                                        <div class="clickable"
                                            style="padding: 16px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;"
                                            data-nav="web-profile-wishlist">
                                            <span style="font-size: 14px;">Wishlist</span>
                                            <span style="color: #666;">→</span>
                                        </div>
                                        <div class="clickable"
                                            style="padding: 16px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;"
                                            data-nav="web-profile-alerts">
                                            <span style="font-size: 14px;">Price Alerts</span>
                                            <span style="color: #666;">→</span>
                                        </div>
                                        <div class="clickable"
                                            style="padding: 16px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;"
                                            data-nav="web-profile-settings">
                                            <span style="font-size: 14px;">Settings</span>
                                            <span style="color: #666;">→</span>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div
                                        style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 40px;">
                                        <div
                                            style="background: #111; padding: 24px; border-radius: 12px; border: 1px solid #333; text-align: center;">
                                            <div
                                                style="font-family: var(--font-mono); font-size: 32px; font-weight: 700; color: var(--accent-primary);">
                                                12</div>
                                            <div style="font-size: 12px; color: #666; margin-top: 8px;">Saved Products
                                            </div>
                                        </div>
                                        <div
                                            style="background: #111; padding: 24px; border-radius: 12px; border: 1px solid #333; text-align: center;">
                                            <div
                                                style="font-family: var(--font-mono); font-size: 32px; font-weight: 700; color: var(--accent-secondary);">
                                                5</div>
                                            <div style="font-size: 12px; color: #666; margin-top: 8px;">Active Alerts
                                            </div>
                                        </div>

                                    </div>
                                    <h3
                                        style="font-family: var(--font-display); font-weight: 800; font-size: 24px; margin-bottom: 20px;">
                                        Recent Activity</h3>
                                    <div
                                        style="background: #111; border: 1px solid #333; border-radius: 12px; overflow: hidden;">
                                        <div
                                            style="padding: 16px 24px; border-bottom: 1px solid #222; display: flex; justify-content: space-between; font-size: 12px; color: #666; font-family: var(--font-mono);">
                                            <span>PRODUCT</span>
                                            <span>STATUS</span>
                                            <span>PRICE</span>
                                        </div>
                                        <div class="clickable"
                                            style="padding: 20px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222;"
                                            data-nav="web-product">
                                            <div style="display: flex; gap: 16px; align-items: center;">
                                                <div
                                                    style="width: 48px; height: 48px; background: #222; border-radius: 4px;">
                                                </div>
                                                <span style="font-weight: 600;">MacBook Air M2</span>
                                            </div>
                                            <span class="badge badge-primary">Drop Detected</span>
                                            <span style="font-family: var(--font-mono);"><span
                                                    class="price-currency">Rs.</span> 285<span
                                                    class="price-decimal">,000</span></span>
                                        </div>
                                        <div class="clickable"
                                            style="padding: 20px 24px; display: flex; justify-content: space-between; align-items: center;"
                                            data-nav="web-product">
                                            <div style="display: flex; gap: 16px; align-items: center;">
                                                <div
                                                    style="width: 48px; height: 48px; background: #222; border-radius: 4px;">
                                                </div>
                                                <span style="font-weight: 600;">Sony WH-1000XM5</span>
                                            </div>
                                            <span class="badge badge-secondary">Tracking</span>
                                            <span style="font-family: var(--font-mono);"><span
                                                    class="price-currency">Rs.</span> 85<span
                                                    class="price-decimal">,000</span></span>
                                        </div>
                                    </div>

                                    <!-- Info Section -->

                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- WEB: PROFILE SUB-PAGES -->
                <section id="view-web-profile-dashboard" class="view-section">
                    <header class="page-header">
                        <h2>Web: Dashboard</h2>
                        <div class="subtitle">User analytics and overview.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/dashboard</div>
                        </div>
                        <div class="web-nav">
                            <div class="web-nav-logo clickable" data-nav="web-home">
                                <img src="assets/img/logomark.svg" alt="HAO" style="height: 32px; width: auto;">
                                <span
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 20px; letter-spacing: -0.5px;">HAO<span
                                        style="color: #666; font-weight: 400;">.PK</span></span>
                            </div>
                            <div class="web-nav-links">
                                <span class="web-nav-link clickable" data-nav="web-home">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                    </svg>
                                    HOME
                                </span>
                                <span class="web-nav-link clickable" data-nav="web-search">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    SEARCH
                                </span>
                                <span class="web-nav-link clickable active" data-nav="web-profile">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    PROFILE
                                </span>
                            </div>
                            <div class="web-nav-user">
                                <button class="btn btn-ghost clickable" data-nav="web-login"
                                    style="font-size: 12px; padding: 8px 16px;">LOGIN</button>
                                <button class="btn btn-primary clickable" data-nav="web-signup"
                                    style="font-size: 12px; padding: 8px 16px;">SIGN UP</button>
                            </div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1400px; margin: 0 auto;">
                                <div class="clickable"
                                    style="margin-bottom: 24px; color: #666; font-size: 14px; padding: 4px; font-family: var(--font-mono);"
                                    data-nav="web-profile">← BACK</div>
                                <h1
                                    style="font-family: var(--font-display); font-size: 48px; margin: 0 0 20px; font-weight: 900; letter-spacing: -1px;">
                                    Dashboard</h1>
                                <!-- Dashboard Content (Placeholder) -->
                                <div
                                    style="padding: 40px; background: #111; border-radius: 12px; border: 1px solid #333; text-align: center; color: #666;">
                                    Dashboard analytics and charts would go here.
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-profile-wishlist" class="view-section">
                    <header class="page-header">
                        <h2>Web: Wishlist</h2>
                        <div class="subtitle">Your saved products and price tracking.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/wishlist</div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1200px; margin: 0 auto;">
                                <div class="clickable"
                                    style="margin-bottom: 24px; color: #666; font-size: 14px; padding: 4px; font-family: var(--font-mono);"
                                    data-nav="web-profile">← BACK</div>
                                <h1
                                    style="font-family: var(--font-display); font-size: 48px; margin: 0 0 40px; font-weight: 900; letter-spacing: -1px;">
                                    Wishlist</h1>
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px;">
                                    <div class="product-card clickable clickable-product" data-nav="web-product">
                                        <div style="height: 200px; background: #222; position: relative;">
                                            <span class="badge badge-primary"
                                                style="position: absolute; top: 12px; left: 12px;">Drop -5%</span>
                                        </div>
                                        <div style="padding: 16px;">
                                            <div class="pc-title">MacBook Air M2</div>
                                            <div class="pc-price"><span class="price-currency">Rs.</span> 285<span
                                                    class="price-decimal">,000</span></div>
                                            <button
                                                onclick="event.stopPropagation(); haptics.light(); this.closest('.product-card').remove();"
                                                style="display: block; width: 100%; margin-top: 12px; background: transparent; border: 1px solid var(--accent-alert); color: var(--accent-alert); font-size: 11px; padding: 8px; border-radius: 4px; cursor: pointer; text-transform: uppercase; letter-spacing: 0.5px;">Remove</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Info Section -->

                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-profile-alerts" class="view-section">
                    <header class="page-header">
                        <h2>Web: Price Alerts</h2>
                        <div class="subtitle">Manage your price drop notifications.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/alerts</div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1200px; margin: 0 auto;">
                                <div class="clickable"
                                    style="margin-bottom: 24px; color: #666; font-size: 14px; padding: 4px; font-family: var(--font-mono);"
                                    data-nav="web-profile">← BACK</div>
                                <h1
                                    style="font-family: var(--font-display); font-size: 48px; margin: 0 0 40px; font-weight: 900; letter-spacing: -1px;">
                                    Price Alerts</h1>
                                <div style="display: flex; flex-direction: column; gap: 16px;">
                                    <div
                                        style="background: #111; border: 1px solid #333; border-radius: 12px; padding: 24px; display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">iPhone
                                                15
                                                Pro</div>
                                            <div style="font-size: 14px; color: #666;">Alert when price drops below Rs.
                                                320,000</div>
                                        </div>
                                        <span class="badge badge-primary">Active</span>
                                    </div>
                                </div>

                                <!-- Info Section -->

                            </div>
                        </div>
                    </div>
                </section>

                <!-- WEB: LOGIN -->
                <section id="view-web-login" class="view-section">
                    <header class="page-header">
                        <h2>Web: Login</h2>
                        <div class="subtitle">Secure authentication with social login integration.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/login</div>
                        </div>
                        <div class="browser-content"
                            style="padding: 80px 40px; display: flex; align-items: center; justify-content: center;">
                            <div style="max-width: 500px; width: 100%;">
                                <div style="text-align: center; margin-bottom: 40px;">
                                    <div
                                        style="display: flex; align-items: center; justify-content: center; gap: 6px; margin-bottom: 24px;">
                                        <img src="assets/img/logomark.svg" alt="HAO" style="height: 48px; width: auto;">
                                        <span
                                            style="font-family: var(--font-display); font-weight: 900; font-size: 36px; letter-spacing: -1px;">HAO<span
                                                style="color: #666; font-weight: 400;">.PK</span></span>
                                    </div>
                                    <h2
                                        style="font-family: var(--font-display); font-weight: 900; font-size: 32px; margin: 0 0 8px; letter-spacing: -0.5px;">
                                        Welcome Back</h2>
                                    <p style="color: #666; font-size: 16px; font-family: var(--font-body);">Login to
                                        access
                                        your wishlist and alerts</p>
                                </div>
                                <div class="input-group" style="max-width: 100%; margin-bottom: 16px;">
                                    <label class="input-label">Email Address</label>
                                    <input type="email" class="input-field" placeholder="your@email.com">
                                </div>
                                <div class="input-group" style="max-width: 100%; margin-bottom: 12px;">
                                    <label class="input-label">Password</label>
                                    <input type="password" class="input-field" placeholder="••••••••">
                                </div>
                                <div style="text-align: right; margin-bottom: 24px;">
                                    <span class="clickable" style="font-size: 14px; color: #666;"
                                        data-nav="web-forgot-password">Forgot Password?</span>
                                </div>
                                <button class="btn btn-primary"
                                    style="width: 100%; justify-content: center; margin-bottom: 20px;"
                                    onclick="handleLogin();">LOG IN</button>
                                <div style="text-align: center; font-size: 14px; color: #666;">
                                    Don't have an account? <span class="clickable"
                                        style="color: var(--accent-primary); cursor: pointer;"
                                        data-nav="web-signup">Sign
                                        up</span>
                                </div>
                                <!-- Info Section -->

                            </div>
                        </div>
                    </div>
                </section>

                <!-- WEB: SIGNUP -->
                <section id="view-web-signup" class="view-section">
                    <header class="page-header">
                        <h2>Web: Sign Up</h2>
                        <div class="subtitle">Create your account to start tracking prices and saving money.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/signup</div>
                        </div>
                        <div class="browser-content"
                            style="padding: 80px 40px; display: flex; align-items: center; justify-content: center;">
                            <div style="max-width: 500px; width: 100%;">
                                <div style="text-align: center; margin-bottom: 40px;">
                                    <div
                                        style="display: flex; align-items: center; justify-content: center; gap: 6px; margin-bottom: 24px;">
                                        <img src="assets/img/logomark.svg" alt="HAO" style="height: 48px; width: auto;">
                                        <span
                                            style="font-family: var(--font-display); font-weight: 900; font-size: 36px; letter-spacing: -1px;">HAO<span
                                                style="color: #666; font-weight: 400;">.PK</span></span>
                                    </div>
                                    <h2
                                        style="font-family: var(--font-display); font-weight: 900; font-size: 32px; margin: 0 0 8px; letter-spacing: -0.5px;">
                                        Create Account</h2>
                                    <p style="color: #666; font-size: 16px; font-family: var(--font-body);">Start
                                        tracking
                                        prices and save money</p>
                                </div>
                                <div class="input-group" style="max-width: 100%; margin-bottom: 16px;">
                                    <label class="input-label">Full Name</label>
                                    <input type="text" class="input-field" placeholder="John Doe">
                                </div>
                                <div class="input-group" style="max-width: 100%; margin-bottom: 16px;">
                                    <label class="input-label">Email Address</label>
                                    <input type="email" class="input-field" placeholder="your@email.com">
                                </div>
                                <div class="input-group" style="max-width: 100%; margin-bottom: 16px;">
                                    <label class="input-label">Password</label>
                                    <input type="password" class="input-field" placeholder="••••••••">
                                </div>
                                <div class="input-group" style="max-width: 100%; margin-bottom: 24px;">
                                    <label class="input-label">Confirm Password</label>
                                    <input type="password" class="input-field" placeholder="••••••••">
                                </div>
                                <button class="btn btn-primary"
                                    style="width: 100%; justify-content: center; margin-bottom: 20px;"
                                    onclick="handleLogin();">SIGN UP</button>
                                <div style="text-align: center; font-size: 14px; color: #666;">
                                    Already have an account? <span class="clickable"
                                        style="color: var(--accent-primary); cursor: pointer;" data-nav="web-login">Log
                                        in</span>
                                </div>
                                <!-- Info Section -->

                            </div>
                        </div>
                    </div>
                </section>

                <!-- WEB: FORGOT PASSWORD -->
                <section id="view-web-forgot-password" class="view-section">
                    <header class="page-header">
                        <h2>Web: Forgot Password</h2>
                        <div class="subtitle">Reset your password to regain access.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/forgot-password</div>
                        </div>
                        <div class="browser-content"
                            style="padding: 80px 40px; display: flex; align-items: center; justify-content: center;">
                            <div style="max-width: 500px; width: 100%;">
                                <div style="text-align: center; margin-bottom: 40px;">
                                    <div
                                        style="display: flex; align-items: center; justify-content: center; gap: 6px; margin-bottom: 24px;">
                                        <img src="assets/img/logomark.svg" alt="HAO" style="height: 48px; width: auto;">
                                        <span
                                            style="font-family: var(--font-display); font-weight: 900; font-size: 36px; letter-spacing: -1px;">HAO<span
                                                style="color: #666; font-weight: 400;">.PK</span></span>
                                    </div>
                                    <h2
                                        style="font-family: var(--font-display); font-weight: 900; font-size: 32px; margin: 0 0 8px; letter-spacing: -0.5px;">
                                        Forgot Password</h2>
                                    <p style="color: #666; font-size: 16px; font-family: var(--font-body);">Enter your
                                        email
                                        to receive a reset link</p>
                                </div>
                                <div class="input-group" style="max-width: 100%; margin-bottom: 24px;">
                                    <label class="input-label">Email Address</label>
                                    <input type="email" class="input-field" placeholder="your@email.com">
                                </div>
                                <button class="btn btn-primary"
                                    style="width: 100%; justify-content: center; margin-bottom: 20px;"
                                    onclick="alert('Reset link sent!');">SEND LINK</button>
                                <div style="text-align: center; font-size: 14px; color: #666;">
                                    <span class="clickable" style="color: #fff; cursor: pointer;" data-nav="web-login">←
                                        Back to Login</span>
                                </div>
                                <!-- Info Section -->

                            </div>
                        </div>
                    </div>
                </section>

                <!-- COMPARISON VIEW -->


                <!-- MOBILE: PROFILE SUB-PAGES -->
                <section id="view-mobile-profile-dashboard" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Dashboard</h2>
                        <div class="subtitle">User dashboard overview.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 20px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; gap: 12px;">
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;"
                                        data-nav="mobile-profile">←</span>
                                    <span
                                        style="flex: 1; font-family: var(--font-display); font-weight: 800; font-size: 16px;">Dashboard</span>
                                </div>
                                <div style="flex: 1; overflow-y: auto; padding: 20px;">
                                    <div
                                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 24px;">
                                        <div
                                            style="background: #111; padding: 16px; border-radius: 12px; border: 1px solid #333; text-align: center;">
                                            <div
                                                style="font-family: var(--font-mono); font-size: 24px; font-weight: 700; color: var(--accent-primary);">
                                                <span class="price-currency">Rs.</span> 45<span
                                                    class="price-decimal">k</span>
                                            </div>
                                            <div style="font-size: 11px; color: #666; margin-top: 4px;">Total Savings
                                            </div>
                                        </div>
                                        <div
                                            style="background: #111; padding: 16px; border-radius: 12px; border: 1px solid #333; text-align: center;">
                                            <div
                                                style="font-family: var(--font-mono); font-size: 24px; font-weight: 700; color: var(--accent-secondary);">
                                                12</div>
                                            <div style="font-size: 11px; color: #666; margin-top: 4px;">Active Alerts
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        style="font-size: 12px; color: #666; text-transform: uppercase; margin-bottom: 12px; font-family: var(--font-mono);">
                                        RECENT ACTIVITY</div>
                                    <div
                                        style="background: #111; border: 1px solid #333; border-radius: 12px; padding: 12px; margin-bottom: 12px;">
                                        <div style="font-size: 14px; margin-bottom: 4px;">MacBook Air M2</div>
                                        <div style="font-size: 11px; color: #666;">Price drop detected</div>
                                        <span class="badge badge-primary"
                                            style="font-size: 9px; margin-top: 8px; display: inline-block;">Drop
                                            -5%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-profile-wishlist" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Wishlist</h2>
                        <div class="subtitle">Your saved products and price tracking.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 20px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; gap: 12px;">
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;"
                                        data-nav="mobile-profile">←</span>
                                    <span
                                        style="flex: 1; font-family: var(--font-display); font-weight: 800; font-size: 16px;">Wishlist</span>
                                </div>
                                <div style="flex: 1; overflow-y: auto; padding: 20px;">
                                    <div class="product-card clickable clickable-product"
                                        style="width: 100%; margin-bottom: 12px; display: flex; padding: 12px;"
                                        data-nav="mobile-product">
                                        <div
                                            style="width: 80px; height: 80px; background: #222; border-radius: 8px; flex-shrink: 0;">
                                        </div>
                                        <div style="flex: 1; margin-left: 12px;">
                                            <div class="pc-title" style="font-size: 14px; margin-bottom: 4px;">MacBook
                                                Air
                                                M2</div>
                                            <div class="pc-price" style="font-size: 16px;"><span
                                                    class="price-currency">Rs.</span> 285<span
                                                    class="price-decimal">,000</span></div>
                                            <span class="badge badge-primary"
                                                style="font-size: 9px; margin-top: 4px; display: inline-block;">Drop
                                                -5%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-profile-alerts" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Price Alerts</h2>
                        <div class="subtitle">Manage your price drop notifications.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 20px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; gap: 12px;">
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;"
                                        data-nav="mobile-profile">←</span>
                                    <span
                                        style="flex: 1; font-family: var(--font-display); font-weight: 800; font-size: 16px;">Price
                                        Alerts</span>
                                </div>
                                <div style="flex: 1; overflow-y: auto; padding: 20px;">
                                    <div
                                        style="background: #111; border: 1px solid #333; border-radius: 12px; padding: 16px; margin-bottom: 12px;">
                                        <div style="font-size: 14px; margin-bottom: 4px;">iPhone 15 Pro</div>
                                        <div style="font-size: 11px; color: #666; margin-bottom: 8px;">Alert when price
                                            drops below Rs. 320,000</div>
                                        <span class="badge badge-primary" style="font-size: 9px;">Active</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-profile-settings" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Settings</h2>
                        <div class="subtitle">Account and app preferences.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 20px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; gap: 12px;">
                                    <span class="clickable" style="color: #fff; font-size: 20px; padding: 4px;"
                                        data-nav="mobile-profile">←</span>
                                    <span
                                        style="flex: 1; font-family: var(--font-display); font-weight: 800; font-size: 16px;">Settings</span>
                                </div>
                                <div style="flex: 1; overflow-y: auto; padding: 20px;">
                                    <div style="display: flex; flex-direction: column; gap: 12px;">
                                        <div
                                            style="padding: 12px; background: #111; border-radius: 8px; border: 1px solid #333;">
                                            <div style="font-size: 14px; margin-bottom: 4px;">Notifications</div>
                                            <div style="font-size: 11px; color: #666;">Manage alert preferences</div>
                                        </div>
                                        <div
                                            style="padding: 12px; background: #111; border-radius: 8px; border: 1px solid #333;">
                                            <div style="font-size: 14px; margin-bottom: 4px;">Account</div>
                                            <div style="font-size: 11px; color: #666;">Edit profile and preferences
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-admin-login" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Admin Login</h2>
                        <div class="subtitle">Secure access for administrators.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div style="padding: 40px 20px; text-align: center; margin-top: 40px;">
                                    <div
                                        style="width: 60px; height: 60px; background: #fff; border-radius: 12px; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center;">
                                        <img src="assets/img/logomark.svg" alt="HAO"
                                            style="height: 32px; width: auto; filter: invert(1);">
                                    </div>
                                    <h1
                                        style="font-family: var(--font-display); font-weight: 900; font-size: 24px; margin-bottom: 8px;">
                                        Admin Portal</h1>
                                    <p style="color: #666; font-size: 14px; margin-bottom: 32px;">Enter your credentials
                                        to
                                        access the dashboard.</p>
                                    <div style="text-align: left; display: flex; flex-direction: column; gap: 16px;">
                                        <div>
                                            <label
                                                style="font-size: 12px; color: #666; display: block; margin-bottom: 8px;">ADMIN
                                                EMAIL</label>
                                            <input type="email" value="admin@bhao.pk" class="input-field"
                                                style="width: 100%;">
                                        </div>
                                        <div>
                                            <label
                                                style="font-size: 12px; color: #666; display: block; margin-bottom: 8px;">PASSWORD</label>
                                            <input type="password" value="********" class="input-field"
                                                style="width: 100%;">
                                        </div>
                                        <button class="btn btn-primary clickable"
                                            style="width: 100%; justify-content: center; margin-top: 8px;"
                                            data-nav="mobile-admin-dashboard">LOGIN TO DASHBOARD</button>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-admin-dashboard" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Admin Dashboard</h2>
                        <div class="subtitle">System overview and management.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="padding: 20px; background: #111; border-bottom: 1px solid #222; display: flex; align-items: center; justify-content: space-between;">
                                    <span
                                        style="font-family: var(--font-display); font-weight: 900; font-size: 18px;">Admin</span>
                                    <span class="clickable" style="font-size: 12px; color: #666;"
                                        data-nav="mobile-home">LOGOUT</span>
                                </div>
                                <div style="flex: 1; overflow-y: auto; padding: 20px;">
                                    <div
                                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
                                        <div
                                            style="background: #111; padding: 16px; border-radius: 12px; border: 1px solid #333;">
                                            <div style="font-size: 24px; font-weight: 700; color: #fff;">1.2k</div>
                                            <div style="font-size: 11px; color: #666;">Total Users</div>
                                        </div>
                                        <div
                                            style="background: #111; padding: 16px; border-radius: 12px; border: 1px solid #333;">
                                            <div
                                                style="font-size: 24px; font-weight: 700; color: var(--accent-primary);">
                                                850</div>
                                            <div style="font-size: 11px; color: #666;">Active Alerts</div>
                                        </div>
                                    </div>
                                    <div
                                        style="font-size: 12px; color: #666; text-transform: uppercase; margin-bottom: 12px; font-family: var(--font-mono);">
                                        QUICK ACTIONS</div>
                                    <div style="display: flex; flex-direction: column; gap: 8px;">
                                        <div class="clickable"
                                            style="padding: 16px; background: #111; border-radius: 8px; border: 1px solid #333; display: flex; justify-content: space-between;">
                                            <span style="font-size: 14px;">Manage Users</span>
                                            <span style="color: #666;">→</span>
                                        </div>
                                        <div class="clickable"
                                            style="padding: 16px; background: #111; border-radius: 8px; border: 1px solid #333; display: flex; justify-content: space-between;">
                                            <span style="font-size: 14px;">Manage Products</span>
                                            <span style="color: #666;">→</span>
                                        </div>
                                        <div class="clickable"
                                            style="padding: 16px; background: #111; border-radius: 8px; border: 1px solid #333; display: flex; justify-content: space-between;">
                                            <span style="font-size: 14px;">System Logs</span>
                                            <span style="color: #666;">→</span>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- WEB: PROFILE SUB-PAGES -->
                <section id="view-web-profile-dashboard" class="view-section">
                    <header class="page-header">
                        <h2>Web: Dashboard</h2>
                        <div class="subtitle">User analytics and overview.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/dashboard</div>
                        </div>
                        <div class="web-nav">
                            <div class="web-nav-logo clickable" data-nav="web-home">
                                <img src="assets/img/logomark.svg" alt="HAO" style="height: 32px; width: auto;">
                                <span
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 20px; letter-spacing: -0.5px;">HAO<span
                                        style="color: #666; font-weight: 400;">.PK</span></span>
                            </div>
                            <div class="web-nav-links">
                                <span class="web-nav-link clickable" data-nav="web-home">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                    </svg>
                                    HOME
                                </span>
                                <span class="web-nav-link clickable" data-nav="web-search">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    SEARCH
                                </span>
                                <span class="web-nav-link clickable active" data-nav="web-profile">
                                    <svg class="web-nav-icon" viewBox="0 0 24 24">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    PROFILE
                                </span>
                            </div>
                            <div class="web-nav-user">
                                <button class="btn btn-ghost clickable" data-nav="web-login"
                                    style="font-size: 12px; padding: 8px 16px;">LOGIN</button>
                                <button class="btn btn-primary clickable" data-nav="web-signup"
                                    style="font-size: 12px; padding: 8px 16px;">SIGN UP</button>
                            </div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1400px; margin: 0 auto;">
                                <div class="clickable"
                                    style="margin-bottom: 24px; color: #666; font-size: 14px; padding: 4px; font-family: var(--font-mono);"
                                    data-nav="web-profile">← BACK</div>
                                <h1
                                    style="font-family: var(--font-display); font-size: 48px; margin: 0 0 20px; font-weight: 900; letter-spacing: -1px;">
                                    Dashboard</h1>
                                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                                    <div
                                        style="background: #111; padding: 20px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 12px; color: #888;">TOTAL SAVINGS</div>
                                        <div
                                            style="font-family: var(--font-mono); font-size: 32px; margin-top: 8px; color: var(--accent-primary);">
                                            <span class="price-currency">Rs.</span> 45<span
                                                class="price-decimal">k</span>
                                        </div>
                                    </div>
                                    <div
                                        style="background: #111; padding: 20px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 12px; color: #888;">ACTIVE ALERTS</div>
                                        <div
                                            style="font-family: var(--font-mono); font-size: 32px; margin-top: 8px; color: var(--accent-secondary);">
                                            12</div>
                                    </div>
                                    <div
                                        style="background: #111; padding: 20px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 12px; color: #888;">PRICE DROPS</div>
                                        <div style="font-family: var(--font-mono); font-size: 32px; margin-top: 8px;">3
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-profile-wishlist" class="view-section">
                    <header class="page-header">
                        <h2>Web: Wishlist</h2>
                        <div class="subtitle">Your saved products and price tracking.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/wishlist</div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1400px; margin: 0 auto;">
                                <div class="clickable"
                                    style="margin-bottom: 24px; color: #666; font-size: 14px; padding: 4px; font-family: var(--font-mono);"
                                    data-nav="web-profile">← BACK</div>
                                <h1
                                    style="font-family: var(--font-display); font-size: 48px; margin: 0 0 20px; font-weight: 900; letter-spacing: -1px;">
                                    Wishlist</h1>
                                <div class="product-card clickable clickable-product"
                                    style="width: 100%; margin-bottom: 12px;" data-nav="web-product">
                                    <div class="pc-img" style="height: 120px;"></div>
                                    <div class="pc-content">
                                        <div class="pc-title">MacBook Air M2</div>
                                        <div class="pc-price"><span class="price-currency">Rs.</span> 285<span
                                                class="price-decimal">,000</span></div>
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-top: 8px;">
                                            <span class="badge badge-primary"
                                                style="font-size: 9px; display: inline-block;">Drop
                                                -5%</span>
                                            <button
                                                onclick="event.stopPropagation(); haptics.light(); this.closest('.product-card').remove();"
                                                style="background: transparent; border: 1px solid var(--accent-alert); color: var(--accent-alert); font-size: 11px; padding: 6px 12px; border-radius: 4px; cursor: pointer;">REMOVE</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-profile-alerts" class="view-section">
                    <header class="page-header">
                        <h2>Web: Price Alerts</h2>
                        <div class="subtitle">Manage your price drop notifications.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/alerts</div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1400px; margin: 0 auto;">
                                <div class="clickable"
                                    style="margin-bottom: 24px; color: #666; font-size: 14px; padding: 4px; font-family: var(--font-mono);"
                                    data-nav="web-profile">← BACK</div>
                                <h1
                                    style="font-family: var(--font-display); font-size: 48px; margin: 0 0 20px; font-weight: 900; letter-spacing: -1px;">
                                    Price Alerts</h1>
                                <div
                                    style="background: #111; border: 1px solid #333; border-radius: 12px; padding: 20px;">
                                    <div style="font-size: 14px; margin-bottom: 4px;">iPhone 15 Pro</div>
                                    <div style="font-size: 11px; color: #666; margin-bottom: 8px;">Alert when price
                                        drops
                                        below Rs. 320,000</div>
                                    <span class="badge badge-primary" style="font-size: 9px;">Active</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-profile-settings" class="view-section">
                    <header class="page-header">
                        <h2>Web: Settings</h2>
                        <div class="subtitle">Account and app preferences.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/settings</div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1400px; margin: 0 auto;">
                                <div class="clickable"
                                    style="margin-bottom: 24px; color: #666; font-size: 14px; padding: 4px; font-family: var(--font-mono);"
                                    data-nav="web-profile">← BACK</div>
                                <h1
                                    style="font-family: var(--font-display); font-size: 48px; margin: 0 0 20px; font-weight: 900; letter-spacing: -1px;">
                                    Settings</h1>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div
                                        style="background: #111; padding: 20px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 14px; margin-bottom: 4px;">Notifications</div>
                                        <div style="font-size: 11px; color: #666;">Manage alert preferences</div>
                                    </div>
                                    <div
                                        style="background: #111; padding: 20px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 14px; margin-bottom: 4px;">Account</div>
                                        <div style="font-size: 11px; color: #666;">Edit profile and preferences</div>
                                    </div>
                                </div>
                                <button class="btn clickable"
                                    style="margin-top: 20px; width: 100%; border: 1px solid var(--accent-alert); color: var(--accent-alert); background: transparent; justify-content: center;"
                                    onclick="haptics.light(); switchView('web-login')" data-nav="web-login">LOG
                                    OUT</button>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-admin-login" class="view-section">
                    <header class="page-header">
                        <h2>Web: Admin Login</h2>
                        <div class="subtitle">Secure access for administrators.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/admin/login</div>
                        </div>
                        <div class="browser-content"
                            style="padding: 40px; display: flex; align-items: center; justify-content: center; min-height: 600px;">
                            <div style="width: 100%; max-width: 400px; text-align: center;">
                                <div
                                    style="width: 80px; height: 80px; background: #fff; border-radius: 16px; margin: 0 auto 24px; display: flex; align-items: center; justify-content: center;">
                                    <img src="assets/img/logomark.svg" alt="HAO"
                                        style="height: 40px; width: auto; filter: invert(1);">
                                </div>
                                <h1
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 32px; margin-bottom: 8px;">
                                    Admin Portal</h1>
                                <p style="color: #666; font-size: 16px; margin-bottom: 40px;">Enter your credentials to
                                    access the dashboard.</p>
                                <div style="text-align: left; display: flex; flex-direction: column; gap: 20px;">
                                    <div>
                                        <label
                                            style="font-size: 12px; color: #666; display: block; margin-bottom: 8px;">ADMIN
                                            EMAIL</label>
                                        <input type="email" value="admin@bhao.pk" class="input-field"
                                            style="width: 100%;">
                                    </div>
                                    <div>
                                        <label
                                            style="font-size: 12px; color: #666; display: block; margin-bottom: 8px;">PASSWORD</label>
                                        <input type="password" value="********" class="input-field"
                                            style="width: 100%;">
                                    </div>
                                    <button class="btn btn-primary clickable"
                                        style="width: 100%; justify-content: center; margin-top: 8px;"
                                        data-nav="web-admin-dashboard">LOGIN TO DASHBOARD</button>
                                </div>


                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-admin-dashboard" class="view-section">
                    <header class="page-header">
                        <h2>Web: Admin Dashboard</h2>
                        <div class="subtitle">System overview and management.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/admin/dashboard</div>
                        </div>
                        <div class="web-nav">
                            <div class="web-nav-logo clickable" data-nav="web-home">
                                <img src="assets/img/logomark.svg" alt="HAO" style="height: 32px; width: auto;">
                                <span
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 20px; letter-spacing: -0.5px;">HAO<span
                                        style="color: #666; font-weight: 400;">.PK</span> <span
                                        style="font-size: 12px; background: #333; padding: 4px 8px; border-radius: 4px; margin-left: 8px; vertical-align: middle;">ADMIN</span></span>
                            </div>
                            <div class="web-nav-user">
                                <button class="btn btn-ghost clickable" data-nav="web-home"
                                    style="font-size: 12px; padding: 8px 16px;">LOGOUT</button>
                            </div>
                        </div>
                        <div class="browser-content" style="padding: 40px;">
                            <div style="max-width: 1400px; margin: 0 auto;">
                                <h1
                                    style="font-family: var(--font-display); font-size: 48px; margin: 0 0 40px; font-weight: 900; letter-spacing: -1px;">
                                    System Overview</h1>
                                <div
                                    style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px; margin-bottom: 40px;">
                                    <div
                                        style="background: #111; padding: 24px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 12px; color: #888;">TOTAL USERS</div>
                                        <div
                                            style="font-family: var(--font-mono); font-size: 32px; margin-top: 8px; color: #fff;">
                                            1,245</div>
                                    </div>
                                    <div
                                        style="background: #111; padding: 24px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 12px; color: #888;">ACTIVE ALERTS</div>
                                        <div
                                            style="font-family: var(--font-mono); font-size: 32px; margin-top: 8px; color: var(--accent-primary);">
                                            850</div>
                                    </div>
                                    <div
                                        style="background: #111; padding: 24px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 12px; color: #888;">PRICE CRAWLS (24H)</div>
                                        <div
                                            style="font-family: var(--font-mono); font-size: 32px; margin-top: 8px; color: var(--accent-secondary);">
                                            12.5k</div>
                                    </div>
                                    <div
                                        style="background: #111; padding: 24px; border-radius: 12px; border: 1px solid #333;">
                                        <div style="font-size: 12px; color: #888;">SYSTEM STATUS</div>
                                        <div
                                            style="font-family: var(--font-mono); font-size: 32px; margin-top: 8px; color: #4CAF50;">
                                            Healthy</div>
                                    </div>
                                </div>

                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
                                    <div>
                                        <h3
                                            style="font-family: var(--font-display); font-weight: 800; font-size: 24px; margin-bottom: 20px;">
                                            Quick Actions</h3>
                                        <div style="display: flex; flex-direction: column; gap: 12px;">
                                            <div class="clickable"
                                                style="padding: 20px; background: #111; border-radius: 12px; border: 1px solid #333; display: flex; justify-content: space-between; align-items: center;">
                                                <div>
                                                    <div style="font-weight: 600; margin-bottom: 4px;">Manage Users
                                                    </div>
                                                    <div style="font-size: 12px; color: #666;">View, edit, or ban users
                                                    </div>
                                                </div>
                                                <span style="color: #666;">→</span>
                                            </div>
                                            <div class="clickable"
                                                style="padding: 20px; background: #111; border-radius: 12px; border: 1px solid #333; display: flex; justify-content: space-between; align-items: center;">
                                                <div>
                                                    <div style="font-weight: 600; margin-bottom: 4px;">Manage Products
                                                    </div>
                                                    <div style="font-size: 12px; color: #666;">Update prices and details
                                                    </div>
                                                </div>
                                                <span style="color: #666;">→</span>
                                            </div>
                                            <div class="clickable"
                                                style="padding: 20px; background: #111; border-radius: 12px; border: 1px solid #333; display: flex; justify-content: space-between; align-items: center;">
                                                <div>
                                                    <div style="font-weight: 600; margin-bottom: 4px;">System Logs</div>
                                                    <div style="font-size: 12px; color: #666;">View error and access
                                                        logs
                                                    </div>
                                                </div>
                                                <span style="color: #666;">→</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <h3
                                            style="font-family: var(--font-display); font-weight: 800; font-size: 24px; margin-bottom: 20px;">
                                            Recent Alerts</h3>
                                        <div
                                            style="background: #111; border: 1px solid #333; border-radius: 12px; overflow: hidden;">
                                            <div
                                                style="padding: 16px 24px; border-bottom: 1px solid #222; display: flex; justify-content: space-between; font-size: 12px; color: #666; font-family: var(--font-mono);">
                                                <span>USER</span>
                                                <span>PRODUCT</span>
                                                <span>TIME</span>
                                            </div>
                                            <div
                                                style="padding: 20px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222;">
                                                <span style="font-weight: 600;">john.doe@...</span>
                                                <span>iPhone 15 Pro</span>
                                                <span style="font-family: var(--font-mono); color: #666;">2m ago</span>
                                            </div>
                                            <div
                                                style="padding: 20px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222;">
                                                <span style="font-weight: 600;">sarah.k@...</span>
                                                <span>MacBook Air M2</span>
                                                <span style="font-family: var(--font-mono); color: #666;">15m ago</span>
                                            </div>
                                            <div
                                                style="padding: 20px 24px; display: flex; justify-content: space-between; align-items: center;">
                                                <span style="font-weight: 600;">ali.hassan@...</span>
                                                <span>Sony WH-1000XM5</span>
                                                <span style="font-family: var(--font-mono); color: #666;">1h ago</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </section>
                <section id="view-mobile-404" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: 404</h2>
                        <div class="subtitle">Page not found state.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; text-align: center;">
                                    <div style="font-size: 64px; margin-bottom: 20px;">🪐</div>
                                    <h1
                                        style="font-family: var(--font-display); font-weight: 900; font-size: 24px; margin-bottom: 8px;">
                                        Lost in Space</h1>
                                    <p style="color: #666; font-size: 14px; margin-bottom: 32px;">The page you are
                                        looking
                                        for has drifted away into the void.</p>
                                    <button class="btn btn-primary clickable"
                                        style="width: 100%; justify-content: center;" data-nav="mobile-home">RETURN
                                        HOME</button>


                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-error" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Error</h2>
                        <div class="subtitle">System error state.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; text-align: center;">
                                    <div style="font-size: 64px; margin-bottom: 20px;">⚠️</div>
                                    <h1
                                        style="font-family: var(--font-display); font-weight: 900; font-size: 24px; margin-bottom: 8px;">
                                        System Malfunction</h1>
                                    <p style="color: #666; font-size: 14px; margin-bottom: 32px;">We encountered a
                                        critical
                                        error. Our engineers have been notified.</p>
                                    <button class="btn btn-secondary clickable"
                                        style="width: 100%; justify-content: center;" onclick="location.reload()">RETRY
                                        CONNECTION</button>


                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-mobile-loading" class="view-section">
                    <header class="page-header">
                        <h2>Mobile: Loading</h2>
                        <div class="subtitle">System loading state.</div>
                    </header>
                    <div style="display: flex; justify-content: center; padding-bottom: 100px;">
                        <div class="device-frame">
                            <div class="mobile-screen">
                                <div
                                    style="height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; text-align: center;">
                                    <div class="loading-spinner"
                                        style="width: 40px; height: 40px; border: 3px solid #333; border-top-color: var(--accent-primary); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 20px;">
                                    </div>
                                    <div
                                        style="font-family: var(--font-mono); font-size: 12px; color: #666; letter-spacing: 2px;">
                                        INITIALIZING...</div>


                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-404" class="view-section">
                    <header class="page-header">
                        <h2>Web: 404</h2>
                        <div class="subtitle">Page not found state.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/404</div>
                        </div>
                        <div class="browser-content"
                            style="padding: 40px; display: flex; align-items: center; justify-content: center; min-height: 600px;">
                            <div style="text-align: center; max-width: 400px;">
                                <div style="font-size: 80px; margin-bottom: 24px;">🪐</div>
                                <h1
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 48px; margin-bottom: 16px;">
                                    Lost in Space</h1>
                                <p style="color: #666; font-size: 16px; margin-bottom: 40px;">The page you are looking
                                    for
                                    has drifted away into the void.</p>
                                <button class="btn btn-primary clickable"
                                    style="justify-content: center; padding: 12px 32px;" data-nav="web-home">RETURN
                                    HOME</button>


                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-error" class="view-section">
                    <header class="page-header">
                        <h2>Web: Error</h2>
                        <div class="subtitle">System error state.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/error</div>
                        </div>
                        <div class="browser-content"
                            style="padding: 40px; display: flex; align-items: center; justify-content: center; min-height: 600px;">
                            <div style="text-align: center; max-width: 400px;">
                                <div style="font-size: 80px; margin-bottom: 24px;">⚠️</div>
                                <h1
                                    style="font-family: var(--font-display); font-weight: 900; font-size: 48px; margin-bottom: 16px;">
                                    System Malfunction</h1>
                                <p style="color: #666; font-size: 16px; margin-bottom: 40px;">We encountered a critical
                                    error. Our engineers have been notified.</p>
                                <button class="btn btn-secondary clickable"
                                    style="justify-content: center; padding: 12px 32px;"
                                    onclick="location.reload()">RETRY
                                    CONNECTION</button>


                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-web-loading" class="view-section">
                    <header class="page-header">
                        <h2>Web: Loading</h2>
                        <div class="subtitle">System loading state.</div>
                    </header>
                    <div class="browser-frame">
                        <div class="browser-header">
                            <div class="dot red"></div>
                            <div class="dot yellow"></div>
                            <div class="dot green"></div>
                            <div
                                style="background: #000; flex: 1; margin-left: 10px; border-radius: 4px; font-size: 10px; display: flex; align-items: center; padding: 0 10px; color: #666; font-family: var(--font-mono);">
                                Bhao.pk/loading</div>
                        </div>
                        <div class="browser-content"
                            style="padding: 40px; display: flex; align-items: center; justify-content: center; min-height: 600px;">
                            <div style="text-align: center; max-width: 400px;">
                                <div class="loading-spinner"
                                    style="width: 60px; height: 60px; border: 4px solid #333; border-top-color: var(--accent-primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 24px;">
                                </div>
                                <div
                                    style="font-family: var(--font-mono); font-size: 14px; color: #666; letter-spacing: 2px;">
                                    INITIALIZING SYSTEM...</div>


                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <script>
            // Product data
            const products = {
                'iphone-15-pro': {
                    id: 'iphone-15-pro',
                    name: 'iPhone 15 Pro',
                    price: 345000,
                    specs: '256GB • Titanium • A17 Pro',
                    image: 'https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400&h=400&fit=crop',
                    rating: 4.9,
                    reviews: 120,
                    store: 'Daraz',
                    tag: 'BEST DEAL',
                    lowest: 340000,
                    trend: 'down',
                    trendPercent: 5
                },
                'iphone-15': {
                    id: 'iphone-15',
                    name: 'iPhone 15',
                    price: 315000,
                    specs: '128GB • Telemart',
                    image: 'https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?w=400&h=400&fit=crop',
                    rating: 4.5,
                    reviews: 89,
                    store: 'Telemart',
                    tag: 'HOT',
                    lowest: 310000,
                    trend: 'down',
                    trendPercent: 3
                },
                'samsung-s24': {
                    id: 'samsung-s24',
                    name: 'Samsung S24 Ultra',
                    price: 320000,
                    specs: '512GB • Snapdragon 8 Gen 3',
                    image: 'https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?w=400&h=400&fit=crop',
                    rating: 4.8,
                    reviews: 95,
                    store: 'Daraz',
                    tag: 'SAVE 20%',
                    lowest: 315000,
                    trend: 'down',
                    trendPercent: 8
                },
                'airpods-pro': {
                    id: 'airpods-pro',
                    name: 'AirPods Pro',
                    price: 65000,
                    specs: '2nd Gen • Active Noise Cancellation',
                    image: 'https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=400&h=400&fit=crop',
                    rating: 4.7,
                    reviews: 156,
                    store: 'Daraz',
                    tag: null,
                    lowest: 62000,
                    trend: 'down',
                    trendPercent: 2
                },
                'macbook-air-m2': {
                    id: 'macbook-air-m2',
                    name: 'MacBook Air M2',
                    price: 285000,
                    specs: '13" • 8GB RAM • 256GB SSD',
                    image: 'https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400&h=400&fit=crop',
                    rating: 4.9,
                    reviews: 78,
                    store: 'Shophive',
                    tag: 'Drop -5%',
                    lowest: 280000,
                    trend: 'down',
                    trendPercent: 5
                },
                'iphone-15-plus': {
                    id: 'iphone-15-plus',
                    name: 'iPhone 15 Plus',
                    price: 335000,
                    specs: '256GB • Shophive',
                    image: 'https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400&h=400&fit=crop',
                    rating: 4.7,
                    reviews: 56,
                    store: 'Shophive',
                    tag: null,
                    lowest: 330000,
                    trend: 'stable',
                    trendPercent: 0
                },
                'ipad-pro': {
                    id: 'ipad-pro',
                    name: 'iPad Pro 12.9"',
                    price: 245000,
                    specs: 'M2 Chip • 128GB • Wi-Fi',
                    image: 'https://images.unsplash.com/photo-1544244015-0d4f4909ec93?w=400&h=400&fit=crop',
                    rating: 4.8,
                    reviews: 112,
                    store: 'Telemart',
                    tag: 'NEW',
                    lowest: 240000,
                    trend: 'down',
                    trendPercent: 3
                },
                'sony-wh1000xm5': {
                    id: 'sony-wh1000xm5',
                    name: 'Sony WH-1000XM5',
                    price: 85000,
                    specs: 'Noise Cancelling • 30hr Battery',
                    image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop',
                    rating: 4.6,
                    reviews: 203,
                    store: 'Daraz',
                    tag: null,
                    lowest: 82000,
                    trend: 'down',
                    trendPercent: 4
                },
                'galaxy-watch': {
                    id: 'galaxy-watch',
                    name: 'Galaxy Watch 6',
                    price: 75000,
                    specs: '44mm • LTE • Health Tracking',
                    image: 'https://images.unsplash.com/photo-1579586337278-3befd40f17ca?w=400&h=400&fit=crop',
                    rating: 4.5,
                    reviews: 87,
                    store: 'Telemart',
                    tag: 'BEST',
                    lowest: 72000,
                    trend: 'down',
                    trendPercent: 6
                },
                'oneplus-11': {
                    id: 'oneplus-11',
                    name: 'OnePlus 11',
                    price: 185000,
                    specs: '256GB • Snapdragon 8 Gen 2',
                    image: 'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=400&fit=crop',
                    rating: 4.4,
                    reviews: 134,
                    store: 'Shophive',
                    tag: null,
                    lowest: 180000,
                    trend: 'down',
                    trendPercent: 7
                }
            };

            // Store URLs mapping
            const storeUrls = {
                'Daraz': 'https://www.daraz.pk',
                'Telemart': 'https://www.telemart.pk',
                'Shophive': 'https://www.shophive.com'
            };

            // Global state management
            let isLoggedIn = false;
            let navigationHistory = {}; // Track where user came from for each view
            let currentProductId = null; // Track current product being viewed
            let activeFilters = {
                priceMin: '',
                priceMax: '',
                stores: [],
                sortBy: 'best-match'
            };

            // Interface sounds system
            const sounds = {
                enabled: true,
                audioContext: null,
                initialized: false,

                // Initialize audio context - must be called on user interaction
                init: () => {
                    if (sounds.initialized) return;

                    try {
                        sounds.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        sounds.initialized = true;
                    } catch (e) {
                        console.log('Audio context not supported');
                    }
                },

                // Ensure audio context is ready
                ensureContext: async () => {
                    if (!sounds.enabled) return false;

                    try {
                        // Initialize if not already done
                        if (!sounds.audioContext) {
                            sounds.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                            sounds.initialized = true;
                        }

                        // Resume if suspended (browser autoplay policy)
                        if (sounds.audioContext.state === 'suspended') {
                            await sounds.audioContext.resume();
                        }

                        // Wait for context to be running - try multiple times if needed
                        let attempts = 0;
                        while (sounds.audioContext && sounds.audioContext.state !== 'running' && attempts < 5) {
                            try {
                                await sounds.audioContext.resume();
                            } catch (e) {
                                // Ignore resume errors
                            }
                            attempts++;
                            // Small delay between attempts
                            if (sounds.audioContext && sounds.audioContext.state !== 'running') {
                                await new Promise(resolve => setTimeout(resolve, 30));
                            }
                        }

                        return sounds.audioContext && sounds.audioContext.state === 'running';
                    } catch (e) {
                        return false;
                    }
                },

                // Generate a high-frequency click/beep sound (very low volume - 0.7/10)
                playClick: async (frequency = 800, duration = 50) => {
                    if (!sounds.enabled) return;

                    const ready = await sounds.ensureContext();
                    if (!ready) return;

                    try {
                        const now = sounds.audioContext.currentTime;
                        const oscillator = sounds.audioContext.createOscillator();
                        const gainNode = sounds.audioContext.createGain();

                        oscillator.connect(gainNode);
                        gainNode.connect(sounds.audioContext.destination);

                        oscillator.frequency.value = frequency;
                        oscillator.type = 'sine';

                        // Very low volume: 0.07 (0.7/10)
                        gainNode.gain.setValueAtTime(0.07, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.001, now + duration / 1000);

                        oscillator.start(now);
                        oscillator.stop(now + duration / 1000);
                    } catch (e) {
                        // Silently fail if audio is not supported
                    }
                },

                // "The Swoosh" - Filtered noise for page transitions
                playSlide: async () => {
                    if (!sounds.enabled) return;

                    try {
                        const ready = await sounds.ensureContext();
                        if (!ready || !sounds.audioContext) return;

                        const now = sounds.audioContext.currentTime;

                        // 1. Create White Noise (Random Static)
                        const bufferSize = Math.floor(sounds.audioContext.sampleRate * 0.2); // 0.2 seconds
                        const buffer = sounds.audioContext.createBuffer(1, bufferSize, sounds.audioContext.sampleRate);
                        const data = buffer.getChannelData(0);

                        for (let i = 0; i < bufferSize; i++) {
                            data[i] = Math.random() * 2 - 1; // Random numbers create "static"
                        }

                        const noise = sounds.audioContext.createBufferSource();
                        noise.buffer = buffer;

                        // 2. Filter it (Muffle the sharp static)
                        const filter = sounds.audioContext.createBiquadFilter();
                        filter.type = 'lowpass'; // Cuts off high frequencies
                        filter.frequency.setValueAtTime(1000, now);
                        filter.frequency.exponentialRampToValueAtTime(100, now + 0.2); // Slide filter down

                        // 3. Shape the Volume (very low volume - 0.7/10 = 0.07, but even lower for subtlety)
                        const gain = sounds.audioContext.createGain();
                        gain.gain.setValueAtTime(0.015, now); // Start at 0.015 (very low)
                        gain.gain.exponentialRampToValueAtTime(0.001, now + 0.2);

                        noise.connect(filter);
                        filter.connect(gain);
                        gain.connect(sounds.audioContext.destination);

                        noise.start(now);
                        noise.stop(now + 0.2);
                    } catch (e) {
                        // Silently fail if audio is not supported
                    }
                },

                // Toggle sound on/off
                toggle: () => {
                    sounds.enabled = !sounds.enabled;
                    const toggle = document.getElementById('sound-toggle');
                    if (toggle) {
                        toggle.textContent = sounds.enabled ? '🔊' : '🔇';
                        toggle.classList.toggle('muted', !sounds.enabled);
                        document.body.classList.toggle('no-noise', !sounds.enabled);
                    }
                    // Play confirmation sound
                    if (sounds.enabled) {
                        setTimeout(() => sounds.playClick(600, 30), 50);
                    }
                }
            };

            // Make sounds globally accessible
            window.sounds = sounds;

            // Haptic feedback patterns
            const haptics = {
                // Check if vibration API is supported
                isSupported: () => {
                    return 'vibrate' in navigator;
                },

                // Light tap - for button clicks, menu items
                light: () => {
                    if (haptics.isSupported()) {
                        navigator.vibrate(10);
                    }
                    sounds.playClick(800, 30);
                },

                // Medium tap - for important actions
                medium: () => {
                    if (haptics.isSupported()) {
                        navigator.vibrate(20);
                    }
                    sounds.playClick(1000, 40);
                },

                // Strong tap - for critical actions
                strong: () => {
                    if (haptics.isSupported()) {
                        navigator.vibrate(30);
                    }
                    sounds.playClick(1200, 50);
                },

                // Success pattern - for successful actions
                success: () => {
                    if (haptics.isSupported()) {
                        navigator.vibrate([10, 50, 20]);
                    }
                    sounds.playClick(600, 30);
                    setTimeout(() => sounds.playClick(800, 30), 100);
                },

                // Error pattern - for errors or warnings
                error: () => {
                    if (haptics.isSupported()) {
                        navigator.vibrate([30, 50, 30, 50, 30]);
                    }
                    sounds.playClick(400, 40);
                    setTimeout(() => sounds.playClick(400, 40), 100);
                    setTimeout(() => sounds.playClick(400, 40), 200);
                },

                // Navigation pattern - for page transitions (sound handled in switchView)
                navigation: () => {
                    if (haptics.isSupported()) {
                        navigator.vibrate(15);
                    }
                    // Don't play click here - slide sound is played in switchView
                },

                // Selection pattern - for selecting items
                selection: () => {
                    if (haptics.isSupported()) {
                        navigator.vibrate(12);
                    }
                    sounds.playClick(900, 20);
                },

                // Double tap - for toggle actions
                doubleTap: () => {
                    if (haptics.isSupported()) {
                        navigator.vibrate([10, 30, 10]);
                    }
                    sounds.playClick(600, 25);
                    setTimeout(() => sounds.playClick(800, 25), 50);
                }
            };

            // Open external product page
            function openExternalProduct() {
                haptics.medium(); // Haptic feedback for external link
                if (!currentProductId) return;
                const product = products[currentProductId];
                if (!product || !product.store) return;

                const storeUrl = storeUrls[product.store];
                if (storeUrl) {
                    // In a real app, this would open the specific product URL
                    // For showcase, we'll open the store homepage
                    window.open(storeUrl, '_blank');
                }
            }

            // Make globally accessible
            window.openExternalProduct = openExternalProduct;

            // Diagrams Data
            const diagramsData = {
                'class-diagram': {
                    title: 'Class Diagram',
                    folder: 'Class Diagram',
                    images: [
                        {
                            file: 'classDiagramUpdated.png',
                            title: 'Class Diagram: Bhao.pk System Structure',
                            description: 'Represents the static structure of the system, showing classes, attributes, operations, and relationships.',
                            points: [
                                'User Class: Stores userID, email, passwordHash. Operations: login, register.',
                                'Product Class: Central entity (title, category). Operations: getLowestPrice().',
                                'Store Class: External vendors (Daraz, PriceOye).',
                                'StoreListing Class: Specific offer (price, url) linking Product to Store.',
                                'Alert Class: Notification trigger (targetPrice, isActive).',
                                'ScraperBot Class: Backend automation for fetching data.'
                            ]
                        }
                    ]
                },
                'database-schema': {
                    title: 'Database Schema',
                    folder: 'Database Schema',
                    images: [
                        {
                            file: 'DBSchema.png',
                            title: 'Database Schema: Bhao.pk',
                            description: 'Defines the database tables, columns, and relationships.',
                            points: [
                                'Users Table: Stores account info. One User sets Many Alerts.',
                                'Alerts Table: Manages price notifications. Links Users to Products.',
                                'Products Table: Central catalog. One Product has Many Listings.',
                                'Stores Table: Defines external vendors.',
                                'Store_Listings Table: Bridge between Products and Stores.',
                                'Price_History Table: Logs price changes over time.'
                            ]
                        }
                    ]
                },
                'domain-model': {
                    title: 'Domain Model',
                    folder: 'Domain Model Diagram',
                    images: [
                        {
                            file: 'domainmodel.png',
                            title: 'Domain Model: ScraperBot',
                            description: 'Focuses on the ScraperBot domain entity.',
                            points: [
                                'ScraperBot Class: Backend automation engine.',
                                'Attributes: botID, execution schedule.',
                                'Operations: executeJob() triggers crawling.',
                                'Relationship: Dependency on StoreListing (creates/updates listings).'
                            ]
                        }
                    ]
                },
                'entity-relation': {
                    title: 'Entity Relation Diagram',
                    folder: 'Entity Relation Diagram',
                    images: [
                        {
                            file: 'ERD.png',
                            title: 'Entity Relation Diagram',
                            description: 'Visualizes the relationships between system entities.',
                            points: [
                                'USER: Connects to ALERT (Sets).',
                                'ALERT: Links USER to PRODUCT (Has).',
                                'PRODUCT: Connects to STORE_LISTING (Represented_By).',
                                'STORE: Connects to STORE_LISTING (Offers).',
                                'STORE_LISTING: Links PRODUCT to STORE.',
                                'PRICE_HISTORY: Logs changes for STORE_LISTING.'
                            ]
                        }
                    ]
                },
                'software-architecture': {
                    title: 'Software Architecture',
                    folder: 'Software Architecture Diagram',
                    images: [
                        {
                            file: 'softwareArchitectureDiagram.png',
                            title: 'Software Architecture',
                            description: 'High-level architectural layers of the system.',
                            points: [
                                'Client Layer: React Frontend, Mobile App.',
                                'UI Layer: API Gateway, Authentication.',
                                'Business Logic Layer: Scraping Manager, Search Engine, Alert System.',
                                'Database Layer: DAO, Query Builder.',
                                'Data Storage: PostgreSQL Database.'
                            ]
                        }
                    ]
                },
                'usecase-diagram': {
                    title: 'Use Case Diagram',
                    folder: 'Usecase Diagram',
                    images: [
                        {
                            file: 'UsecaseDiagram.png',
                            title: 'Use Case Diagram',
                            description: 'System overview showing actors and features.',
                            points: [
                                'User Actor: Main interactor (Search, Browse, Analysis, Actions).',
                                'Admin Actor: Accesses Dashboard Stats.',
                                'Shared: Login.',
                                'Features: Search Products, View Details, Set Alert, Manage Wishlist.'
                            ]
                        }
                    ]
                },
                'sequence-diagrams': {
                    title: 'Sequence Diagrams',
                    folder: 'SequenceDiagrams',
                    images: [
                        {
                            file: 'SequenceDiagram1SearchProducts.png',
                            title: 'Search Products',
                            description: 'User enters keywords -> Browser requests -> Server queries DB -> DB returns data -> Server aggregates -> Browser renders.',
                            points: ['User enters keywords.', 'Browser sends getSearchResults(query).', 'Server calls selectProducts(query).', 'Server aggregates vendor data.', 'Browser renders product grid.']
                        },
                        {
                            file: 'SequenceDiagram2FilterAndSort.png',
                            title: 'Filter and Sort',
                            description: 'User selects filter -> Browser requests -> Server queries with sort -> DB returns sorted data -> Browser updates view.',
                            points: ['User selects filter/sort.', 'Browser sends requestFilteredData.', 'Server calls queryWithSort.', 'Browser updates results.']
                        },
                        {
                            file: 'SequenceDiagram3ViewProductDetails.png',
                            title: 'View Product Details',
                            description: 'User clicks product -> Browser requests details -> Server fetches info & listings -> Browser displays page.',
                            points: ['User clicks product ID.', 'Browser calls fetchDetails(id).', 'Server calls getProductInfo(id).', 'Browser displays Product Page.']
                        },
                        {
                            file: 'SequenceDiagram4PriceHistory.png',
                            title: 'View Price History',
                            description: 'User loads page -> Browser requests history -> Server fetches logs -> Browser renders graph.',
                            points: ['User loads product page.', 'Browser calls getHistory(productId).', 'Server calls selectPriceLogs.', 'Browser renders price history graph.']
                        },
                        {
                            file: 'SequenceDiagram5SetPriceAlert.png',
                            title: 'Set Price Alert',
                            description: 'User submits alert -> Server validates token -> DB inserts alert -> Browser shows success.',
                            points: ['User submits target price.', 'Server checks token.', 'Database inserts alert.', 'Browser displays success toast.']
                        },
                        {
                            file: 'SequenceDiagram6Recommendations.png',
                            title: 'Recommendations',
                            description: 'User loads home -> Browser requests recs -> Server checks persona -> DB returns products -> Browser displays section.',
                            points: ['User loads homepage.', 'Server gets User Persona.', 'Server gets Products by Category.', 'Browser displays "Recommended for You".']
                        },
                        {
                            file: 'SequenceDiagram7AddToWishlist.png',
                            title: 'Add to Wishlist',
                            description: 'User clicks heart -> Server checks existence -> DB inserts item -> Browser updates icon.',
                            points: ['User clicks heart icon.', 'Server checks checkItemExists.', 'Database inserts Wishlist Item.', 'Browser fills heart icon.']
                        },
                        {
                            file: 'SequenceDiagram8SignUp.png',
                            title: 'Sign Up',
                            description: 'User submits form -> Server checks uniqueness -> DB saves user -> Browser shows success.',
                            points: ['User submits registration.', 'Server checks email uniqueness.', 'Database saves user.', 'Browser displays success.']
                        },
                        {
                            file: 'SequenceDiagram9Login.png',
                            title: 'Login',
                            description: 'User enters credentials -> Server looks up user -> Hashes match? -> Return Token/Error.',
                            points: ['User submits credentials.', 'Server gets user by email.', 'Compare password hash.', 'Return Auth Token or Error.']
                        },
                        {
                            file: 'SequenceDiagram10AdminDasboard.png',
                            title: 'Admin Dashboard',
                            description: 'Admin loads view -> UI requests stats -> Server counts products/users -> UI renders charts.',
                            points: ['Admin opens dashboard.', 'UI calls fetchStats().', 'Server counts products and users.', 'UI renders charts.']
                        }
                    ]
                },
                'system-sequence-diagrams': {
                    title: 'System Sequence Diagrams',
                    folder: 'System Sequence Diagrams',
                    images: [
                        {
                            file: 'ssd1SearchProducts.png',
                            title: 'SSD: Search Products',
                            description: 'User enters query -> System returns List of Products.',
                            points: ['User enters search term.', 'Message: enterSearchQuery("query").', 'System returns Product List.']
                        },
                        {
                            file: 'ssd2FilterAndSort.png',
                            title: 'SSD: Filter and Sort',
                            description: 'User selects criteria -> System returns Filtered Product List.',
                            points: ['User selects filter/sort.', 'Message: applyFilter("criteria").', 'System returns Filtered List.']
                        },
                        {
                            file: 'ssd3ViewProductDetails.png',
                            title: 'SSD: View Product Details',
                            description: 'User clicks product -> System returns Details & Comparison.',
                            points: ['User clicks product.', 'Message: selectProduct("id").', 'System returns Details.']
                        },
                        {
                            file: 'ssd4ViewPriceHistory.png',
                            title: 'SSD: View Price History',
                            description: 'User navigates to history -> System returns Graph Data.',
                            points: ['User views history.', 'Message: requestPriceHistory("id").', 'System returns Graph Data.']
                        },
                        {
                            file: 'ssd5SetPriceAlert.png',
                            title: 'SSD: Set Price Alert',
                            description: 'User enters price -> System returns Confirmation.',
                            points: ['User enters target price.', 'Message: submitTargetPrice(price).', 'System returns Confirmation.']
                        },
                        {
                            file: 'ssd6Recommendations.png',
                            title: 'SSD: Recommendations',
                            description: 'User visits home -> System returns Recommended List.',
                            points: ['User visits homepage.', 'Message: visitHomePage().', 'System returns Recommendations.']
                        },
                        {
                            file: 'ssd7ManageWishlist.png',
                            title: 'SSD: Manage Wishlist',
                            description: 'User clicks heart -> System returns Updated Icon.',
                            points: ['User clicks heart.', 'Message: clickAddToWishlist("id").', 'System returns Updated Icon.']
                        },
                        {
                            file: 'ssd8SignUp.png',
                            title: 'SSD: Sign Up',
                            description: 'User submits form -> System returns Success Message.',
                            points: ['User submits form.', 'Message: submitRegistration().', 'System returns Success.']
                        },
                        {
                            file: 'ssd9Login.png',
                            title: 'SSD: Login',
                            description: 'User submits credentials -> System returns Dashboard or Error.',
                            points: ['User submits credentials.', 'Message: submitLogin().', 'System returns Dashboard/Error.']
                        },
                        {
                            file: 'ssd10AdminStats.png',
                            title: 'SSD: Admin Stats',
                            description: 'Admin requests dashboard -> System returns Stats.',
                            points: ['Admin requests dashboard.', 'Message: requestDashboard().', 'System returns Stats.']
                        }
                    ]
                }
            };
            // Make diagramsData globally accessible
            window.diagramsData = diagramsData;

            // View information data
            const viewInfo = {
                'atoms': {
                    title: 'Atoms & Typography',
                    subtitle: 'The fundamental building blocks of the HAO visual language.',
                    description: 'This section showcases the core atomic elements of the design system, including typography, colors, and spacing rules.',
                    points: [
                        'Typography system using Archivo and JetBrains Mono',
                        'Color palette with 5 main accent colors',
                        'Spacing system based on 4px grid',
                        'High contrast, data-driven aesthetics',
                        'Swiss Style inspired design principles',
                        'Pure Data. No Fluff. philosophy'
                    ]
                },
                'components': {
                    title: 'Interactive Components',
                    subtitle: 'Atomic elements in various states and interactions.',
                    description: 'A collection of interactive components such as buttons, inputs, and cards, demonstrating various states like hover, active, and disabled.',
                    points: [
                        'Button variants: Primary, Secondary, Ghost, Disabled',
                        'Input fields with focus and error states',
                        'Product cards with hover effects and tags',
                        'Toast notifications and badge system',
                        'All components follow design system tokens',
                        'Interactive states demonstrate UX patterns'
                    ]
                },
                'mobile-home': {
                    title: 'Mobile: Home',
                    subtitle: 'Trending deals and personalized recommendations.',
                    description: 'The main landing page for the mobile app, featuring a search bar, trending products, and personalized recommendations based on user history.',
                    points: [
                        'FR2: The user shall view a section of "Trending Products" highlighted on the homepage.',
                        'FR3: The user shall view real-time search suggestions while typing in the search bar.',
                        'FR4: The user shall view a list of their recently viewed products for quick access.',
                        'FR19: The user shall view personalized product recommendations based on their browsing history.',
                        'UC1: Search Product',
                        'UC9: View Recommendations'
                    ]
                },
                'mobile-search': {
                    title: 'Mobile: Search Results',
                    subtitle: 'Filtered product listings with key specs and price comparisons.',
                    description: 'Displays search results with options to filter by price, store, and sort order. Includes product cards with key specifications.',
                    points: [
                        'FR1: The user shall view product listings retrieved from multiple supported e-commerce platforms.',
                        'FR5: The user shall sort search results by Price (Low to High).',
                        'FR6: The user shall filter the results by specific Store.',
                        'FR7: The user shall filter the results by Price Range (Min/Max).',
                        'FR18: The user shall identify the best deals via automatically assigned "Best Value" badges.',
                        'FR24: The user shall compare prices across different stores.',
                        'UC3: View Search Results',
                        'UC5: Filter & Sort Results'
                    ]
                },
                'mobile-product': {
                    title: 'Mobile: Product Detail',
                    subtitle: 'Comprehensive product information with price history and comparisons.',
                    description: 'Detailed view of a specific product, showing price history charts, comparison with other stores, and options to set price alerts.',
                    points: [
                        'FR9: The user shall set a specific target price alert for a product.',
                        'FR15: The user shall view a graphical history of price changes over time.',
                        'FR16: The user shall add products to a personal "Wishlist".',
                        'UC2: Set Price Alert',
                        'UC4: View Product Details',
                        'UC6: View Price History',
                        'UC10: Manage Wishlist'
                    ]
                },
                'mobile-profile': {
                    title: 'Mobile: Profile',
                    subtitle: 'User dashboard with wishlist, alerts, and settings.',
                    description: 'The user\'s personal dashboard for managing their account, viewing their wishlist, and configuring price alerts.',
                    points: [
                        'FR11: The user shall log out of the system.',
                        'FR13: The user shall receive an email notification when a price drops to or below the target.',
                        'FR14: The user shall receive a push notification on the mobile app for price drops.',
                        'FR17: The user shall remove products from their "Wishlist".',
                        'UC10: Manage Wishlist'
                    ]
                },
                'mobile-profile-wishlist': {
                    title: 'Mobile: Wishlist',
                    subtitle: 'Tracked products and price monitoring.',
                    description: 'A list of products the user is tracking, with current prices and trends.',
                    points: [
                        'FR16: The user shall add products to a personal "Wishlist".',
                        'FR17: The user shall remove products from their "Wishlist".',
                        'UC10: Manage Wishlist'
                    ]
                },
                'mobile-profile-alerts': {
                    title: 'Mobile: Price Alerts',
                    subtitle: 'Configure and manage price drop notifications.',
                    description: 'Settings for managing price drop notifications and alert preferences.',
                    points: [
                        'FR9: The user shall set a specific target price alert for a product.',
                        'FR13: The user shall receive an email notification when a price drops to or below the target.',
                        'FR14: The user shall receive a push notification on the mobile app for price drops.',
                        'UC2: Set Price Alert'
                    ]
                },
                'mobile-profile-settings': {
                    title: 'Mobile: Settings',
                    subtitle: 'Account preferences and app configuration.',
                    description: 'General application settings and account management options.',
                    points: [
                        'FR11: The user shall log out of the system.',
                        'FR14: The user shall receive a push notification on the mobile app for price drops.',
                        'UC8: Login'
                    ]
                },
                'mobile-login': {
                    title: 'Mobile: Login',
                    subtitle: 'Secure authentication with email and password.',
                    description: 'The login screen for existing users to access their account.',
                    points: [
                        'FR10: The user shall log into the system using valid credentials.',
                        'UC8: Login'
                    ]
                },
                'mobile-signup': {
                    title: 'Mobile: Sign Up',
                    subtitle: 'Create account with email and password.',
                    description: 'Registration screen for new users to create an account.',
                    points: [
                        'FR8: The user shall create a new account (Sign up) using email and password.',
                        'UC7: Sign Up'
                    ]
                },
                'mobile-forgot-password': {
                    title: 'Mobile: Forgot Password',
                    subtitle: 'Reset your password to regain access.',
                    description: 'Screen to initiate password recovery via email.',
                    points: [
                        'FR12: The user shall recover a forgotten password via email.',
                        'UC8: Login'
                    ]
                },
                'mobile-admin-login': {
                    title: 'Mobile: Admin Login',
                    subtitle: 'Secure access for administrators.',
                    description: 'Login screen specifically for system administrators.',
                    points: [
                        'FR20: Admin shall log into the backend dashboard.',
                        'UC8: Login'
                    ]
                },
                'mobile-admin-dashboard': {
                    title: 'Mobile: Admin Dashboard',
                    subtitle: 'System overview and management.',
                    description: 'Dashboard for administrators to view system statistics and manage users/products.',
                    points: [
                        'FR21: Admin shall view statistics on total products scraped and active users.',
                        'UC11: View Dashboard Stats'
                    ]
                },
                'mobile-404': {
                    title: 'Mobile: 404',
                    subtitle: 'Page not found state.',
                    description: 'Displayed when a user navigates to a non-existent page.',
                    points: [
                        'FR22: Error Handling',
                        'UC13: Navigation Error'
                    ]
                },
                'mobile-error': {
                    title: 'Mobile: Error',
                    subtitle: 'System error state.',
                    description: 'Displayed when a system error occurs.',
                    points: [
                        'FR22: Error Handling',
                        'UC14: System Error'
                    ]
                },
                'mobile-loading': {
                    title: 'Mobile: Loading',
                    subtitle: 'System loading state.',
                    points: [
                        'FR23: System Feedback'
                    ]
                },
                'web-home': {
                    title: 'Web: Home',
                    subtitle: 'Data-dense landing with intelligent search.',
                    description: 'The main landing page for the web platform, optimized for larger screens with a focus on search and discovery.',
                    points: [
                        'FR2: The user shall view a section of "Trending Products" highlighted on the homepage.',
                        'FR3: The user shall view real-time search suggestions while typing in the search bar.',
                        'FR4: The user shall view a list of their recently viewed products for quick access.',
                        'FR19: The user shall view personalized product recommendations based on their browsing history.',
                        'UC1: Search Product',
                        'UC9: View Recommendations'
                    ]
                },
                'web-search': {
                    title: 'Web: Search Results',
                    subtitle: 'Advanced filtering and comparison tools for price discovery.',
                    description: 'Search results page for web, featuring advanced filtering sidebars and detailed product list views.',
                    points: [
                        'FR1: The user shall view product listings retrieved from multiple supported e-commerce platforms.',
                        'FR5: The user shall sort search results by Price (Low to High).',
                        'FR6: The user shall filter the results by specific Store.',
                        'FR7: The user shall filter the results by Price Range (Min/Max).',
                        'FR18: The user shall identify the best deals via automatically assigned "Best Value" badges.',
                        'FR24: The user shall compare prices across different stores.',
                        'UC3: View Search Results',
                        'UC5: Filter & Sort Results'
                    ]
                },
                'web-product': {
                    title: 'Web: Product Detail',
                    subtitle: 'Comprehensive product analysis with price history and specs.',
                    description: 'Detailed product view for web, utilizing the extra screen space for comprehensive charts and comparison tables.',
                    points: [
                        'FR9: The user shall set a specific target price alert for a product.',
                        'FR15: The user shall view a graphical history of price changes over time.',
                        'FR16: The user shall add products to a personal "Wishlist".',
                        'UC2: Set Price Alert',
                        'UC4: View Product Details',
                        'UC6: View Price History',
                        'UC10: Manage Wishlist'
                    ]
                },
                'web-profile': {
                    title: 'Web: Profile Dashboard',
                    subtitle: 'User analytics, wishlist management, and price alerts.',
                    description: 'The user\'s dashboard on the web, providing an overview of their activities and tracked items.',
                    points: [
                        'FR11: The user shall log out of the system.',
                        'FR13: The user shall receive an email notification when a price drops to or below the target.',
                        'FR14: The user shall receive a push notification on the mobile app for price drops.',
                        'FR17: The user shall remove products from their "Wishlist".',
                        'UC10: Manage Wishlist'
                    ]
                },
                'web-profile-dashboard': {
                    title: 'Web: Profile Dashboard',
                    subtitle: 'Comprehensive user analytics and insights.',
                    description: 'Detailed analytics view for the user profile.',
                    points: [
                        'FR21: Admin shall view statistics on total products scraped and active users.',
                        'UC11: View Dashboard Stats'
                    ]
                },
                'web-profile-wishlist': {
                    title: 'Web: Wishlist',
                    subtitle: 'Advanced product tracking and comparison.',
                    description: 'Web view for managing the user\'s wishlist.',
                    points: [
                        'FR16: The user shall add products to a personal "Wishlist".',
                        'FR17: The user shall remove products from their "Wishlist".',
                        'UC10: Manage Wishlist'
                    ]
                },
                'web-profile-alerts': {
                    title: 'Web: Price Alerts',
                    subtitle: 'Advanced alert configuration and management.',
                    description: 'Web view for configuring price alerts.',
                    points: [
                        'FR9: The user shall set a specific target price alert for a product.',
                        'FR13: The user shall receive an email notification when a price drops to or below the target.',
                        'FR14: The user shall receive a push notification on the mobile app for price drops.',
                        'UC2: Set Price Alert'
                    ]
                },
                'web-profile-settings': {
                    title: 'Web: Settings',
                    subtitle: 'Account management and platform preferences.',
                    description: 'Web view for managing account settings.',
                    points: [
                        'FR11: The user shall log out of the system.',
                        'UC8: Login'
                    ]
                },
                'web-login': {
                    title: 'Web: Login',
                    subtitle: 'Secure authentication with email and password.',
                    description: 'Web login screen.',
                    points: [
                        'FR10: The user shall log into the system using valid credentials.',
                        'UC8: Login'
                    ]
                },
                'web-signup': {
                    title: 'Web: Sign Up',
                    subtitle: 'Create your account to start tracking prices and saving money.',
                    description: 'Web registration screen.',
                    points: [
                        'FR8: The user shall create a new account (Sign up) using email and password.',
                        'UC7: Sign Up'
                    ]
                },
                'web-forgot-password': {
                    title: 'Web: Forgot Password',
                    subtitle: 'Reset your password to regain access.',
                    description: 'Web password recovery screen.',
                    points: [
                        'FR12: The user shall recover a forgotten password via email.',
                        'UC8: Login'
                    ]
                },
                'web-admin-login': {
                    title: 'Web: Admin Login',
                    subtitle: 'Secure access for administrators.',
                    description: 'Web login screen for administrators.',
                    points: [
                        'FR20: Admin shall log into the backend dashboard.',
                        'UC8: Login'
                    ]
                },
                'web-admin-dashboard': {
                    title: 'Web: Admin Dashboard',
                    subtitle: 'System overview and management.',
                    description: 'Web dashboard for administrators.',
                    points: [
                        'FR21: Admin shall view statistics on total products scraped and active users.',
                        'UC11: View Dashboard Stats'
                    ]
                },
                'web-404': {
                    title: 'Web: 404',
                    subtitle: 'Page not found state.',
                    description: 'Web 404 error page.',
                    points: [
                        'FR22: Error Handling',
                        'UC13: Navigation Error'
                    ]
                },
                'web-error': {
                    title: 'Web: Error',
                    subtitle: 'System error state.',
                    description: 'Web system error page.',
                    points: [
                        'FR22: Error Handling',
                        'UC14: System Error'
                    ]
                },
                'web-loading': {
                    title: 'Web: Loading',
                    subtitle: 'System loading state.',
                    points: [
                        'FR23: System Feedback'
                    ]
                }
            };

            // Update view info panel
            function updateViewInfo(viewName) {
                const info = viewInfo[viewName];
                if (!info) return;

                const titleEl = document.getElementById('view-info-title');
                const subtitleEl = document.getElementById('view-info-subtitle');
                const descriptionEl = document.getElementById('view-info-description');
                const listEl = document.getElementById('view-info-list');
                const showcaseTitleEl = document.getElementById('showcase-view-title');

                if (titleEl) titleEl.textContent = info.title;
                if (subtitleEl) subtitleEl.textContent = info.subtitle;
                if (descriptionEl) descriptionEl.textContent = info.description || '';
                if (listEl) {
                    listEl.innerHTML = info.points.map(point => `<li>${point}</li>`).join('');
                }
                if (showcaseTitleEl) showcaseTitleEl.textContent = info.title;
            }

            // Toggle view info panel
            function toggleViewInfo() {
                // Haptic feedback is called from onclick
                const panel = document.getElementById('view-info-panel');
                const toggle = document.getElementById('view-info-toggle');
                if (panel && toggle) {
                    panel.classList.toggle('hidden');
                    toggle.textContent = panel.classList.contains('hidden') ? '▶' : '◀';
                    // Update page layout when info panel state changes
                    updatePageLayout();
                }
            }

            // Toggle main menu (sidebar)
            function toggleMainMenu() {
                // Haptic feedback is called from onclick
                const aside = document.querySelector('aside');
                const toggle = document.getElementById('main-menu-toggle');
                if (aside && toggle) {
                    aside.classList.toggle('hidden');
                    toggle.textContent = aside.classList.contains('hidden') ? '☰' : '✕';
                    // Update page layout to use available width
                    updatePageLayout();
                }
            }

            // Update page layout when sidebar or info panel state changes
            function updatePageLayout() {
                // Clear any inline styles to let CSS handle the layout automatically
                const mainEl = document.querySelector('main');
                const showcaseArea = document.querySelector('.showcase-area');
                const infoPanel = document.getElementById('view-info-panel');

                if (mainEl) {
                    mainEl.style.width = '';
                    mainEl.style.marginLeft = '';
                    mainEl.style.justifyContent = '';
                    mainEl.style.alignItems = '';
                }

                if (showcaseArea) {
                    // Clear ALL inline styles to let CSS rules (including !important) take over
                    showcaseArea.style.width = '';
                    showcaseArea.style.marginLeft = '';
                    showcaseArea.style.marginRight = '';
                    showcaseArea.style.maxWidth = '';
                    showcaseArea.style.minWidth = '';
                    showcaseArea.style.flex = '';
                }

                if (infoPanel) {
                    infoPanel.style.left = '';
                    infoPanel.style.transform = '';
                }
            }

            // Get all navigation views in order
            function getAllViews() {
                const views = [];
                // Get all nav buttons in order
                document.querySelectorAll('nav button[id^="nav-"]').forEach(btn => {
                    const viewId = btn.id.replace('nav-', '');
                    if (viewId) {
                        views.push(viewId);
                    }
                });
                return views;
            }

            // Get current view index
            function getCurrentViewIndex() {
                const currentView = document.querySelector('.view-section.active')?.id?.replace('view-', '');
                if (!currentView) return -1;

                const allViews = getAllViews();
                return allViews.indexOf(currentView);
            }

            // Navigate to previous view
            function navigateToPreviousView() {
                const allViews = getAllViews();
                const currentIndex = getCurrentViewIndex();

                if (currentIndex > 0) {
                    const previousView = allViews[currentIndex - 1];
                    switchView(previousView);
                } else if (allViews.length > 0) {
                    // Wrap around to last view
                    switchView(allViews[allViews.length - 1]);
                }
            }

            // Navigate to next view
            function navigateToNextView() {
                const allViews = getAllViews();
                const currentIndex = getCurrentViewIndex();

                if (currentIndex >= 0 && currentIndex < allViews.length - 1) {
                    const nextView = allViews[currentIndex + 1];
                    switchView(nextView);
                } else if (allViews.length > 0) {
                    // Wrap around to first view
                    switchView(allViews[0]);
                }
            }

            // Setup keyboard controls
            function setupKeyboardControls() {
                let ctrlKeyDownTime = null;
                let shiftKeyDownTime = null;
                let otherKeyPressed = false;

                document.addEventListener('keydown', (e) => {
                    // Don't trigger if user is typing in an input field
                    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                        return;
                    }

                    // Track Ctrl key press
                    if ((e.key === 'Control' || e.key === 'Meta') && !e.shiftKey && !e.altKey) {
                        ctrlKeyDownTime = Date.now();
                        otherKeyPressed = false;
                        return;
                    }

                    // Track Shift key press
                    if (e.key === 'Shift' && !e.ctrlKey && !e.metaKey && !e.altKey) {
                        shiftKeyDownTime = Date.now();
                        otherKeyPressed = false;
                        return;
                    }

                    // If any other key is pressed, mark that
                    if (e.key !== 'Control' && e.key !== 'Meta' && e.key !== 'Shift') {
                        otherKeyPressed = true;
                    }

                    // F - Toggle Fullscreen
                    if (e.key.toLowerCase() === 'f' && !e.ctrlKey && !e.metaKey && !e.altKey && e.target.tagName !== 'INPUT') {
                        e.preventDefault();
                        if (!document.fullscreenElement) {
                            document.documentElement.requestFullscreen().catch(err => {
                                console.log(`Error attempting to enable fullscreen: ${err.message}`);
                            });
                        } else {
                            if (document.exitFullscreen) {
                                document.exitFullscreen();
                            }
                        }
                        return;
                    }

                    // M - Toggle Sound
                    if (e.key.toLowerCase() === 'm' && !e.ctrlKey && !e.metaKey && !e.altKey && e.target.tagName !== 'INPUT') {
                        e.preventDefault();
                        sounds.enabled = !sounds.enabled;
                        // Update toggle UI if exists
                        const soundToggle = document.getElementById('sound-toggle');
                        if (soundToggle) {
                            soundToggle.textContent = sounds.enabled ? 'SOUND: ON' : 'SOUND: OFF';
                            soundToggle.style.opacity = sounds.enabled ? '1' : '0.5';
                        }
                        if (sounds.enabled) haptics.light();
                        return;
                    }



                    // Check if we are in diagrams view
                    const activeView = document.querySelector('.view-section.active');
                    const isModalActive = document.getElementById('diagram-modal').classList.contains('active');
                    if (activeView && activeView.id === 'view-diagrams' && !isModalActive) {
                        if (e.key === 'ArrowDown') { e.preventDefault(); prevDiagram(); return; }
                        if (e.key === 'ArrowUp') { e.preventDefault(); nextDiagram(); return; }
                        if (e.key === 'ArrowRight') { e.preventDefault(); nextDiagramCategory(); return; }
                        if (e.key === 'ArrowLeft') { e.preventDefault(); prevDiagramCategory(); return; }
                    }

                    // Left arrow - previous view
                    if (e.key === 'ArrowLeft' && !e.ctrlKey && !e.shiftKey && !e.altKey && !e.metaKey) {
                        e.preventDefault();
                        navigateToPreviousView();
                        return;
                    }

                    // Right arrow - next view
                    if (e.key === 'ArrowRight' && !e.ctrlKey && !e.shiftKey && !e.altKey && !e.metaKey) {
                        e.preventDefault();
                        navigateToNextView();
                        return;
                    }
                });

                document.addEventListener('keyup', (e) => {
                    // Handle Ctrl/Meta keyup - toggle main menu if pressed alone
                    if ((e.key === 'Control' || e.key === 'Meta') && ctrlKeyDownTime && !otherKeyPressed && !e.shiftKey) {
                        const keyPressDuration = Date.now() - ctrlKeyDownTime;
                        // Only trigger if key was held for a reasonable time (not just a quick press)
                        if (keyPressDuration > 50 && keyPressDuration < 1000) {
                            e.preventDefault();
                            toggleMainMenu();
                        }
                        ctrlKeyDownTime = null;
                        otherKeyPressed = false;
                        return;
                    }

                    // Handle Shift keyup - toggle info panel if pressed alone
                    if (e.key === 'Shift' && shiftKeyDownTime && !otherKeyPressed && !e.ctrlKey && !e.metaKey) {
                        const keyPressDuration = Date.now() - shiftKeyDownTime;
                        // Only trigger if key was held for a reasonable time
                        if (keyPressDuration > 50 && keyPressDuration < 1000) {
                            e.preventDefault();
                            toggleViewInfo();
                        }
                        shiftKeyDownTime = null;
                        otherKeyPressed = false;
                        return;
                    }

                    // Reset flags when modifier keys are released
                    if (e.key === 'Control' || e.key === 'Meta') {
                        ctrlKeyDownTime = null;
                        otherKeyPressed = false;
                    }
                    if (e.key === 'Shift') {
                        shiftKeyDownTime = null;
                        otherKeyPressed = false;
                    }
                });
            }

            // Make functions globally accessible
            window.toggleViewInfo = toggleViewInfo;
            window.toggleMainMenu = toggleMainMenu;
            window.navigateToPreviousView = navigateToPreviousView;
            window.navigateToNextView = navigateToNextView;

            // Make switchView globally accessible
            window.switchView = function (viewName, fromView = null, productId = null) {
                // Haptic feedback for navigation
                haptics.navigation();

                // Play slide sound on page change (very lowkey) - fire and forget
                sounds.playSlide().catch(() => { }); // Ignore errors silently

                // Track navigation history - always update if fromView is provided
                if (fromView && fromView !== viewName) {
                    navigationHistory[viewName] = fromView;
                }

                // Handle product-specific views
                if (productId && (viewName.includes('product'))) {
                    currentProductId = productId;
                }

                // Handle diagram views - redirect to openDiagrams
                if (window.diagramsData && window.diagramsData[viewName]) {
                    openDiagrams(viewName);
                    return;
                }

                // Update Navigation History
                if (fromView) {
                    navigationHistory[viewName] = fromView;
                }

                // Handle product-specific views
                if (productId && (viewName.includes('product'))) {
                    renderProductPage(productId, viewName);
                }

                // Update view info panel
                updateViewInfo(viewName);

                // Update main element class based on view type (web vs non-web)
                const mainEl = document.querySelector('main');
                if (mainEl) {
                    if (viewName.startsWith('web-')) {
                        mainEl.classList.add('web-view');
                    } else {
                        mainEl.classList.remove('web-view');
                    }
                }

                // Update Nav - remove all active states
                document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));

                // Add active to clicked button
                const navButton = document.getElementById('nav-' + viewName);
                if (navButton) {
                    navButton.classList.add('active');

                    // Expand the section containing this button
                    const sectionGroup = navButton.closest('.section-group');
                    const sectionTitle = sectionGroup?.previousElementSibling;
                    if (sectionTitle && sectionTitle.classList.contains('section-title')) {
                        sectionTitle.classList.remove('collapsed');
                        sectionGroup.classList.remove('collapsed');
                    }
                }

                // Update Content - hide all views
                document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active'));

                // Show selected view
                const viewSection = document.getElementById('view-' + viewName);
                if (viewSection) {
                    viewSection.classList.add('active');
                }

                // Update UI based on login state
                updateUIForLoginState();

                // Update bottom menu active state
                updateBottomMenuActiveState();

                // Update web navigation active state
                updateWebNavActiveState();

                // Apply filters if on search page
                if (viewName.includes('search')) {
                    applyFilters();
                }
            };

            // Render product page with specific product data
            function renderProductPage(productId, viewType) {
                const product = products[productId];
                if (!product) return;

                const isMobile = viewType.includes('mobile');
                const viewId = `view-${viewType}`;
                const viewSection = document.getElementById(viewId);
                if (!viewSection) return;

                // Update external link button text
                const externalBtnMobile = viewSection.querySelector('#mobile-open-external');
                const externalBtnWeb = viewSection.querySelector('#web-open-external');

                if (externalBtnMobile) {
                    externalBtnMobile.textContent = `OPEN IN ${product.store.toUpperCase()}`;
                }
                if (externalBtnWeb) {
                    externalBtnWeb.textContent = `OPEN IN ${product.store.toUpperCase()}`;
                }

                // Update product image - mobile
                const mobileImgContainer = viewSection.querySelector('.mobile-screen [style*="height: 300px"]');
                if (mobileImgContainer) {
                    mobileImgContainer.innerHTML = `<img src="${product.image}" alt="${product.name}" class="product-image" style="width: 100%; height: 100%; object-fit: cover;">${product.tag ? `<span class="badge badge-primary" style="position: absolute; top: 12px; left: 12px; z-index: 1;">${product.tag}</span>` : ''}`;
                }

                // Update product image - web
                const webImgContainer = viewSection.querySelector('.browser-content [style*="height: 500px"]');
                if (webImgContainer) {
                    webImgContainer.innerHTML = `<img src="${product.image}" alt="${product.name}" class="product-image" style="width: 100%; height: 100%; object-fit: cover;">${product.tag ? `<span class="badge badge-primary" style="position: absolute; top: 16px; left: 16px; z-index: 1;">${product.tag}</span>` : ''}`;
                }

                // Update product title
                const titleEls = viewSection.querySelectorAll('h1, h2');
                titleEls.forEach(el => {
                    if (el.textContent.includes('iPhone') || el.textContent.includes('Samsung') || el.textContent.includes('MacBook') || el.textContent.includes('AirPods') || el.textContent.includes('iPad') || el.textContent.includes('Sony') || el.textContent.includes('Galaxy') || el.textContent.includes('OnePlus') || el.textContent.includes('Product')) {
                        if (el.closest('.mobile-screen') || el.closest('.browser-content')) {
                            el.textContent = product.name;
                        }
                    }
                });

                // Update specs
                const specsEls = viewSection.querySelectorAll('[style*="256GB"], [style*="128GB"], [style*="512GB"], [style*="Titanium"], [style*="A17"], [style*="Snapdragon"]');
                specsEls.forEach(el => {
                    if (el.textContent.includes('GB') || el.textContent.includes('Titanium') || el.textContent.includes('A17') || el.textContent.includes('Snapdragon')) {
                        el.textContent = product.specs;
                    }
                });

                // Update price
                const priceEls = viewSection.querySelectorAll('.pc-price');
                priceEls.forEach(el => {
                    const fontSize = window.getComputedStyle(el).fontSize;
                    if (parseInt(fontSize) >= 20 || el.textContent.includes('Rs.')) {
                        el.textContent = `Rs. ${product.price.toLocaleString()}`;
                    }
                });

                // Update lowest price
                const lowestEls = viewSection.querySelectorAll('div');
                lowestEls.forEach(el => {
                    if (el.textContent.includes('LOWEST') && el.nextElementSibling) {
                        const priceEl = el.nextElementSibling;
                        if (priceEl.textContent.includes('Rs.')) {
                            priceEl.textContent = `Rs. ${(product.lowest / 1000).toFixed(0)}k`;
                        }
                    }
                });

                // Update rating
                const ratingEls = viewSection.querySelectorAll('div');
                ratingEls.forEach(el => {
                    if (el.textContent.includes('RATING') && el.nextElementSibling) {
                        const ratingValueEl = el.nextElementSibling;
                        if (ratingValueEl.textContent.includes('★')) {
                            ratingValueEl.innerHTML = `★ ${product.rating}`;
                        }
                    }
                });

                // Update price trend
                const trendEls = viewSection.querySelectorAll('[style*="PRICE TREND"], [style*="PRICE HISTORY"]');
                trendEls.forEach(trendEl => {
                    const parent = trendEl.closest('div');
                    if (parent) {
                        const trendText = parent.querySelector('[style*="font-size: 11px; color: var(--accent-primary)"], [style*="font-size: 12px"]');
                        if (trendText && (trendText.textContent.includes('↓') || trendText.textContent.includes('↑') || trendText.textContent.includes('%'))) {
                            const arrow = product.trend === 'down' ? '↓' : product.trend === 'up' ? '↑' : '→';
                            trendText.textContent = `${arrow} ${product.trendPercent}% ${product.trend === 'down' ? 'from last month' : product.trend === 'up' ? 'from last month' : 'stable'}`;
                        }
                    }
                });
            }


            // Handle logout - make globally accessible
            window.handleLogout = function () {
                haptics.medium(); // Haptic feedback for logout
                isLoggedIn = false;
                updateUIForLoginState();
                // Redirect to home after logout
                const currentView = document.querySelector('.view-section.active')?.id?.replace('view-', '');
                if (currentView && currentView.includes('mobile')) {
                    switchView('mobile-home', currentView);
                } else if (currentView && currentView.includes('web')) {
                    switchView('web-home', currentView);
                }
            };

            // Make handleLogin globally accessible
            window.handleLogin = function () {
                haptics.success(); // Haptic feedback for successful login
                isLoggedIn = true;
                updateUIForLoginState();
                // Redirect to home after login based on current view
                const currentView = document.querySelector('.view-section.active')?.id?.replace('view-', '');
                if (currentView && currentView.includes('mobile')) {
                    switchView('mobile-home', currentView);
                } else if (currentView && currentView.includes('web')) {
                    switchView('web-home', currentView);
                } else {
                    switchView('mobile-home', currentView);
                }
            };

            // Update UI based on login state
            function updateUIForLoginState() {
                // Mobile Home - show profile icon or login button
                const mobileHomeHeader = document.querySelector('#view-mobile-home [style*="padding: 20px 20px 16px"]');
                if (mobileHomeHeader) {
                    const headerContent = mobileHomeHeader.querySelector('div[style*="display: flex; justify-content: space-between"]');
                    if (headerContent) {
                        const mobileHomeLoginBtn = headerContent.querySelector('.btn-primary[data-nav="mobile-login"]');
                        const existingProfileIcon = headerContent.querySelector('.profile-icon');

                        if (isLoggedIn) {
                            // Hide login button, show profile icon
                            if (mobileHomeLoginBtn) mobileHomeLoginBtn.style.display = 'none';
                            if (!existingProfileIcon) {
                                const profileIcon = document.createElement('button');
                                profileIcon.className = 'profile-icon clickable';
                                profileIcon.setAttribute('data-nav', 'mobile-profile');
                                profileIcon.style.cssText = 'width: 32px; height: 32px; background: var(--accent-secondary); border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-weight: 900; font-size: 14px; color: #fff; cursor: pointer; padding: 0;';
                                profileIcon.textContent = 'JD';
                                if (mobileHomeLoginBtn && mobileHomeLoginBtn.parentElement) {
                                    mobileHomeLoginBtn.parentElement.replaceChild(profileIcon, mobileHomeLoginBtn);
                                } else {
                                    headerContent.appendChild(profileIcon);
                                }
                            } else {
                                existingProfileIcon.style.display = 'flex';
                            }
                        } else {
                            // Show login button, hide profile icon
                            if (mobileHomeLoginBtn) mobileHomeLoginBtn.style.display = 'block';
                            if (existingProfileIcon) existingProfileIcon.style.display = 'none';
                        }
                    }
                }

                // Web Navigation - show profile icon or login/signup buttons
                const webNavUser = document.querySelectorAll('.web-nav-user');
                webNavUser.forEach(container => {
                    const webLoginBtn = container.querySelector('.btn-ghost[data-nav="web-login"]');
                    const webSignupBtn = container.querySelector('.btn-primary[data-nav="web-signup"]');
                    let existingProfileIcon = container.querySelector('.profile-icon');

                    if (isLoggedIn) {
                        // Hide login/signup buttons, show profile icon
                        if (webLoginBtn) webLoginBtn.style.display = 'none';
                        if (webSignupBtn) webSignupBtn.style.display = 'none';
                        if (!existingProfileIcon) {
                            const profileIcon = document.createElement('button');
                            profileIcon.className = 'profile-icon clickable';
                            profileIcon.setAttribute('data-nav', 'web-profile');
                            profileIcon.style.cssText = 'width: 40px; height: 40px; background: var(--accent-secondary); border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-weight: 900; font-size: 16px; color: #fff; cursor: pointer; padding: 0;';
                            profileIcon.textContent = 'JD';
                            container.appendChild(profileIcon);
                        } else {
                            existingProfileIcon.style.display = 'flex';
                        }
                    } else {
                        // Show login/signup buttons, hide profile icon
                        if (webLoginBtn) webLoginBtn.style.display = 'flex';
                        if (webSignupBtn) webSignupBtn.style.display = 'flex';
                        if (existingProfileIcon) existingProfileIcon.style.display = 'none';
                    }
                });
            }

            // Get back navigation target
            function getBackNavigationTarget(currentView) {
                // Check if we have history for this view
                if (navigationHistory[currentView]) {
                    return navigationHistory[currentView];
                }

                // Default fallbacks based on view type
                const defaults = {
                    'mobile-product': 'mobile-search',
                    'web-product': 'web-search',
                    'mobile-search': 'mobile-home',
                    'web-search': 'web-home',
                    'mobile-login': 'mobile-home',
                    'mobile-signup': 'mobile-home',
                    'web-login': 'web-home',
                    'web-signup': 'web-home',
                    'mobile-profile-dashboard': 'mobile-profile',
                    'mobile-profile-wishlist': 'mobile-profile',
                    'mobile-profile-alerts': 'mobile-profile',
                    'mobile-profile-settings': 'mobile-profile',
                    'web-profile-dashboard': 'web-profile',
                    'web-profile-wishlist': 'web-profile',
                    'web-profile-alerts': 'web-profile',
                    'web-profile-settings': 'web-profile'
                };

                return defaults[currentView] || (currentView && currentView.includes('mobile') ? 'mobile-home' : currentView && currentView.includes('web') ? 'web-home' : 'mobile-home');
            }

            function toggleSection(element) {
                // Toggle collapsed class on the title
                const isCollapsed = element.classList.toggle('collapsed');

                // Find the next sibling section-group
                const sectionGroup = element.nextElementSibling;
                if (sectionGroup && sectionGroup.classList.contains('section-group')) {
                    if (isCollapsed) {
                        sectionGroup.classList.add('collapsed');
                    } else {
                        sectionGroup.classList.remove('collapsed');
                    }
                }
            }

            // Add interactive navigation to showcase elements using data attributes
            function setupInteractiveNavigation() {
                // Use event delegation for all clickable elements with data-nav
                document.addEventListener('click', (e) => {
                    // Don't trigger navigation if clicking on input fields
                    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                        return;
                    }

                    const clickable = e.target.closest('[data-nav]');
                    if (clickable && !e.target.closest('button[onclick]')) {
                        const targetView = clickable.getAttribute('data-nav');
                        const productId = clickable.getAttribute('data-product-id');

                        if (targetView) {
                            e.preventDefault();
                            e.stopPropagation();

                            // Haptic feedback for clickable interactions
                            if (clickable.classList.contains('clickable-product') || clickable.classList.contains('product-card')) {
                                haptics.selection(); // Product selection
                            } else if (clickable.classList.contains('btn-primary')) {
                                haptics.medium(); // Primary button
                            } else if (clickable.classList.contains('btn-secondary') || clickable.classList.contains('btn-ghost')) {
                                haptics.light(); // Secondary button
                            } else {
                                haptics.light(); // General navigation
                            }

                            // Get current view for history tracking
                            const currentView = document.querySelector('.view-section.active')?.id?.replace('view-', '');

                            // Special handling for back navigation
                            if (targetView === 'back' || clickable.textContent.trim().startsWith('←') || clickable.textContent.includes('Back')) {
                                const backTarget = getBackNavigationTarget(currentView);
                                switchView(backTarget);
                            } else if (productId && (targetView.includes('product'))) {
                                // Handle product-specific navigation
                                switchView(targetView, currentView, productId);
                            } else {
                                // Track navigation history - where we're coming from
                                switchView(targetView, currentView);
                            }
                        }
                    }
                });

                // Handle login/signup button clicks
                document.querySelectorAll('button[data-nav="mobile-login"], button[data-nav="web-login"], button[data-nav="mobile-signup"], button[data-nav="web-signup"]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const targetView = btn.getAttribute('data-nav');
                        const currentView = document.querySelector('.view-section.active')?.id?.replace('view-', '');
                        switchView(targetView, currentView);
                    });
                });

                // Handle profile sub-page navigation - already handled by event delegation above
                // Just ensure they're clickable
                document.querySelectorAll('[data-nav*="profile-"]').forEach(el => {
                    if (!el.classList.contains('clickable')) {
                        el.classList.add('clickable');
                    }
                });

                // Initialize product cards with data-product-id and images
                initializeProductCards();

                // Setup filter functionality
                setupFilters();

                // Setup bottom menu
                setupBottomMenu();

                // Call initializeProductCards after a short delay to ensure DOM is ready
                setTimeout(() => {
                    initializeProductCards();
                }, 100);

                // Add data-nav to remaining elements programmatically that don't have it
                // Mobile Profile -> Bottom nav home
                const mobileProfileNav = document.querySelector('#view-mobile-profile [style*="width: 6px"]');
                if (mobileProfileNav) {
                    const navContainer = mobileProfileNav.closest('div');
                    if (navContainer && !navContainer.hasAttribute('data-nav')) {
                        navContainer.classList.add('clickable');
                        navContainer.setAttribute('data-nav', 'mobile-home');
                    }
                }

                // Web Profile -> Logo
                document.querySelectorAll('#view-web-profile img[alt="HAO"]').forEach(img => {
                    const container = img.closest('div');
                    if (container && !container.hasAttribute('data-nav')) {
                        container.classList.add('clickable');
                        container.setAttribute('data-nav', 'web-home');
                    }
                });
            }

            // Set default view on load
            window.addEventListener('DOMContentLoaded', () => {
                // Initialize view info for default view
                updateViewInfo('welcome');

                // Initialize main element class
                const mainEl = document.querySelector('main');
                if (mainEl) {
                    mainEl.classList.remove('web-view'); // welcome is not a web view
                }


                // Initialize
                switchView('welcome');

                // Expand Design System section by default, collapse others
                const sections = document.querySelectorAll('.section-title');
                sections.forEach((section, index) => {
                    if (index === 0) {
                        // Keep Design System expanded
                        section.classList.remove('collapsed');
                        const group = section.nextElementSibling;
                        if (group) group.classList.remove('collapsed');
                    } else {
                        // Collapse Mobile App and Web Platform initially
                        section.classList.add('collapsed');
                        const group = section.nextElementSibling;
                        if (group) group.classList.add('collapsed');
                    }
                });

                // Setup interactive navigation
                setupInteractiveNavigation();

                // Setup keyboard controls
                setupKeyboardControls();

                // Initial UI update
                updateUIForLoginState();

                // Update bottom menu active state
                updateBottomMenuActiveState();

                // Update web navigation active state
                updateWebNavActiveState();

                // Initialize page layout
                updatePageLayout();

                // Setup interactive price charts
                setupPriceCharts();

                // Setup button data-text attributes for glitch effect
                setupButtonGlitchEffects();

                // Setup search dropdown
                setupSearchDropdown();

                // Initialize sound system on first user interaction
                const initAudioOnInteraction = (e) => {
                    sounds.init();
                    // Also trigger on any click/touch to ensure context is ready
                };

                // Listen for first user interaction to initialize audio
                document.addEventListener('click', initAudioOnInteraction, { once: true });
                document.addEventListener('touchstart', initAudioOnInteraction, { once: true });
                document.addEventListener('keydown', initAudioOnInteraction, { once: true });

                // Setup sound toggle
                const soundToggle = document.getElementById('sound-toggle');
                if (soundToggle) {
                    soundToggle.addEventListener('click', () => {
                        // Initialize audio on toggle click if not already initialized
                        if (!sounds.initialized) {
                            sounds.init();
                        }
                        haptics.doubleTap();
                        sounds.toggle();
                    });
                }

                // Setup cursor snapping
                setupCursorSnapping();

                // Setup comparison diff view

            });

            // Setup command-line style search dropdown
            function setupSearchDropdown() {
                // Setup for web search page
                const searchInput = document.getElementById('web-search-input');
                const dropdown = document.getElementById('web-search-dropdown');

                if (searchInput && dropdown) {
                    setupSearchDropdownForInput(searchInput, dropdown);
                }

                // Setup for web home page
                const homeSearchInput = document.getElementById('web-home-search-input');
                const homeDropdown = document.getElementById('web-home-search-dropdown');

                if (homeSearchInput && homeDropdown) {
                    setupSearchDropdownForInput(homeSearchInput, homeDropdown);
                }
            }

            // Helper function to setup dropdown for a specific input
            function setupSearchDropdownForInput(searchInput, dropdown) {
                searchInput.addEventListener('focus', () => {
                    dropdown.classList.add('active');
                    sounds.playClick(600, 20);
                });

                searchInput.addEventListener('blur', (e) => {
                    // Delay to allow click on dropdown items
                    setTimeout(() => {
                        if (!dropdown.contains(document.activeElement)) {
                            dropdown.classList.remove('active');
                        }
                    }, 200);
                });

                // Handle dropdown item clicks
                dropdown.querySelectorAll('.search-result-item').forEach(item => {
                    item.addEventListener('click', () => {
                        const name = item.querySelector('.search-result-name').textContent;
                        searchInput.value = name;
                        dropdown.classList.remove('active');
                        haptics.selection();
                    });
                });
            }

            // Cursor snapping - magnetic buttons
            function setupCursorSnapping() {
                const snapDistance = 30; // pixels
                const snapStrength = 0.3; // how much the button moves (0-1)

                const attachSnapping = (element) => {
                    // Skip if already has snapping attached
                    if (element.dataset.snapAttached === 'true') return;
                    element.dataset.snapAttached = 'true';

                    let isSnapping = false;

                    element.addEventListener('mouseenter', () => {
                        isSnapping = true;
                    });

                    element.addEventListener('mouseleave', () => {
                        isSnapping = false;
                        element.style.setProperty('--snap-x', '0px');
                        element.style.setProperty('--snap-y', '0px');
                        element.classList.remove('btn-snap-active');
                        delete element.dataset.snapped;
                    });

                    element.addEventListener('mousemove', (e) => {
                        if (!isSnapping) return;

                        const rect = element.getBoundingClientRect();
                        const centerX = rect.left + rect.width / 2;
                        const centerY = rect.top + rect.height / 2;

                        const deltaX = e.clientX - centerX;
                        const deltaY = e.clientY - centerY;
                        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);

                        if (distance < snapDistance) {
                            // Calculate snap offset
                            const snapX = deltaX * snapStrength;
                            const snapY = deltaY * snapStrength;

                            element.style.setProperty('--snap-x', `${snapX}px`);
                            element.style.setProperty('--snap-y', `${snapY}px`);
                            element.classList.add('btn-snap-active');

                            // Play subtle sound on first snap with haptic
                            if (!element.dataset.snapped) {
                                sounds.playClick(1200, 15);
                                haptics.light();
                                element.dataset.snapped = 'true';
                            }
                        } else {
                            element.style.setProperty('--snap-x', '0px');
                            element.style.setProperty('--snap-y', '0px');
                            element.classList.remove('btn-snap-active');
                            delete element.dataset.snapped;
                        }
                    });
                };

                // Attach to existing elements
                document.querySelectorAll('.btn, .clickable, button, [data-nav]').forEach(attachSnapping);

                // Watch for dynamically added elements
                const observer = new MutationObserver((mutations) => {
                    mutations.forEach((mutation) => {
                        mutation.addedNodes.forEach((node) => {
                            if (node.nodeType === 1) { // Element node
                                if (node.matches && (node.matches('.btn, .clickable, button, [data-nav]'))) {
                                    attachSnapping(node);
                                }
                                // Also check children
                                node.querySelectorAll && node.querySelectorAll('.btn, .clickable, button, [data-nav]').forEach(attachSnapping);
                            }
                        });
                    });
                });

                observer.observe(document.body, { childList: true, subtree: true });
            }

            // Setup comparison diff view - highlight differences


            // Setup interactive price charts with crosshair
            function setupPriceCharts() {
                document.querySelectorAll('.price-chart').forEach(chart => {
                    const bars = chart.querySelectorAll('.price-chart-bar');
                    const crosshair = chart.querySelector('.price-chart-crosshair');
                    const tooltip = chart.querySelector('.price-chart-tooltip');

                    if (!bars.length || !crosshair || !tooltip) return;

                    chart.addEventListener('mousemove', (e) => {
                        const rect = chart.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const percent = (x / rect.width) * 100;

                        // Find closest bar
                        let closestBar = null;
                        let closestDistance = Infinity;

                        bars.forEach(bar => {
                            const barRect = bar.getBoundingClientRect();
                            const barCenter = barRect.left + barRect.width / 2 - rect.left;
                            const distance = Math.abs(x - barCenter);

                            if (distance < closestDistance) {
                                closestDistance = distance;
                                closestBar = bar;
                            }
                        });

                        if (closestBar) {
                            const price = closestBar.getAttribute('data-price');
                            const date = closestBar.getAttribute('data-date');

                            // Position crosshair
                            const barRect = closestBar.getBoundingClientRect();
                            const barCenter = barRect.left + barRect.width / 2 - rect.left;
                            crosshair.style.left = `${barCenter}px`;
                            crosshair.style.opacity = '1';

                            // Position and show tooltip
                            tooltip.textContent = `${date}: ${price}`;
                            tooltip.style.left = `${barCenter}px`;
                            tooltip.style.opacity = '1';
                            tooltip.style.transform = 'translateX(-50%) translateY(-100%)';
                        }
                    });

                    chart.addEventListener('mouseleave', () => {
                        crosshair.style.opacity = '0';
                        tooltip.style.opacity = '0';
                    });
                });
            }

            // Setup button glitch effects by adding data-text attribute
            function setupButtonGlitchEffects() {
                document.querySelectorAll('.btn-primary').forEach(btn => {
                    if (!btn.getAttribute('data-text')) {
                        btn.setAttribute('data-text', btn.textContent.trim());
                    }
                });
            }

            // Initialize product cards with images and product IDs
            function initializeProductCards() {
                // Only update cards that don't have data-product-id yet
                document.querySelectorAll('.product-card:not([data-product-id])').forEach((card) => {
                    const existingTitle = card.querySelector('.pc-title')?.textContent.trim();
                    if (!existingTitle) return;

                    // Find matching product by name
                    let productId = null;
                    for (const [id, product] of Object.entries(products)) {
                        if (existingTitle.includes(product.name) || product.name.includes(existingTitle)) {
                            productId = id;
                            break;
                        }
                    }

                    // Fallback: assign products in order if no match
                    if (!productId) {
                        const productIds = Object.keys(products);
                        const cardIndex = Array.from(document.querySelectorAll('.product-card')).indexOf(card);
                        productId = productIds[cardIndex % productIds.length];
                    }

                    const product = products[productId];
                    if (!product) return;

                    card.setAttribute('data-product-id', productId);
                    if (!card.hasAttribute('data-nav')) {
                        card.setAttribute('data-nav', card.closest('#view-mobile-home, #view-mobile-search') ? 'mobile-product' : 'web-product');
                    }

                    // Update image if empty
                    const imgContainer = card.querySelector('.pc-img, [style*="width: 100px"][style*="height: 100px"]');
                    if (imgContainer && !imgContainer.querySelector('img')) {
                        const isSmall = imgContainer.style.height === '100px' || imgContainer.style.height === '120px';
                        imgContainer.style.overflow = 'hidden';
                        imgContainer.innerHTML = `<img src="${product.image}" alt="${product.name}" class="product-image" style="width: 100%; height: 100%; object-fit: cover;">${product.tag ? `<span class="pc-tag" style="position: absolute; top: ${isSmall ? '4px' : '12px'}; left: ${isSmall ? '4px' : '12px'}; z-index: 1; font-size: ${isSmall ? '8px' : '9px'}; padding: ${isSmall ? '2px 4px' : '2px 6px'};">${product.tag}</span>` : ''}`;
                    }

                    // Update title
                    const titleEl = card.querySelector('.pc-title');
                    if (titleEl && !titleEl.textContent.includes(product.name)) {
                        titleEl.textContent = product.name;
                    }

                    // Update price
                    const priceEl = card.querySelector('.pc-price');
                    if (priceEl) {
                        const priceText = product.price >= 100000
                            ? `Rs. ${(product.price / 1000).toFixed(0)}k`
                            : `Rs. ${product.price.toLocaleString()}`;
                        if (!priceEl.textContent.includes(product.price.toString().substring(0, 3))) {
                            priceEl.textContent = priceText;
                        }
                    }

                    // Update meta/rating
                    const metaEl = card.querySelector('.pc-meta');
                    if (metaEl) {
                        const storeSpan = metaEl.querySelector('span:first-child');
                        const ratingSpan = metaEl.querySelector('span:last-child');
                        if (storeSpan && !storeSpan.textContent.includes(product.store)) {
                            storeSpan.textContent = product.store;
                        }
                        if (ratingSpan) {
                            ratingSpan.innerHTML = `★ ${product.rating}`;
                        }
                    }
                });
            }

            // Setup filter functionality with animations
            function setupFilters() {
                // Filter inputs
                const priceMinInputs = document.querySelectorAll('input[placeholder="Min"]');
                const priceMaxInputs = document.querySelectorAll('input[placeholder="Max"]');
                const storeCheckboxes = document.querySelectorAll('input[type="checkbox"]');
                const sortSelects = document.querySelectorAll('select');
                const applyFilterBtns = document.querySelectorAll('.btn-primary');

                // Price filters
                [...priceMinInputs, ...priceMaxInputs].forEach(input => {
                    input.addEventListener('input', (e) => {
                        const isMin = e.target.placeholder === 'Min';
                        if (isMin) {
                            activeFilters.priceMin = e.target.value;
                        } else {
                            activeFilters.priceMax = e.target.value;
                        }
                        applyFilters();
                    });
                });

                // Store filters
                storeCheckboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => {
                        const storeName = e.target.nextSibling.textContent.trim();
                        if (e.target.checked) {
                            if (!activeFilters.stores.includes(storeName)) {
                                activeFilters.stores.push(storeName);
                            }
                        } else {
                            activeFilters.stores = activeFilters.stores.filter(s => s !== storeName);
                        }
                        applyFilters();
                    });
                });

                // Sort filters
                sortSelects.forEach(select => {
                    select.addEventListener('change', (e) => {
                        const value = e.target.value.toLowerCase();
                        if (value.includes('low to high')) {
                            activeFilters.sortBy = 'price-low-to-high';
                        } else if (value.includes('high to low')) {
                            activeFilters.sortBy = 'price-high-to-low';
                        } else if (value.includes('rating')) {
                            activeFilters.sortBy = 'rating';
                        } else {
                            activeFilters.sortBy = 'best-match';
                        }
                        applyFilters();
                    });
                });

                // Apply filter buttons
                applyFilterBtns.forEach(btn => {
                    if (btn.textContent.includes('Apply') || btn.textContent.includes('Filter')) {
                        btn.addEventListener('click', () => applyFilters());
                    }
                });
            }

            // Apply filters with animations
            function applyFilters() {
                haptics.light(); // Haptic feedback for filter application
                const searchSections = document.querySelectorAll('#view-mobile-search .product-card, #view-web-search .product-card');

                searchSections.forEach((card, index) => {
                    const productId = card.getAttribute('data-product-id');
                    const product = products[productId];

                    if (!product) return;

                    // Add product-item class for animation
                    card.classList.add('product-item');

                    let shouldShow = true;

                    // Price filter
                    if (activeFilters.priceMin && product.price < parseInt(activeFilters.priceMin) * 1000) {
                        shouldShow = false;
                    }
                    if (activeFilters.priceMax && product.price > parseInt(activeFilters.priceMax) * 1000) {
                        shouldShow = false;
                    }

                    // Store filter
                    if (activeFilters.stores.length > 0 && !activeFilters.stores.includes(product.store)) {
                        shouldShow = false;
                    }

                    // Animate out
                    if (!shouldShow && !card.classList.contains('filtered-out')) {
                        card.classList.add('filtered-out');
                        setTimeout(() => {
                            card.style.display = 'none';
                        }, 300);
                    }

                    // Animate in
                    if (shouldShow && card.classList.contains('filtered-out')) {
                        card.classList.remove('filtered-out');
                        card.style.display = '';
                        // Trigger reflow for animation
                        card.offsetHeight;
                    }

                });

                // Sort products after filtering
                const containers = document.querySelectorAll('#view-mobile-search, #view-web-search');
                containers.forEach(container => {
                    const visibleCards = Array.from(container.querySelectorAll('.product-item:not(.filtered-out)'));
                    if (visibleCards.length === 0) return;

                    const parent = visibleCards[0].parentElement;
                    if (!parent) return;

                    if (activeFilters.sortBy === 'price-low-to-high') {
                        visibleCards.sort((a, b) => {
                            const prodA = products[a.getAttribute('data-product-id')];
                            const prodB = products[b.getAttribute('data-product-id')];
                            return (prodA?.price || 0) - (prodB?.price || 0);
                        });
                    } else if (activeFilters.sortBy === 'price-high-to-low') {
                        visibleCards.sort((a, b) => {
                            const prodA = products[a.getAttribute('data-product-id')];
                            const prodB = products[b.getAttribute('data-product-id')];
                            return (prodB?.price || 0) - (prodA?.price || 0);
                        });
                    } else if (activeFilters.sortBy === 'rating') {
                        visibleCards.sort((a, b) => {
                            const prodA = products[a.getAttribute('data-product-id')];
                            const prodB = products[b.getAttribute('data-product-id')];
                            return (prodB?.rating || 0) - (prodA?.rating || 0);
                        });
                    }

                    // Reorder DOM with animation
                    visibleCards.forEach((c, index) => {
                        setTimeout(() => {
                            parent.appendChild(c);
                        }, index * 50);
                    });
                });
            }

            // Setup bottom menu with icons and navigation
            function setupBottomMenu() {
                const bottomMenus = document.querySelectorAll('.mobile-screen > div[style*="height: 60px"]');

                bottomMenus.forEach(menu => {
                    // Skip if already initialized
                    if (menu.querySelector('.bottom-menu-item')) return;

                    // Clear and rebuild menu
                    menu.innerHTML = '';
                    menu.style.cssText = 'height: 60px; background: rgba(20,20,20,0.95); backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #333;';

                    const menuItems = [
                        {
                            icon: '<svg class="bottom-menu-icon" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',
                            label: 'Home',
                            view: 'mobile-home'
                        },
                        {
                            icon: '<svg class="bottom-menu-icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg>',
                            label: 'Search',
                            view: 'mobile-search'
                        },
                        {
                            icon: '<svg class="bottom-menu-icon" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',
                            label: 'Profile',
                            view: 'mobile-profile'
                        }
                    ];

                    menuItems.forEach((item) => {
                        const menuItem = document.createElement('div');
                        menuItem.className = 'bottom-menu-item clickable';
                        menuItem.setAttribute('data-nav', item.view);
                        menuItem.innerHTML = `
                        ${item.icon}
                        <div class="bottom-menu-label">${item.label}</div>
                    `;

                        menuItem.addEventListener('click', (e) => {
                            e.stopPropagation();
                            const currentView = document.querySelector('.view-section.active')?.id?.replace('view-', '');

                            // Remove active from all items
                            menu.querySelectorAll('.bottom-menu-item').forEach(mi => {
                                mi.classList.remove('active');
                            });

                            // Add active to clicked item
                            menuItem.classList.add('active');

                            switchView(item.view, currentView);
                        });

                        menu.appendChild(menuItem);
                    });

                    // Set initial active state
                    updateBottomMenuActiveState();
                });
            }

            // Update bottom menu active state
            function updateBottomMenuActiveState() {
                const currentView = document.querySelector('.view-section.active')?.id?.replace('view-', '');
                const menuItems = document.querySelectorAll('.bottom-menu-item');

                menuItems.forEach(item => {
                    const view = item.getAttribute('data-nav');
                    if (view === currentView || (currentView === 'mobile-home' && view === 'mobile-home') ||
                        (currentView === 'mobile-search' && view === 'mobile-search') ||
                        (currentView === 'mobile-profile' && view === 'mobile-profile')) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }

            // Toggle mobile filters panel
            function toggleMobileFilters() {
                // Haptic feedback is called from onclick
                const panel = document.getElementById('mobile-filters-panel');
                const toggle = document.getElementById('mobile-filter-toggle');
                if (panel && toggle) {
                    const isVisible = panel.style.display !== 'none';
                    panel.style.display = isVisible ? 'none' : 'block';
                    toggle.textContent = isVisible ? 'FILTERS' : 'HIDE';
                }
            }

            // Make toggleMobileFilters globally accessible
            window.toggleMobileFilters = toggleMobileFilters;

            // Update web navigation active state
            function updateWebNavActiveState() {
                const currentView = document.querySelector('.view-section.active')?.id?.replace('view-', '');
                const navLinks = document.querySelectorAll('.web-nav-link');

                navLinks.forEach(link => {
                    const view = link.getAttribute('data-nav');
                    if (view === currentView) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
            }

            // Show comparison view


            // Make globally accessible

            // Diagrams Logic (Global Scope)
            let currentDiagramCategory = null;
            let currentDiagramIndex = 0;

            // Order of diagrams for navigation
            const diagramOrder = [
                'usecase-diagram',
                'system-sequence-diagrams',
                'domain-model',
                'software-architecture',
                'class-diagram',
                'sequence-diagrams',
                'entity-relation',
                'database-schema'
            ];
            // Make diagramOrder globally accessible
            window.diagramOrder = diagramOrder;

            function openDiagrams(categoryId) {
                currentDiagramCategory = categoryId;
                currentDiagramIndex = 0;
                switchView('diagrams');
                renderDiagram();

                // Highlight sidebar
                document.querySelectorAll('.section-group button').forEach(btn => btn.classList.remove('active'));
                const activeBtn = document.getElementById('nav-' + categoryId);
                if (activeBtn) activeBtn.classList.add('active');
            }

            function renderDiagram() {
                if (!currentDiagramCategory || !diagramsData[currentDiagramCategory]) return;

                const data = diagramsData[currentDiagramCategory];
                const image = data.images[currentDiagramIndex];
                const total = data.images.length;

                // Update Header
                document.getElementById('diagrams-title').textContent = data.title;
                document.getElementById('diagrams-subtitle').textContent = image.title || data.title;

                // Update Image
                const imgPath = `assets/Diagrams/${data.folder}/${image.file}`;
                const imgEl = document.getElementById('diagram-image');
                imgEl.src = imgPath;
                imgEl.onclick = () => openImageModal(imgPath);
                imgEl.style.cursor = 'zoom-in';

                // Update Counter
                // Update Counter
                const counterText = `${currentDiagramIndex + 1} / ${total}`;
                document.getElementById('diagram-counter').textContent = counterText;
                const modalCounter = document.getElementById('modal-counter');
                if (modalCounter) modalCounter.textContent = counterText;

                // Update Info Panel
                updateViewInfo('diagrams');
            }

            function nextDiagram() {
                if (!currentDiagramCategory) return;
                const total = diagramsData[currentDiagramCategory].images.length;
                currentDiagramIndex = (currentDiagramIndex + 1) % total;
                renderDiagram();
            }

            function prevDiagram() {
                if (!currentDiagramCategory) return;
                const total = diagramsData[currentDiagramCategory].images.length;
                currentDiagramIndex = (currentDiagramIndex - 1 + total) % total;
                renderDiagram();
            }

            function nextDiagramCategory() {
                if (!currentDiagramCategory) return;
                const order = window.diagramOrder || diagramOrder;
                const currentIndex = order.indexOf(currentDiagramCategory);

                // Check if it's the last diagram category
                if (currentIndex === order.length - 1) {
                    switchView('atoms');
                    return;
                }

                const nextIndex = (currentIndex + 1) % order.length;
                openDiagrams(order[nextIndex]);
            }

            function prevDiagramCategory() {
                if (!currentDiagramCategory) return;
                const order = window.diagramOrder || diagramOrder;
                const currentIndex = order.indexOf(currentDiagramCategory);

                // Check if it's the first diagram category
                if (currentIndex === 0) {
                    switchView('welcome');
                    return;
                }

                const prevIndex = (currentIndex - 1 + order.length) % order.length;
                openDiagrams(order[prevIndex]);
            }

            // Keyboard Navigation


            // Update viewInfo to handle diagrams
            // We need to hook into the existing updateViewInfo or override it safely.
            // Since updateViewInfo is defined in the global scope (or at least accessible), we can override it here.
            // However, we need to make sure we don't lose the original functionality.
            // The original updateViewInfo is likely defined before this script block.

            // Let's redefine it to handle both cases.
            // Note: We need to ensure 'viewInfo' is accessible here. It should be if it's defined in the main script.

            const originalUpdateViewInfoGlobal = window.updateViewInfo;
            window.updateViewInfo = function (viewName) {
                if (viewName === 'welcome') {
                    // Empty info panel for welcome screen
                    const titleEl = document.getElementById('view-info-title');
                    const subtitleEl = document.getElementById('view-info-subtitle');
                    const descriptionEl = document.getElementById('view-info-description');
                    const listEl = document.getElementById('view-info-list');
                    const showcaseTitleEl = document.getElementById('showcase-view-title');

                    if (titleEl) titleEl.textContent = '';
                    if (subtitleEl) subtitleEl.textContent = '';
                    if (descriptionEl) descriptionEl.textContent = '';
                    if (listEl) listEl.innerHTML = '';
                    if (showcaseTitleEl) showcaseTitleEl.textContent = 'Welcome';
                    return;
                }

                if (viewName === 'diagrams') {
                    if (!currentDiagramCategory || !diagramsData[currentDiagramCategory]) return;

                    const data = diagramsData[currentDiagramCategory];
                    const image = data.images[currentDiagramIndex];

                    const titleEl = document.getElementById('view-info-title');
                    const subtitleEl = document.getElementById('view-info-subtitle');
                    const descriptionEl = document.getElementById('view-info-description');
                    const listEl = document.getElementById('view-info-list');
                    const showcaseTitleEl = document.getElementById('showcase-view-title');

                    if (titleEl) titleEl.textContent = image.title || data.title;
                    if (subtitleEl) subtitleEl.textContent = data.title;
                    if (descriptionEl) descriptionEl.textContent = image.description || '';

                    if (listEl && image.points) {
                        listEl.innerHTML = image.points.map(point => `<li>${point}</li>`).join('');
                    } else if (listEl) {
                        listEl.innerHTML = '';
                    }

                    if (showcaseTitleEl) showcaseTitleEl.textContent = 'Diagrams';
                } else {
                    // Fallback to original logic for other views
                    // Since we might not have easy access to the original function if it wasn't attached to window explicitly,
                    // we will reimplement the basic logic here which relies on the global 'viewInfo' object.

                    if (typeof viewInfo !== 'undefined' && viewInfo[viewName]) {
                        const info = viewInfo[viewName];
                        const titleEl = document.getElementById('view-info-title');
                        const subtitleEl = document.getElementById('view-info-subtitle');
                        const descriptionEl = document.getElementById('view-info-description');
                        const listEl = document.getElementById('view-info-list');
                        const showcaseTitleEl = document.getElementById('showcase-view-title');

                        if (titleEl) titleEl.textContent = info.title;
                        if (subtitleEl) subtitleEl.textContent = info.subtitle;
                        if (descriptionEl) descriptionEl.textContent = info.description || '';
                        if (listEl) {
                            listEl.innerHTML = info.points.map(point => `<li>${point}</li>`).join('');
                        }
                        if (showcaseTitleEl) showcaseTitleEl.textContent = info.title;
                    }
                }
            };
        </script>

        <!-- Sound Toggle Button -->
        <button class="sound-toggle" id="sound-toggle" title="Toggle interface sounds"
            aria-label="Toggle interface sounds">🔊</button>

    </div><!-- End app-container -->

    <!-- Diagram Image Modal -->
    <div id="diagram-modal" class="diagram-modal">
        <button class="modal-close" onclick="closeImageModal()">×</button>
        <div class="modal-controls">
            <button onclick="adjustModalZoom(0.1)">+</button>
            <button onclick="adjustModalZoom(-0.1)">-</button>
            <button onclick="resetModalZoom()">R</button>
        </div>
        <div id="modal-counter"
            style="position: absolute; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.85); padding: 8px 16px; border-radius: 20px; font-family: var(--font-mono); font-size: 14px; color: #fff; font-weight: 700; z-index: 1001; pointer-events: none; border: 1px solid rgba(255,255,255,0.2);">
            1 / 1</div>
        <div class="modal-nav modal-nav-prev" onclick="modalPrevImage()">‹</div>
        <div class="modal-nav modal-nav-next" onclick="modalNextImage()">›</div>
        <div class="modal-content-wrapper" id="modal-wrapper">
            <img id="modal-image" src="" alt="Diagram Fullscreen">
        </div>
    </div>

    <style>
        .diagram-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            z-index: 100000;
            /* Ensure it covers everything */
            overflow: hidden;
            user-select: none;
        }

        .diagram-modal.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .modal-content-wrapper {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: grab;
        }

        .modal-content-wrapper:active {
            cursor: grabbing;
        }

        #modal-image {
            max-width: 100%;
            max-height: 100%;
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.1s ease-out;
            transform-origin: center;
            pointer-events: none;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            border: 1px solid #333;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 100001;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-controls {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100001;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 20px;
            border: 1px solid #333;
        }

        .modal-controls button {
            background: transparent;
            color: #fff;
            border: 1px solid #444;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-family: var(--font-mono);
            font-size: 16px;
        }

        .modal-controls button:hover {
            background: var(--accent-primary);
            color: #000;
            border-color: var(--accent-primary);
        }

        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            z-index: 100001;
            transition: all 0.2s;
        }

        .modal-nav:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .modal-nav-prev {
            left: 0;
        }

        .modal-nav-next {
            right: 0;
        }
    </style>

    <script>
        // Modal Logic
        let modalScale = 1;
        let modalPanX = 0;
        let modalPanY = 0;
        let isDragging = false;
        let startX, startY;

        function openImageModal(src) {
            const modal = document.getElementById('diagram-modal');
            const img = document.getElementById('modal-image');
            img.src = src;
            modal.classList.add('active');
            resetModalZoom();

            // Disable global navigation
            document.body.classList.add('modal-open');
        }

        function closeImageModal() {
            const modal = document.getElementById('diagram-modal');
            modal.classList.remove('active');
            document.body.classList.remove('modal-open');
        }

        function adjustModalZoom(delta) {
            modalScale = Math.max(0.5, Math.min(5, modalScale + delta));
            updateModalTransform();
        }

        function resetModalZoom() {
            modalScale = 1;
            modalPanX = 0;
            modalPanY = 0;
            updateModalTransform();
        }

        function updateModalTransform() {
            const img = document.getElementById('modal-image');
            img.style.transform = `translate(${modalPanX}px, ${modalPanY}px) scale(${modalScale})`;
        }

        function modalNextImage() {
            resetModalZoom(); // Reset zoom immediately
            nextDiagram();
            // Update modal image immediately
            const newSrc = document.getElementById('diagram-image').src;
            document.getElementById('modal-image').src = newSrc;
        }

        function modalPrevImage() {
            resetModalZoom(); // Reset zoom immediately
            prevDiagram();
            // Update modal image immediately
            const newSrc = document.getElementById('diagram-image').src;
            document.getElementById('modal-image').src = newSrc;
        }

        // Drag Logic
        const wrapper = document.getElementById('modal-wrapper');

        wrapper.addEventListener('mousedown', (e) => {
            isDragging = true;
            startX = e.clientX - modalPanX;
            startY = e.clientY - modalPanY;
        });

        window.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            modalPanX = e.clientX - startX;
            modalPanY = e.clientY - startY;
            updateModalTransform();
        });

        window.addEventListener('mouseup', () => {
            isDragging = false;
        });

        // Wheel Zoom
        wrapper.addEventListener('wheel', (e) => {
            e.preventDefault();
            const delta = e.deltaY > 0 ? -0.1 : 0.1;
            adjustModalZoom(delta);
        });

        // Keyboard support for modal
        document.addEventListener('keydown', (e) => {
            if (!document.getElementById('diagram-modal').classList.contains('active')) return;

            if (e.key === 'Escape') closeImageModal();
            // Up/Down now also control carousel navigation
            if (e.key === 'ArrowUp') { e.preventDefault(); modalNextImage(); }
            if (e.key === 'ArrowDown') { e.preventDefault(); modalPrevImage(); }
            if (e.key === 'ArrowLeft') { e.preventDefault(); modalPrevImage(); }
            if (e.key === 'ArrowRight') { e.preventDefault(); modalNextImage(); }

            // Block other keys from triggering global nav
            e.stopPropagation();
        });
    </script>
    <script>
        async function exportDesigns() {
            const button = document.querySelector('button[onclick="exportDesigns()"]');
            const originalText = button.innerHTML;
            button.innerHTML = 'CAPTURING... (0%)';
            button.disabled = true;

            try {
                const zip = new JSZip();
                const views = document.querySelectorAll('section[id^="view-mobile-"], section[id^="view-web-"]');
                const total = views.length;
                let processed = 0;

                // Store current view
                const activeSection = document.querySelector('section.view-section.active');
                const activeId = activeSection ? activeSection.id : null;

                for (const view of views) {
                    const isWeb = view.id.includes('view-web-');
                    const isMobile = view.id.includes('view-mobile-');

                    // 1. ACTIVATE VIEW & SETUP FOR FULL CAPTURE
                    views.forEach(v => {
                        v.style.display = 'none';
                        v.classList.remove('active');
                    });

                    view.style.display = 'block';
                    view.classList.add('active');

                    // Store original styles to restore later
                    const styleRestores = [];
                    const saveStyle = (el) => {
                        styleRestores.push({
                            el,
                            width: el.style.width,
                            height: el.style.height,
                            maxHeight: el.style.maxHeight,
                            overflow: el.style.overflow,
                            overflowY: el.style.overflowY,
                            position: el.style.position,
                            border: el.style.border,
                            borderRadius: el.style.borderRadius,
                            backgroundImage: el.style.backgroundImage // For frame removal
                        });
                    };

                    // --- EXPAND FOR FULL HEIGHT ---
                    if (isWeb) {
                        // FORCE 1920px WIDTH
                        saveStyle(view);
                        view.style.width = '1920px';
                        view.style.maxWidth = 'none';
                        view.style.height = 'auto';
                        view.style.overflow = 'visible';

                        // Find content container
                        const content = view.querySelector('.web-browser-window') || view.querySelector('.device-frame') || view;
                        saveStyle(content);
                        content.style.height = 'auto';
                        content.style.maxHeight = 'none';
                        content.style.overflow = 'visible';

                        // Find nested scrollers
                        const scrollers = view.querySelectorAll('*');
                        scrollers.forEach(el => {
                            const overflowY = window.getComputedStyle(el).overflowY;
                            if (overflowY === 'auto' || overflowY === 'scroll') {
                                saveStyle(el);
                                el.style.height = 'auto';
                                el.style.maxHeight = 'none';
                                el.style.overflow = 'visible';
                            }
                        });

                    } else if (isMobile) {
                        const mobileScreen = view.querySelector('.mobile-screen');
                        if (mobileScreen) {
                            saveStyle(mobileScreen);
                            mobileScreen.style.height = 'auto';
                            mobileScreen.style.maxHeight = 'none';
                            mobileScreen.style.overflow = 'visible';
                            mobileScreen.style.borderRadius = '0';
                        }

                        const deviceFrame = view.querySelector('.device-frame');
                        if (deviceFrame) {
                            saveStyle(deviceFrame);
                            deviceFrame.style.height = 'auto';
                            deviceFrame.style.maxHeight = 'none';
                            deviceFrame.style.backgroundImage = 'none';
                            deviceFrame.style.border = 'none';
                            deviceFrame.style.padding = '0';
                        }
                    }

                    void view.offsetWidth; // Force reflow

                    // 2. MANUAL SANITIZATION (Modifying LIVE DOM)
                    // We must remove ALL external images/backgrounds to prevent Taint.
                    // onclone is sometimes too late or buggy with CORS off in 1.4.1
                    const restoreUpdates = [];
                    const allElements = view.querySelectorAll('*');

                    // Helper to protect an element
                    const protectStyle = (el, prop) => {
                        const val = window.getComputedStyle(el)[prop];
                        if (val && val !== 'none' && val.includes('url(')) {
                            restoreUpdates.push({ el, prop, val: el.style[prop] });
                            el.style[prop] = 'none';
                            if (prop === 'backgroundImage') el.style.backgroundColor = '#1a1a1a';
                        }
                    };

                    allElements.forEach(el => {
                        // 1. Check all URL-capable properties (Dashed syntax for getPropertyValue)
                        protectStyle(el, 'background-image');
                        protectStyle(el, 'mask-image');
                        protectStyle(el, '-webkit-mask-image');
                        protectStyle(el, 'border-image');
                        protectStyle(el, 'list-style-image');

                        // 2. Handle IMG tags - REPLACE THEM ENTIRELY
                        if (el.tagName === 'IMG') {
                            const rect = el.getBoundingClientRect();
                            const w = rect.width > 0 ? rect.width + 'px' : (el.width + 'px' || '100%');
                            const h = rect.height > 0 ? rect.height + 'px' : (el.height + 'px' || '100px');

                            const placeholder = document.createElement('div');
                            placeholder.style.cssText = el.style.cssText; // Copy inline styles
                            placeholder.style.width = w;
                            placeholder.style.height = h;
                            placeholder.style.backgroundColor = '#1a1a1a';
                            placeholder.style.border = '1px dashed #333';
                            placeholder.style.display = 'flex';
                            placeholder.style.alignItems = 'center';
                            placeholder.style.justifyContent = 'center';
                            placeholder.innerHTML = '<span style="color:#444; font-size:10px;">IMG</span>';
                            placeholder.className = el.className;

                            if (el.parentNode) {
                                el.parentNode.insertBefore(placeholder, el);
                                el.style.display = 'none';

                                const origSrc = el.src;
                                const origSrcset = el.srcset;
                                el.removeAttribute('src');
                                el.removeAttribute('srcset');

                                restoreUpdates.push({
                                    type: 'img_replacement',
                                    original: el,
                                    placeholder: placeholder,
                                    src: origSrc,
                                    srcset: origSrcset
                                });
                            }
                        }
                    });

                    // Wait a bit
                    await new Promise(r => setTimeout(r, 100));

                    // target to capture: for mobile, maybe just the mobile-screen?
                    const captureTarget = isMobile ? (view.querySelector('.mobile-screen') || view) : view;

                    const canvas = await html2canvas(captureTarget, {
                        backgroundColor: '#020202',
                        scale: 2,
                        logging: false,
                        useCORS: false,
                        allowTaint: false,
                        windowWidth: isWeb ? 1920 : undefined, // Hint for media queries
                        ignoreElements: (element) => {
                            if (element.tagName === 'IFRAME') return true;
                            if (element.tagName === 'SCRIPT') return true;
                            if (element.tagName === 'STYLE') return false;
                            if (element.tagName === 'LINK' && element.rel === 'stylesheet') return false;
                            return false;
                        }
                    });

                    // RESTORE SANITIZATION
                    restoreUpdates.reverse().forEach(item => {
                        if (item.type === 'img_replacement') {
                            item.placeholder.remove();
                            item.original.style.display = '';
                            if (item.src) item.original.src = item.src;
                            if (item.srcset) item.original.srcset = item.srcset;
                        } else {
                            item.el.style.setProperty(item.prop, item.val, item.priority);
                            if (item.prop === 'background-image') item.el.style.removeProperty('background-color');
                        }
                    });

                    // RESTORE LAYOUT STYLES
                    styleRestores.reverse().forEach(item => {
                        item.el.style.width = item.width;
                        item.el.style.height = item.height;
                        item.el.style.maxHeight = item.maxHeight;
                        item.el.style.overflow = item.overflow;
                        item.el.style.overflowY = item.overflowY;
                        item.el.style.position = item.position;
                        item.el.style.border = item.border;
                        item.el.style.borderRadius = item.borderRadius;
                        item.el.style.backgroundImage = item.backgroundImage;
                    });

                    const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));
                    if (blob) {
                        const cleanName = view.id.replace('view-', '') + '.png';
                        zip.file(cleanName, blob);
                    }

                    processed++;
                    button.innerHTML = `CAPTURING... (${Math.round((processed / total) * 100)}%)`;
                }

                // Restore original view state
                views.forEach(v => {
                    v.style.display = '';
                    v.classList.remove('active');
                    if (v.id === activeId) v.classList.add('active');
                });

                if (activeId) {
                    const target = document.getElementById(activeId);
                    if (target) target.classList.add('active');
                }

                button.innerHTML = 'ZIPPING...';
                const content = await zip.generateAsync({ type: "blob" });
                saveAs(content, "bhao-design-screens.zip");

                button.innerHTML = 'DONE! DOWNLOADED';
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.disabled = false;
                }, 3000);

            } catch (error) {
                console.error(error);
                alert('Export failed: ' + error.message);
                button.innerHTML = 'FAILED';
                button.disabled = false;
            }
        }
    </script>
</body>

</html>